{"version":3,"sources":["components/home/Form.js","components/home/Recover.js","components/home/Home.js","components/loading/Loading.js","components/principal/cards/Add.js","components/principal/cards/Edit.js","components/principal/cards/Help.js","components/principal/cards/Search.js","push-notifications.js","components/principal/cards/Settings.js","components/principal/cards/Card.js","components/principal/header/Header.js","components/principal/toolbar/Toolbar.js","components/principal/calendar/Calendar.js","components/principal/Principal.js","App.js","index.js"],"names":["Form","form","setAuth","useContext","authContext","useState","formType","setFormType","message","setMessage","brithFocus","setBirthFocus","email","name","birthday","password","confirm","singupFilds","setSingupFilds","loginFlids","setLoginFilds","passwordValidate","setPasswordValidated","onSubmit","e","preventDefault","send","fetch","method","body","JSON","stringify","headers","credentials","then","res","status","json","data","auth","catch","err","console","log","type","placeholder","value","onChange","target","required","autoComplete","className","onFocus","onBlur","onClick","Recover","setShowRecover","setEmail","src","alt","Home","showRecover","style","backgroundImage","Loading","abrMonths","Add","principalContext","setUpdateCalendar","event","day","month","year","personName","reminders","title","date","formFields","setFormFields","timeBefore","numBefore","reminder","setReminder","submitForm","Date","submitReminders","map","ele","eleR","dateSub","split","dateInMs","getTime","oneDay","submit","htmlFor","id","min","max","step","m","i","data-testid","newReminder","remindersArry","push","addReminder","splice","removeReminder","Edit","edit","showCard","setShowCard","AnniversaryType","getDate","getMonth","getFullYear","useEffect","removeReminders","_id","rr","eventToDelete","eventId","remindersId","forEach","deleteEvent","xmlns","viewBox","data-name","d","Help","Search","setSearchFilters","from","to","filds","setFilds","searchEvents","pattern","pushServerPublicKey","urlBase64ToUint8Array","base64String","base64","repeat","length","replace","rawData","window","atob","outputArray","Uint8Array","charCodeAt","askUserPermission","a","Notification","requestPermission","createNotificationSubscription","navigator","serviceWorker","ready","pushManager","subscribe","userVisibleOnly","applicationServerKey","postSubscription","subscription","response","Settings","emailNotification","setEmailNotification","activateBnotification","register","prev","padding","Card","on","setOn","setTitle","setForm","add","document","getElementById","matrix","getComputedStyle","transform","prevOn","setTimeout","switchForm","sc","Header","alertClass","setAlertClass","elem","scrollTop","pageYOffset","documentElement","elePos","getBoundingClientRect","top","scrollTo","goToMonth","onAnimationEnd","Toolbar","lastId","monthNames","monthColors","Calendar","calendarData","setCalendarData","updateCalendar","setEdit","searchFilters","searchResults","setSearchResults","loadingData","setLoadingData","fetchData","fromMonth","fromDay","toMonth","toDay","filterData","parseInt","lastMonth","nameFilter","filter","RegExp","toLowerCase","test","Object","keys","typeFilter","getAge","ageInMs","now","ageInYears","Math","floor","backgroundColor","j","color","k","eventEdit","width","height","React","createContext","Principal","firstFetch","setFirstFetch","mailNotification","Provider","Message","display","setStyle","App","undefined","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ed1d46ab.chunk.js","sourcesContent":["import React, { useContext, useState } from 'react'\r\nimport {authContext} from '../../App'\r\n\r\nexport default function Form() {\r\n   const setAuth= useContext(authContext);\r\n   const [formType, setFormType]= useState('logIn');\r\n   const[message, setMessage]= useState('');\r\n   const [brithFocus, setBirthFocus]= useState('text');\r\n   const [singupFilds, setSingupFilds]= useState({\r\n       email:'',\r\n       name:'',\r\n       birthday:'',\r\n       password:'',\r\n       confirm:''\r\n   });\r\n\r\n   const [loginFlids, setLoginFilds]= useState({\r\n       email:'',\r\n       password:''\r\n   });\r\n\r\n    const formSwitch=()=>{\r\n        if(formType ==='logIn'){\r\n            setFormType('singUp');\r\n        }else{\r\n            setFormType('logIn');\r\n        }\r\n    }\r\n\r\n    const handelLogin=(e)=>{\r\n        e.preventDefault();\r\n            let send={\r\n                email:loginFlids.email,\r\n                password: loginFlids.password\r\n            }\r\n            fetch('http://localhost:4000/api/login',{\r\n                method:'POST',\r\n                body: JSON.stringify(send),\r\n                headers:{\"Content-type\": \"application/json; charset=UTF-8\"},\r\n                credentials: 'include'\r\n            })\r\n            .then(res=> {\r\n                if(res.status === 401){\r\n                    setMessage('The email address or password is incorrect.');\r\n                }else{\r\n                   return res.json()\r\n                }\r\n            })\r\n            .then(data=>{ \r\n                \r\n                if(data){\r\n                    setAuth(data.auth);\r\n                }\r\n                //console.log(\"fetch form.js log in\");\r\n            })\r\n            .catch(err => console.log(err));\r\n\r\n    }\r\n\r\n    const  [passwordValidate, setPasswordValidated]= useState(true);\r\n\r\n    const handelSingup=(e)=>{\r\n        e.preventDefault();\r\n        if(singupFilds.password === singupFilds.confirm){\r\n            setPasswordValidated(true);\r\n            let send={\r\n                email:singupFilds.email,\r\n                name:singupFilds.name,\r\n                birthday: singupFilds.birthday,\r\n                password: singupFilds.password\r\n            }\r\n            fetch('http://localhost:4000/api/singup',{\r\n                method:'POST',\r\n                body: JSON.stringify(send),\r\n                headers:{\"Content-type\": \"application/json; charset=UTF-8\"},\r\n                credentials: 'include'\r\n            })\r\n            .then(res=> res.json())\r\n            .then(data=>{\r\n               \r\n                if(data.message){\r\n                    setMessage(data.message);\r\n                }else{\r\n                    setAuth(data.auth);\r\n                }\r\n                //console.log(\"fetch form.js sing up\");\r\n            })\r\n            .catch(err => console.log(err));\r\n\r\n        }else{\r\n            setPasswordValidated(false);\r\n        }\r\n\r\n    }\r\n\r\n      let form;\r\n    if(formType === 'logIn'){\r\n        form= <form onSubmit= {handelLogin}>\r\n            <input type=\"email\" placeholder=\"Enter your Email\" name=\"emial\" value={loginFlids.email}\r\n         onChange={(e)=>setLoginFilds({...loginFlids, email:e.target.value })} required/>\r\n            <input type=\"password\" placeholder=\"Enter your Password\" name=\"password\" value={loginFlids.password}\r\n         onChange={(e)=>setLoginFilds({...loginFlids, password:e.target.value })} autoComplete=\"on\" required/>\r\n         {message ? (<p className=\"alert-form\">{message}</p>) : (null)}\r\n            <button type=\"submit\" value=\"Submit\">Log In</button>\r\n            </form>;\r\n    }else{\r\n        form= <form onSubmit={handelSingup}>\r\n        <input type=\"email\" placeholder=\"Enter your Email\" name=\"email\" value={singupFilds.email}\r\n         onChange={(e)=>setSingupFilds({...singupFilds, email:e.target.value })} required/>\r\n        <input type=\"text\" placeholder=\"Enter your Name\" name=\"name\" value={singupFilds.name}\r\n         onChange={(e)=>setSingupFilds({...singupFilds, name:e.target.value })} required/>\r\n        <input type={brithFocus} onFocus={()=>setBirthFocus('date')} onBlur={()=>setBirthFocus('text')} \r\n        placeholder=\"Enter your Birthday\" name=\"birthday\" value={singupFilds.birthday}\r\n         onChange={(e)=>setSingupFilds({...singupFilds, birthday:e.target.value })} required/>\r\n        <input type=\"password\" placeholder=\"Enter your Password\" name=\"password\" value={singupFilds.password}\r\n         onChange={(e)=>setSingupFilds({...singupFilds, password:e.target.value })} required autoComplete=\"off\"/>\r\n        <input type=\"password\" placeholder=\"Confirm Password\" name=\"confim\" value={singupFilds.confirm}\r\n         onChange={(e)=>setSingupFilds({...singupFilds, confirm:e.target.value })} required autoComplete=\"off\"/>\r\n         {!passwordValidate ? (<p className=\"alert-form\">Passwords don't match</p>) : (<p></p>)}\r\n         {message? (<p className=\"alert-form\">{message}</p>) : (null)}\r\n        <button type=\"submit\">Sing Up</button>\r\n        </form>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"form-container\">\r\n          {form}\r\n            <p>or</p>\r\n            <p className=\"red\" onClick={formSwitch}>{formType==='logIn' ? ('Sing Up') : ('Log In')}</p>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\n\r\nexport default function Recover({setShowRecover}) {\r\n    const [email, setEmail]= useState('');\r\n    const[message, setMessage]= useState('');\r\n\r\n    const handelSubmit=(e)=>{\r\n        e.preventDefault();\r\n        setMessage(\"Loading...\");\r\n        //console.log(email);\r\n        fetch('http://localhost:4000/recover',{\r\n            method:'POST',\r\n            body: JSON.stringify({email}),\r\n            headers:{\"Content-type\": \"application/json; charset=UTF-8\"},\r\n            credentials: 'include'\r\n        })\r\n        .then(res=>res.json())\r\n        .then(data=>{\r\n                setMessage(data.message);   \r\n        });\r\n        setEmail('');\r\n    }\r\n    return (\r\n        <div className=\"recover-container\">\r\n        <div className=\"recover\">\r\n            <img src=\"img/exit.svg\" alt=\"close\" onClick={()=>setShowRecover(false)}/>\r\n            <h3>Enter your email to recover your password</h3>\r\n            <form onSubmit={handelSubmit}>\r\n                <input type=\"email\" placeholder=\"Email\" name=\"email\" value={email} onChange={(e)=> setEmail(e.target.value)} required />\r\n                <button type=\"submit\">Submit</button>\r\n            </form>\r\n            <p>{message}</p>\r\n            <p>You are going to receive an email with a link to recover your password, this link is valid for 24hs.</p>\r\n            \r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport Form from './Form';\r\nimport './home.css';\r\nimport Recover from './Recover';\r\n\r\nexport default function Home() {\r\n    const [showRecover, setShowRecover]= useState(false);\r\n    return (\r\n        <div className=\"main-container\">\r\n            {showRecover ? (<Recover setShowRecover={setShowRecover}/>) : (null)}\r\n            <header style={{ backgroundImage: `url(/img/header.svg)`}}>\r\n                <img src=\"img/logo1.svg\" alt=\"Happy Day\"></img>\r\n                <h2>Birthdays and Anniversaries Reminder</h2>\r\n            </header>\r\n            <main>\r\n            <Form/>\r\n            <div className=\"card\">\r\n                <h3>Start in 3 simple steps:</h3>\r\n                <div className=\"step\">\r\n                    <div className=\"num\">1</div><p>Sing up or log in.</p>\r\n                </div>\r\n                <div className=\"step\">\r\n                    <div className=\"num\">2</div><p>Add the birthdays or anniversaries of your friends and family.</p>\r\n                </div>\r\n                <div className=\"step\">\r\n                    <div className=\"num\">3</div><p>Allows the application to send notifications  \r\n                        (You will also receive the reminders in your email).</p>\r\n                </div>\r\n            </div>\r\n            </main>\r\n            <footer  style={{ backgroundImage: `url(/img/footer.svg)`}}>\r\n            <p>Forgot Your Password? <span className=\"red\" onClick={()=>setShowRecover(true)} >Recover it</span></p> \r\n            </footer>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport \"./loading.css\"\r\n\r\nexport default function Loading() {\r\n    return (\r\n        <div className=\"loading-container\">\r\n        <img src=\"img/logo1.svg\" alt=\"Happy Day\" className=\"loading-logo\"/>\r\n        <div className=\"wheel-container\">\r\n        <img src=\"img/loading.svg\" alt=\"loading\" className=\"loading-wheel\" />\r\n        <p>Loading...</p>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useState } from \"react\";\r\nimport './cards.css';\r\nimport{principalContext} from '../Principal';\r\n\r\nconst abrMonths = [ \"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];\r\n\r\nexport default function Add() {\r\n\r\n  const { setUpdateCalendar, setMessage}= useContext(principalContext);\r\n\r\n  const [formFields, setFormFields]= useState({\r\n    event:'birthday',\r\n    type:'',\r\n    day:'',\r\n    month:abrMonths[0],\r\n    year:'',\r\n    personName:'',\r\n    reminders:[{title:'The Same Day', date:''}]\r\n  });\r\n\r\n  const[reminder, setReminder]= useState({\r\n    timeBefore:'same-day',\r\n    numBefore:''\r\n  });\r\n\r\n  const addReminder=(e)=>{\r\n    e.preventDefault();\r\n\r\n    let newReminder={\r\n      title:'',\r\n      date:'',\r\n    }\r\n\r\n    switch (reminder.timeBefore) {\r\n      case 'same-day':\r\n        newReminder.title= 'The Same Day';\r\n        break;\r\n      case 'days-before':\r\n        newReminder.title= `${reminder.numBefore} Days Before`;\r\n        break;\r\n      case 'weeks-before':\r\n        newReminder.title= `${reminder.numBefore} Weeks Before`\r\n        break; \r\n    \r\n      default:\r\n        break;\r\n    }\r\n\r\n    let remindersArry= formFields.reminders;\r\n    remindersArry.push(newReminder);\r\n\r\n    setFormFields({...formFields, reminders: remindersArry});\r\n  }\r\n\r\n  const removeReminder=(i)=>{\r\n    let remindersArry= formFields.reminders\r\n    remindersArry.splice(i, 1);\r\n\r\n    setFormFields({...formFields, reminders:remindersArry}); \r\n  }\r\n\r\n  const submit=(e)=>{\r\n    e.preventDefault();\r\n    setMessage(\"\");\r\n    let submitForm={\r\n      event:formFields.event,\r\n      type: formFields.type,\r\n      date: new Date(`${formFields.month} ${formFields.day} ${formFields.year === '' ? '9999' : formFields.year}`),\r\n      personName: formFields.personName,\r\n      reminders:[]\r\n    }\r\n\r\n    const submitReminders= formFields.reminders.map((ele)=>{\r\n      let eleR={title: ele.title};\r\n      if(ele.title === 'The Same Day'){\r\n        eleR.date= submitForm.date;\r\n      }else{\r\n        const dateSub= ele.title.split(' ',2);\r\n        let dateInMs= submitForm.date.getTime();\r\n        const oneDay=1000*60*60*24;\r\n        const oneWeek= oneDay * 7;\r\n        if(dateSub[1]==='Days'){\r\n          eleR.date= new Date(dateInMs - oneDay * dateSub[0]);\r\n        }else{\r\n          eleR.date= new Date(dateInMs - oneWeek * dateSub[0]);\r\n        }\r\n      }\r\n      return eleR;\r\n    });\r\n\r\n    submitForm ={...submitForm, reminders: submitReminders};\r\n\r\n    fetch('http://localhost:4000/api/add',{\r\n                method:'POST',\r\n                body: JSON.stringify(submitForm),\r\n                headers:{\"Content-type\": \"application/json; charset=UTF-8\"},\r\n                credentials: 'include'\r\n            })\r\n            .then(res=> res.json())\r\n            .then(data=>{\r\n                //console.log('fetch add.js')\r\n                setMessage(data.message);\r\n                setUpdateCalendar(true);\r\n              })\r\n            .catch(err => console.log(err));\r\n\r\n            setFormFields({\r\n              event:'birthday',\r\n              type:'',\r\n              day:'',\r\n              month:abrMonths[0],\r\n              year:'',\r\n              personName:'',\r\n              reminders:[{title:'The Same Day', date:''}]\r\n            });\r\n  }\r\n\r\n\r\n  return (\r\n   \r\n      <form className=\"card-form\" onSubmit={(e)=>submit(e)}>\r\n\r\n        <div className=\"grup\">\r\n          <div className=\"label\">\r\n            <label htmlFor=\"event\">Event</label>\r\n            <select name=\"event\" id=\"event\" onChange={(e)=>setFormFields({...formFields, event:e.target.value})} \r\n            value={formFields.event} required>\r\n              <option value=\"birthday\">Birthday</option>\r\n              <option value=\"anniversary\">Anniversary</option>\r\n            </select>\r\n          </div>\r\n\r\n          {formFields.event === 'anniversary' ?\r\n          ( <div className=\"label\">\r\n          <label htmlFor=\"type\">Type</label>\r\n          <input type=\"text\" name=\"type\" id=\"type\"  onChange={(e)=>setFormFields({...formFields, type: e.target.value})}\r\n          value={formFields.type}/>\r\n        </div>) : (null)}\r\n         \r\n\r\n        </div>\r\n\r\n        <div className=\"grup\" >\r\n            <div className=\"label\">\r\n              <label htmlFor=\"day\">Day</label>\r\n              <input className=\"day\" id=\"day\" type=\"number\" name=\"day\" min=\"1\" max=\"31\" step=\"1\" \r\n              onChange={(e)=>setFormFields({...formFields, day:e.target.value})} \r\n              value={formFields.day} required/>\r\n            </div>\r\n            <div className=\"label\">\r\n              <label htmlFor=\"month\">Month</label>\r\n              <select name=\"month\" id=\"month\" onChange={(e)=>setFormFields({...formFields, month:e.target.value})} \r\n              value={formFields.month} required>\r\n                {abrMonths.map((m, i) => {\r\n                  return (\r\n                    <option key={i} value={m}>\r\n                      {m}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n            </div>\r\n            <div className=\"label\">\r\n              <label htmlFor=\"year\">Year</label>\r\n              <input className=\"year\" id=\"year\" type=\"number\"name=\"year\" placeholder=\"any\" max=\"9999\"\r\n              onChange={e=>setFormFields({...formFields, year:e.target.value})}\r\n              value={formFields.year}/>\r\n            </div>\r\n        </div>\r\n\r\n        <div className=\"label\">\r\n            <label htmlFor=\"name\">Name</label>\r\n            <input type=\"text\" id=\"name\" name=\"name\" onChange={e=>setFormFields({...formFields, personName: e.target.value})} \r\n            value={formFields.personName} required/>\r\n        </div>\r\n\r\n        <div className=\"grup\">\r\n            <div className=\"grup\">\r\n            <label htmlFor=\"time-before\">Add Reminders</label>\r\n            <select name=\"time-before\" id=\"time-before\" onChange={e=>setReminder({...reminder, timeBefore:e.target.value})} \r\n            value={reminder.timeBefore} >\r\n                <option value=\"same-day\">The Same Day</option>\r\n                <option value=\"days-before\">Days Before</option>\r\n                <option value=\"weeks-before\">Weeks Before</option>\r\n            </select>\r\n            {reminder.timeBefore !== \"same-day\" ?\r\n            (<input className=\"a-r-n\" type=\"number\" name=\"num-before\" min=\"1\" step=\"1\" data-testid=\"numBefore\"\r\n            onChange={e=>setReminder({...reminder, numBefore: e.target.value})}\r\n            value={reminder.numBefore}/>) : (null)}\r\n            \r\n            <button className=\"a-r-b\" onClick={(e)=>addReminder(e)}>Add</button>\r\n            </div>\r\n            <ul className=\"reminders\">\r\n\r\n              {\r\n                formFields.reminders.map((ele,i)=>{\r\n                  return(\r\n                    <li key={i}>{ele.title} <img src=\"img/drop.svg\" alt=\"drop\" onClick={()=>removeReminder(i)} /></li>\r\n                  );\r\n                })\r\n              }\r\n            </ul>\r\n        </div>\r\n                <div className=\"card-form-submit\">\r\n                    <button type=\"submit\">Add Event</button>\r\n                </div>\r\n      </form>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport './cards.css';\r\nimport{principalContext} from '../Principal';\r\n\r\nconst abrMonths = [ \"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];\r\n\r\nexport default function Edit() {\r\n\r\n  const {setUpdateCalendar, edit, showCard, setShowCard, setMessage}= useContext(principalContext);\r\n\r\n  const [formFields, setFormFields]= useState({\r\n    event:edit.type,\r\n    type: edit.AnniversaryType,\r\n    day: new Date(edit.date).getDate(),\r\n    month:abrMonths[new Date(edit.date).getMonth()],\r\n    year: new Date(edit.date).getFullYear() > 9000 ? '' :  new Date(edit.date).getFullYear(),\r\n    personName:edit.personName,\r\n    reminders:edit.reminders\r\n  });\r\n  \r\n  //add info in fields\r\n  useEffect(()=>{\r\n      setFormFields({\r\n        event:edit.type,\r\n        type: edit.AnniversaryType,\r\n        day: new Date(edit.date).getDate(),\r\n        month:abrMonths[new Date(edit.date).getMonth()],\r\n        year: new Date(edit.date).getFullYear() > 9000 ? '' :  new Date(edit.date).getFullYear(),\r\n        personName:edit.personName,\r\n        reminders:edit.reminders\r\n      });\r\n  },[edit,showCard]);\r\n\r\n  const[reminder, setReminder]= useState({\r\n    timeBefore:'same-day',\r\n    numBefore:''\r\n  });\r\n\r\n  const addReminder=(e)=>{\r\n    e.preventDefault();\r\n\r\n    let newReminder={\r\n      name:'',\r\n      date:'',\r\n    }\r\n\r\n    switch (reminder.timeBefore) {\r\n      case 'same-day':\r\n        newReminder.name= 'The Same Day';\r\n        break;\r\n      case 'days-before':\r\n        newReminder.name= `${reminder.numBefore} Days Before`;\r\n        break;\r\n      case 'weeks-before':\r\n        newReminder.name= `${reminder.numBefore} Weeks Before`\r\n        break; \r\n    \r\n      default:\r\n        break;\r\n    }\r\n\r\n    let remindersArry= [...formFields.reminders];\r\n    remindersArry.push(newReminder);\r\n\r\n    setFormFields({...formFields, reminders: remindersArry});\r\n  }\r\n\r\n  const removeReminder=(i)=>{\r\n    let remindersArry= [...formFields.reminders];\r\n    let ele= remindersArry.splice(i, 1);\r\n    if(formFields.removeReminders){\r\n      let rr=formFields.removeReminders;\r\n      rr.push(ele[0]._id);\r\n      setFormFields({...formFields, reminders:remindersArry, removeReminders: rr});\r\n    }else{\r\n      setFormFields({...formFields, reminders:remindersArry, removeReminders: [ele[0]._id]});\r\n    }\r\n  }\r\n\r\n  const submit=(e)=>{\r\n    e.preventDefault();\r\n     setMessage(\"\");\r\n    let submitForm={\r\n      event:formFields.event,\r\n      type: formFields.event === \"birthday\"? '' : formFields.type,\r\n      date: new Date(`${formFields.month} ${formFields.day} ${formFields.year === '' ? '9999' : formFields.year}`),\r\n      personName: formFields.personName,\r\n      reminders:[],\r\n      removeReminders: formFields.removeReminders ? formFields.removeReminders : [],\r\n      _id: edit._id\r\n    }\r\n\r\n    const submitReminders= formFields.reminders.map((ele)=>{\r\n  \r\n      let eleR={name: ele.name,\r\n        event: edit._id,\r\n        date: ele.date ? ele.date : null,\r\n        _id: ele._id ? ele._id : null\r\n      };\r\n      if(! eleR.date){\r\n        if(ele.name === 'The Same Day'){\r\n          eleR.date= submitForm.date;\r\n        }else{\r\n          const dateSub= ele.name.split(' ',2);\r\n          let dateInMs= submitForm.date.getTime();\r\n          const oneDay=1000*60*60*24;\r\n          const oneWeek= oneDay * 7;\r\n          if(dateSub[1]==='Days'){\r\n            eleR.date= new Date(dateInMs - oneDay * dateSub[0]);\r\n          }else{\r\n            eleR.date= new Date(dateInMs - oneWeek * dateSub[0]);\r\n          }\r\n        }\r\n      }\r\n      return eleR;\r\n    });\r\n\r\n    submitForm ={...submitForm, reminders: submitReminders};\r\n\r\n    fetch('http://localhost:4000/api/edit',{\r\n                method:'PUT',\r\n                body: JSON.stringify(submitForm),\r\n                headers:{\"Content-type\": \"application/json; charset=UTF-8\"},\r\n                credentials: 'include'\r\n            })\r\n            .then(res=> res.json())\r\n            .then(data=>{\r\n                //console.log(\"fetch edit.js edit\");\r\n                setMessage(data.message);\r\n                if(data.message ===\"Event Edited\"){\r\n                  setUpdateCalendar(true);\r\n                }\r\n              })\r\n            .catch(err => console.log(err));\r\n\r\n            setShowCard('none');\r\n  }\r\n\r\n  const deleteEvent=(e)=>{\r\n    e.preventDefault();\r\n    setMessage(\"\");\r\n    //console.log('delete');\r\n    const eventToDelete={\r\n      eventId: edit._id,\r\n      remindersId:[]\r\n  }\r\n\r\n  edit.reminders.forEach(ele=>{\r\n    eventToDelete.remindersId.push(ele._id);\r\n  });\r\n\r\n  fetch('http://localhost:4000/api/delete',{\r\n    method:'DELETE',\r\n    body: JSON.stringify(eventToDelete),\r\n    headers:{\"Content-type\": \"application/json; charset=UTF-8\"},\r\n    credentials: 'include'\r\n  })\r\n  .then(res=> res.json())\r\n  .then(data=>{\r\n   // console.log(\"fetch edit.js delete\");\r\n    setMessage(data.message);\r\n    setUpdateCalendar(true);\r\n    \r\n    })\r\n  .catch(err => console.log(err));  \r\n  setShowCard('none');\r\n\r\n  } \r\n\r\n  return (\r\n   \r\n      <form className=\"card-form\" onSubmit={(e)=>submit(e)}>\r\n\r\n        <div className=\"grup\">\r\n          <div className=\"label\">\r\n            <label htmlFor=\"editEvent\">Event</label>\r\n            <select name=\"editEvent\" id=\"editEvent\" onChange={(e)=>setFormFields({...formFields, event:e.target.value})} \r\n            value={formFields.event} required>\r\n              <option value=\"birthday\">Birthday</option>\r\n              <option value=\"anniversary\">Anniversary</option>\r\n            </select>\r\n          </div>\r\n\r\n          {formFields.event === 'anniversary' ?\r\n          ( <div className=\"label\">\r\n          <label htmlFor=\"editType\">Type</label>\r\n          <input type=\"text\" name=\"editType\" id=\"editType\"  onChange={(e)=>setFormFields({...formFields, type: e.target.value})}\r\n          value={formFields.type}/>\r\n        </div>) : (null)}\r\n         \r\n\r\n        </div>\r\n\r\n        <div className=\"grup\" >\r\n            <div className=\"label\">\r\n              <label htmlFor=\"editDay\">Day</label>\r\n              <input className=\"day\" type=\"number\" name=\"editDay\" id=\"editDay\" min=\"1\" max=\"31\" step=\"1\" \r\n              onChange={(e)=>setFormFields({...formFields, day:e.target.value})} \r\n              value={formFields.day} required/>\r\n            </div>\r\n            <div className=\"label\">\r\n              <label htmlFor=\"editMonth\">Month</label>\r\n              <select name=\"editMonth\" id=\"editMonth\" onChange={(e)=>setFormFields({...formFields, month:e.target.value})} \r\n              value={formFields.month} required>\r\n                {abrMonths.map((m, i) => {\r\n                  return (\r\n                    <option key={i} value={m}>\r\n                      {m}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n            </div>\r\n            <div className=\"label\">\r\n              <label htmlFor=\"editYear\">Year</label>\r\n              <input className=\"year\" type=\"number\"name=\"editYear\" id=\"editYear\" placeholder=\"any\" max=\"9999\"\r\n              onChange={e=>setFormFields({...formFields, year:e.target.value})}\r\n              value={formFields.year}/>\r\n            </div>\r\n        </div>\r\n\r\n        <div className=\"label\">\r\n            <label htmlFor=\"editName\">Name</label>\r\n            <input type=\"text\" name=\"editName\" id=\"editName\" onChange={e=>setFormFields({...formFields, personName: e.target.value})} \r\n            value={formFields.personName} required/>\r\n        </div>\r\n\r\n        <div className=\"grup\">\r\n            <div className=\"grup\">\r\n            <label htmlFor=\"time-before-edit\">Add Reminders</label>\r\n            <select name=\"time-before-edit\" id=\"time-before-edit\" onChange={e=>setReminder({...reminder, timeBefore:e.target.value})} \r\n            value={reminder.timeBefore} >\r\n                <option value=\"same-day\">The Same Day</option>\r\n                <option value=\"days-before\">Days Before</option>\r\n                <option value=\"weeks-before\">Weeks Before</option>\r\n            </select>\r\n            {reminder.timeBefore !== \"same-day\" ?\r\n            (<input className=\"a-r-n\" type=\"number\" name=\"num-before\" min=\"1\" step=\"1\" data-testid=\"num-before-test\"\r\n            onChange={e=>setReminder({...reminder, numBefore: e.target.value})}\r\n            value={reminder.numBefore}/>) : (null)}\r\n            \r\n            <button className=\"a-r-b\" onClick={(e)=>addReminder(e)}>Add</button>\r\n            </div>\r\n            <ul className=\"reminders\">\r\n\r\n              {\r\n                formFields.reminders.map((ele,i)=>{\r\n                  return(\r\n                    <li key={i}>{ele.name} <img src=\"img/drop.svg\" alt=\"drop\" onClick={()=>removeReminder(i)} /></li>\r\n                  );\r\n                })\r\n              }\r\n            </ul>\r\n        </div>\r\n                <div className=\"card-form-submit drop\">\r\n                    <button type=\"submit\">Edit Event</button>\r\n                    <button className=\"btn-drop\" onClick={(e)=> deleteEvent(e)}>\r\n                    <svg className=\"btn-drop-img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12.18 13.92\">\r\n                      <defs></defs>\r\n                      <title>drop</title>\r\n                      <g id=\"Layer_2\" data-name=\"Layer 2\"><g id=\"Layer_2-2\" data-name=\"Layer 2\">\r\n                        <path className=\"cls-1\" d=\"M.87,12.61a1.31,1.31,0,0,0,1.3,1.31H10a1.31,1.31,0,0,0,1.31-1.31h0V3.48H.87Zm7.39-7a.44.44,0,0,1,.44-.43.43.43,0,0,1,.43.43v6.09a.44.44,0,0,1-.43.44.44.44,0,0,1-.44-.44Zm-2.61,0a.44.44,0,0,1,.44-.43.43.43,0,0,1,.43.43v6.09a.44.44,0,0,1-.43.44.44.44,0,0,1-.44-.44ZM3,5.65a.44.44,0,0,1,.44-.43.43.43,0,0,1,.43.43v6.09a.44.44,0,0,1-.43.44A.44.44,0,0,1,3,11.74ZM11.74.87H8.48L8.23.36A.66.66,0,0,0,7.64,0H4.53A.66.66,0,0,0,4,.36L3.7.87H.43A.43.43,0,0,0,0,1.3v.87a.44.44,0,0,0,.43.44H11.74a.44.44,0,0,0,.44-.44V1.3A.44.44,0,0,0,11.74.87Z\"/>\r\n                        </g></g>\r\n                      </svg>\r\n                    </button>\r\n                </div>\r\n      </form>\r\n  );\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Help() {\r\n    return (\r\n        <div className=\"card-form\">\r\n\r\n            <ul className=\"help\">\r\n                <li>click on an event to edit it or delete it</li>\r\n                <li>click on <img src=\"img/add.svg\" alt=\"add\"/> to add a new event</li>\r\n                <li>click on <img src=\"img/search.svg\" alt=\"search\"/> to search an event</li>\r\n                <li>click on <img src=\"img/settings.svg\" alt=\"settings\"/> to edit notifications settings</li>\r\n                <li>click on the months icons to go to a specific month</li>\r\n                <li>click on <img src=\"img/logout.svg\" alt=\"logout\"/> to logout</li>\r\n            </ul>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport {principalContext} from '../Principal';\r\n\r\nexport default function Search() {\r\n    const {setSearchFilters, setShowCard}= useContext(principalContext);\r\n    const [filds, setFilds]= useState({\r\n        from:'',\r\n        to:'',\r\n        name: '',\r\n        type: 'any'\r\n    });\r\n\r\n    const searchEvents=(e)=>{\r\n        e.preventDefault();\r\n\r\n        setSearchFilters(filds);\r\n \r\n        setShowCard('none');\r\n\r\n        setFilds({\r\n            from:'',\r\n            to:'',\r\n            name: '',\r\n            type: 'any'\r\n        });\r\n    }\r\n    return (\r\n        <form className=\"card-form\" onSubmit={(e)=>searchEvents(e)}>\r\n\r\n            <div className=\"grup\">\r\n                <div className=\"label\">\r\n                    <label htmlFor=\"from\">From</label>\r\n                    <input className=\"form-to\" id=\"from\" type=\"text\" placeholder=\"mm/dd\" pattern=\"\\d{2}/\\d{2}\" \r\n                    value={filds.from} onChange={(e)=> setFilds({...filds, from: e.target.value})}/>\r\n                </div>\r\n                <div className=\"label\">\r\n                    <label htmlFor=\"to\">To</label>\r\n                    <input className=\"form-to\" type=\"text\" id=\"to\" placeholder=\"mm/dd\" pattern=\"\\d{2}/\\d{2}\"\r\n                    value={filds.to} onChange={(e)=>setFilds({...filds, to: e.target.value})}/>\r\n                </div>\r\n            </div>\r\n            <div className=\"label\">\r\n                <label htmlFor=\"searchName\">Name</label>\r\n                <input type=\"text\" placeholder=\"any\" id=\"searchName\" value={filds.name} onChange={(e)=>setFilds({...filds, name: e.target.value})} />\r\n            </div>\r\n            \r\n            \r\n            <div className=\"label\">\r\n                <label htmlFor=\"searchType\">Type</label>\r\n                    <select name=\"searchType\" id=\"searchType\" value={filds.type} onChange={(e)=>setFilds({...filds, type: e.target.value})} required>\r\n                        <option value=\"any\">Any</option>\r\n                        <option value=\"birthday\">Birthday</option>\r\n                        <option value=\"anniversary\">Anniversary</option>\r\n                    </select>\r\n            </div>\r\n\r\n            <div className=\"card-form-submit\">\r\n                    <button type=\"submit\">Search</button>\r\n            </div>\r\n            \r\n        </form>\r\n    )\r\n}\r\n","const pushServerPublicKey= 'BKyP2ldVQRindSkOeqb8Sl-oZG3br49DaDCGYPGw4rEu9tFbF1t1rG9rEjRbBfbAPnFhZNHLTw8rZ0XzfyMQkqE';\r\n\r\nfunction urlBase64ToUint8Array(base64String) {\r\n    const padding = '='.repeat((4 - base64String.length % 4) % 4);\r\n    const base64 = (base64String + padding)\r\n      .replace(/-/g, '+')\r\n      .replace(/_/g, '/');\r\n   \r\n    const rawData = window.atob(base64);\r\n    const outputArray = new Uint8Array(rawData.length);\r\n   \r\n    for (let i = 0; i < rawData.length; ++i) {\r\n      outputArray[i] = rawData.charCodeAt(i);\r\n    }\r\n    return outputArray;\r\n  }\r\n\r\n\r\nfunction isPushNotificationSupported() {\r\n    return \"serviceWorker\" in navigator && \"PushManager\" in window;\r\n  }\r\n\r\n  function registerServiceWorker() {\r\n    return navigator.serviceWorker.register(\"/sw.js\");\r\n  }\r\n\r\n  async function askUserPermission() {\r\n    return await Notification.requestPermission();\r\n  }\r\n\r\n  async function createNotificationSubscription() {\r\n    //wait for service worker installation to be ready\r\n    const serviceWorker = await navigator.serviceWorker.ready;\r\n    // subscribe and return the subscription\r\n    return await serviceWorker.pushManager.subscribe({\r\n      userVisibleOnly: true,\r\n      applicationServerKey: urlBase64ToUint8Array(pushServerPublicKey)\r\n    });\r\n  }\r\n\r\n  async function postSubscription(subscription) {\r\n    const response = await  fetch('http://localhost:4000/api/noti-sub',{\r\n        method:'POST',\r\n        body: JSON.stringify(subscription),\r\n        headers:{\"Content-type\": \"application/json; charset=UTF-8\"},\r\n        credentials: 'include'\r\n    });\r\n\r\n    return await response.json();\r\n  }\r\n\r\n \r\n  export {\r\n    isPushNotificationSupported,\r\n    registerServiceWorker,\r\n    askUserPermission,\r\n    createNotificationSubscription,\r\n    postSubscription\r\n  };\r\n\r\n","import React, { useContext } from \"react\";\r\nimport {principalContext} from '../Principal';\r\nimport {\r\n  isPushNotificationSupported,\r\n  registerServiceWorker,\r\n  askUserPermission,\r\n  createNotificationSubscription,\r\n  postSubscription\r\n} from '../../../push-notifications'\r\n\r\nexport default function Settings() {\r\n\r\n  const{emailNotification, setEmailNotification, setMessage} = useContext(principalContext);\r\n\r\n  const emailNotificationSettings=()=>{\r\n    setEmailNotification(prev=> !prev);\r\n\r\n    fetch('http://localhost:4000/api/emailNotification',{\r\n        method:'PUT',\r\n        headers:{\"Content-type\": \"application/json; charset=UTF-8\"},\r\n        credentials: 'include'\r\n    })\r\n    .then(res=> res.json())\r\n    .then(data=>{\r\n      //console.log(data);\r\n    })\r\n    .catch(err => console.log(err));\r\n  }\r\n\r\n  const activateBnotification= async ()=>{\r\n\r\n    try {\r\n      if(isPushNotificationSupported()){\r\n        registerServiceWorker();\r\n        const permission= await askUserPermission();\r\n      \r\n        if(permission === 'granted'){\r\n          const subscription= await createNotificationSubscription();\r\n          const res= await postSubscription(subscription);\r\n          setMessage('Notifications Activated');\r\n          console.log(res)\r\n        }else{\r\n          setMessage(\"Something went wrong, check your browser's notification settings and try again\");\r\n        }\r\n  \r\n      } else{\r\n        setMessage('Notifications are not supported by your browser');\r\n      } \r\n      \r\n    } catch (error) {\r\n      if(error)console.log(error);\r\n    }\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"card-form\">\r\n\r\n      <div className=\"label-st\">\r\n        <label htmlFor=\"emialSettings\">Email Notifications</label>\r\n        <div className=\"switch-btn-container\">\r\n            <p>on/off</p>\r\n        <div className=\"switch-btn\" name=\"emialSettings\" data-testid=\"emialSettings\" onClick={()=>emailNotificationSettings()}>\r\n            <div className={emailNotification ? \"switch-btn-int\" : \"switch-btn-int eOff\"} />\r\n        </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"label\">\r\n      <label htmlFor=\"browser\">Browser Notifications</label>\r\n      <button className=\"a-r-b\" style={{padding: \"5px 10px\"}} onClick={()=>activateBnotification()}>Activate</button>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n","import React,{useEffect, useState} from 'react'\r\nimport Add from './Add';\r\nimport './cards.css';\r\nimport Edit from './Edit';\r\nimport Help from './Help';\r\nimport Search from './Search';\r\nimport Settings from './Settings';\r\n\r\nexport default function Card({showCard, setShowCard}) {\r\n    const [on, setOn]= useState(false);\r\n    const [title, setTitle]= useState('');\r\n    const [form, setForm]= useState(<Add/>);\r\n\r\n    //show cards and animation \r\n    useEffect(()=>{\r\n        const add=document.getElementById('card');\r\n        \r\n          let matrix= window.getComputedStyle(add, null).transform;\r\n        \r\n        setOn((prevOn)=> !prevOn);\r\n\r\n        if(matrix === 'none' && showCard !== 'none'){\r\n            setOn(false);\r\n            setTimeout(()=>{\r\n                switchForm(showCard);\r\n                setOn(true)\r\n            }, 500);\r\n            \r\n        }else if(matrix !== 'none' && showCard !== 'none'){\r\n            switchForm(showCard);\r\n        }\r\n\r\n\r\n        if(showCard === \"none\"){\r\n            setOn(false);\r\n        }\r\n\r\n      },[showCard]);\r\n\r\n\r\n      let switchForm=(sc)=>{\r\n          switch(sc){\r\n            case \"add\":\r\n                  setTitle(\"Add Event\");\r\n                  setForm(<Add />);\r\n                  break;\r\n\r\n            case \"search\":\r\n                    setTitle(\"Search Event\");\r\n                    setForm(<Search/>);\r\n                    break;\r\n\r\n            case \"settings\":\r\n                setTitle(\"Settings\");\r\n                setForm(<Settings/>)\r\n                break;\r\n\r\n            case \"help\":\r\n                setTitle(\"Help\");\r\n                setForm(<Help/>)\r\n                break;\r\n\r\n            case \"edit\":\r\n              setTitle(\"Edit Event\");\r\n              setForm(<Edit/>)\r\n                break;\r\n\r\n            default:\r\n                    break;\r\n          }\r\n      }\r\n\r\n     \r\n\r\n\r\n      return (\r\n        <div className={on ? \"toolbar-card\" : \"toolbar-card off\"} id=\"card\">\r\n\r\n          <div className=\"card-header\">\r\n            <h3>{title}</h3>\r\n            <img src=\"img/exit.svg\" alt=\"close card\"  onClick={()=>setShowCard('none')}/>\r\n          </div>\r\n\r\n            {form}\r\n          \r\n        </div>\r\n        );\r\n}\r\n","import React, { useState } from 'react';\r\nimport './header.css';\r\n\r\nconst abrMonths=['JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN', 'JUL','AUG', 'SEP', 'OCT', 'NOV', 'DEC'];\r\n\r\nexport default function Header() {\r\n    const [alertClass, setAlertClass]= useState('alert');\r\n\r\n    //handel month btns click\r\n    const goToMonth=(month)=>{\r\n\r\n            var elem = document.getElementById(`month${month}`);\r\n            if(elem){\r\n                let scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n                let elemRect=elem.getBoundingClientRect();\r\n                let elePos= elemRect.top +scrollTop\r\n                window.scrollTo(0, elePos -200);\r\n            }else{\r\n                   \r\n                setAlertClass('show');\r\n                 \r\n            }\r\n\r\n    }\r\n\r\n    return (\r\n        <header style={{ backgroundImage: `url(/img/header.svg)`}} className=\"app-header\">\r\n            <img src=\"img/logo2.svg\" alt=\"Happy Day Logo\"/>\r\n\r\n            <div className=\"month-btn-container\">\r\n            {abrMonths.map((m,i)=>{\r\n                return (\r\n                    <div className={'month-btn ' + m} key={i} onClick={()=>goToMonth(i+1)}>\r\n                        {m}\r\n                        </div>\r\n                );\r\n            })}\r\n            </div>\r\n       \r\n            <div className={alertClass} onAnimationEnd={()=>setAlertClass('alert')}>\r\n            <p>You don't have events this month</p>\r\n            </div> \r\n    \r\n        </header>\r\n    )\r\n}","import React,{useContext} from 'react'\r\nimport {authContext} from '../../../App';\r\nimport './toolbar.css'\r\n\r\nexport default function Toolbar({setShowCard}) {\r\n\r\n    const setAuth= useContext(authContext);\r\n\r\n    const logOut=()=>{\r\n        fetch('http://localhost:4000/api/logout',{\r\n            method:'GET',\r\n            headers:{\"Content-type\": \"application/json; charset=UTF-8\"},\r\n            credentials: 'include'\r\n        })\r\n        .then(res=> res.json())\r\n        .then(data=>{\r\n            setAuth(data.auth);\r\n            //console.log(\"fetch toolbar.js logout\");\r\n         })\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    return (\r\n        <footer className=\"toolbar\">\r\n            <button className=\"toolbar-btn\" onClick={()=>setShowCard('search')}>\r\n            <img src='img/search.svg' alt=\"search icon\" />\r\n            </button>\r\n            <button className=\"toolbar-btn\" onClick={()=>setShowCard('add')}>\r\n            <img src='img/add.svg' alt=\"add icon\" />\r\n            </button>\r\n            <button className=\"toolbar-btn\" onClick={()=>setShowCard('settings')}>\r\n            <img src='img/settings.svg' alt=\"settings icon\" />\r\n            </button>\r\n            <button className=\"toolbar-btn\">\r\n            <img src='img/help.svg' alt=\"help icon\" onClick={()=>setShowCard('help')}/>\r\n            </button>\r\n            <button className=\"toolbar-btn\" onClick={()=>logOut()}>\r\n            <img src='img/logout.svg' alt=\"logout icon\" />\r\n            </button>\r\n\r\n        </footer>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport \"./calendar.css\"\r\nimport {principalContext} from '../Principal';\r\n\r\n\r\nconst monthNames=['January', 'February', 'March', 'April', 'May', 'June', 'July',\r\n 'August', 'September', 'October', 'November', 'December'];\r\n\r\n const monthColors=['#216b8e', '#27a3a3','#149e84', '#00ae4d', '#69d503', '#d6df24', '#edc01c', '#faa818',\r\n  '#f19616', '#fd6126', '#9458a9', '#6258a2'];\r\n  let lastId;\r\n\r\n\r\nexport default function Calendar({setShowCard, showCard}) {\r\n    const[calendarData , setCalendarData]= useState({});\r\n    const {updateCalendar, setUpdateCalendar, setEdit, searchFilters}= useContext(principalContext);\r\n    const [searchResults, setSearchResults]= useState({});\r\n    const [loadingData, setLoadingData]= useState(true);\r\n\r\n    const fetchData=()=>{\r\n        //setLoadingData(true)\r\n        fetch('http://localhost:4000/api/events',{\r\n            method:'GET',\r\n            headers:{\"Content-type\": \"application/json; charset=UTF-8\"},\r\n            credentials: 'include'\r\n        })\r\n        .then(res=> res.json())\r\n        .then(data=>{\r\n    \r\n          //console.log(\"fetch calendar.js \");\r\n          setCalendarData(data);\r\n          setLoadingData(false);\r\n          \r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    useEffect(()=>{\r\n       fetchData();\r\n    },[]);\r\n\r\n    useEffect(()=>{\r\n        if(updateCalendar){\r\n        fetchData();\r\n        setUpdateCalendar(false);\r\n        }\r\n     },[updateCalendar, setUpdateCalendar]);\r\n\r\n     //search\r\n    useEffect(()=>{\r\n        \r\n        //console.log(searchFilters);\r\n        let filterData={};\r\n        let fromMonth;\r\n        let fromDay;\r\n        let toMonth;\r\n        let toDay;\r\n\r\n        if(searchFilters.from){\r\n            const from= searchFilters.from.split('/');\r\n             fromMonth= parseInt(from[0]);\r\n             fromDay= parseInt(from[1]);\r\n        }else{\r\n            fromMonth= 0;\r\n            fromDay= 0;\r\n        }\r\n        if(searchFilters.to){\r\n            const to= searchFilters.to.split('/');\r\n             toMonth= parseInt(to[0]);\r\n             toDay= parseInt(to[1]);\r\n        }else{\r\n            toMonth= 99;\r\n            toDay= 99;\r\n        }\r\n\r\n        let i=0;\r\n        let lastMonth;\r\n        for(const month in calendarData){\r\n            if(month >= fromMonth && month <= toMonth){\r\n                i++;\r\n                lastMonth=month;\r\n\r\n                if(i===1){\r\n                    filterData[month]= {};\r\n                    for(const day in calendarData[month]){\r\n\r\n                        if(day >= fromDay){\r\n                            filterData[month][day]= [...calendarData[month][day]];\r\n                        }\r\n                    }\r\n                }else{\r\n                    filterData[month]={...calendarData[month]};\r\n                    \r\n                }\r\n                \r\n\r\n            }\r\n\r\n        }\r\n\r\n        for( const day in filterData[lastMonth]){\r\n            if(day > toDay){\r\n                delete filterData[lastMonth][day];\r\n            }\r\n        }\r\n\r\n        if(searchFilters.name){\r\n        for(const month in filterData){\r\n            for(const day in filterData[month]){\r\n                 //console.log( filterData);\r\n               const nameFilter= filterData[month][day].filter(data=>{\r\n                   let regExp= new RegExp(searchFilters.name.toLowerCase(), 'ig');\r\n                   return regExp.test(data.personName);\r\n                });\r\n                if(nameFilter.length === 0){\r\n                   delete filterData[month][day];\r\n                }else{\r\n                    filterData[month][day]= nameFilter;\r\n                }\r\n            }\r\n\r\n            if(Object.keys(filterData[month]).length === 0){\r\n                delete filterData[month];\r\n            }\r\n        }\r\n     }   \r\n\r\n     if(searchFilters.type !== \"any\" && searchFilters.type){\r\n\r\n        for(const month in filterData){\r\n            for(const day in filterData[month]){\r\n               const typeFilter= filterData[month][day].filter(data=>{\r\n                  if(data.type === searchFilters.type){\r\n                      return true;\r\n                  }else{\r\n                      return false;\r\n                  }\r\n                });\r\n                if(typeFilter.length === 0){\r\n                   delete filterData[month][day];\r\n                }else{\r\n                    filterData[month][day]= typeFilter;\r\n                }\r\n            }\r\n\r\n            if(Object.keys(filterData[month]).length === 0){\r\n                delete filterData[month];\r\n            }\r\n        }\r\n\r\n     }\r\n\r\n\r\n        //console.log(filterData);\r\n        setSearchResults(filterData);\r\n\r\n    },[searchFilters, calendarData]);\r\n    \r\n\r\n    const getAge=(date)=>{\r\n        const ageInMs= Date.now() - new Date(date).getTime();\r\n        const ageInYears= Math.floor(ageInMs / (1000*60*60*24*365));\r\n        if(ageInYears > 0){\r\n            return `(${ageInYears} eyars)`;\r\n        }else{\r\n            return '';\r\n        }\r\n    }\r\n\r\n\r\n    const eventEdit=(id, event)=>{\r\n        //ele.className=\"event-container selected\"\r\n        if(lastId){\r\n            lastId.style.backgroundColor = \"transparent\";\r\n        }\r\n       const ele= document.getElementById(id);\r\n       ele.style.backgroundColor = \"white\";\r\n       lastId= document.getElementById(id);\r\n\r\n       setShowCard('edit');\r\n       setEdit(event);\r\n\r\n    }\r\n    useEffect(()=>{\r\n        if(showCard === \"none\" && lastId){\r\n            lastId.style.backgroundColor = \"transparent\";\r\n           }\r\n    },[showCard])\r\n\r\n\r\n    return (\r\n        <div className=\"calendar\">\r\n\r\n           {\r\n               Object.keys(calendarData).length > 0 && !loadingData ?\r\n               Object.keys(searchResults? searchResults : calendarData).map((month, i)=>{\r\n                   return(\r\n                    <div className=\"month-container\" id={\"month\"+month} key={i}>\r\n                        <div className=\"month-header\" style={{backgroundColor: monthColors[month-1]}}>\r\n                            <h2>{monthNames[month-1]}</h2>\r\n                        </div>\r\n\r\n                        {\r\n                            Object.keys(searchResults? searchResults[month] : calendarData[month]).map((day, j)=>{\r\n                                return(\r\n                                <div key={j}>\r\n                                <div className=\"day-constainer\" >\r\n                                    <h2 style={{color: monthColors[month-1]}}>{day}</h2>\r\n                                    <div className=\"events-container\">\r\n                                        {\r\n                                            (searchResults? searchResults[month][day] : calendarData[month][day]).map((event, k)=>{\r\n                                                return(\r\n                                                    <div className=\"event-container\" id={`event-${month}-${day}-${k}`} key={k} onClick={()=> eventEdit(`event-${month}-${day}-${k}`, event)}>\r\n                                                        <p>{`${event.personName} ${event.AnniversaryType} ${event.type} ${getAge(event.date)}`}</p>\r\n                                                    </div>\r\n                                                )\r\n                                            })\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n\r\n                                    <hr className=\"divition\"/>\r\n                            \r\n                                \r\n                                </div>\r\n                                )\r\n                            })\r\n                        }\r\n                        \r\n                    </div>\r\n                   )\r\n               }) : loadingData  ? (<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"loading-wheel claendar-wheel\" \r\n               viewBox=\"0 0 117.49 124.88\" width=\"100\" height=\"100\"><defs></defs>\r\n               <title>loading</title><g id=\"Layer_2\" data-name=\"Layer 2\"><g id=\"Layer_1-2\" data-name=\"Layer 1\">\r\n                <path \r\n                 d=\"M78.84,18.33a49.61,49.61,0,0,0-28.75-2.12A50.63,50.63,0,0,0,24.57,30.68,51.5,51.5,0,0,0,11.19,57.34a52.14,\r\n                 52.14,0,0,0,3.75,30.08,53.12,53.12,0,0,0,20.17,23.31A54.11,54.11,0,0,0,65.32,119a55.21,55.21,0,0,0,50-35.61,\r\n                 1.12,1.12,0,0,1,1.45-.65,1.14,1.14,0,0,1,.67,1.4,58.76,58.76,0,0,1-19.55,28A59.79,59.79,0,0,1,65.63,124.7a60.64,\r\n                 60.64,0,0,1-34.29-7.6A61.34,61.34,0,0,1,6.71,91.36,62.19,62.19,0,0,1,.46,55.78,63.25,63.25,0,0,1,15.23,22.27,\r\n                 64.12,64.12,0,0,1,46.56,2.37a64.82,64.82,0,0,1,37.61.88l.08,0a8,8,0,0,1-5,15.2Z\"/></g></g></svg>) \r\n                 : (\r\n                     <div className=\"any-container\">\r\n                     <div className=\"any\">\r\n                     <h2>You don't have any event</h2>\r\n                     <p>add one pressing </p>\r\n                     <img src=\"img/add.svg\" alt=\"add\"/>\r\n                     </div>\r\n                    </div>)\r\n             }\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport Card from './cards/Card';\r\nimport Header from './header/Header';\r\nimport Toolbar from './toolbar/Toolbar'\r\nimport './principal.css';\r\nimport Calendar from './calendar/Calendar';\r\n\r\n\r\nexport const principalContext= React.createContext();\r\n\r\nexport default function Principal() {\r\n    const [showCard, setShowCard]= useState('none');\r\n    const [updateCalendar, setUpdateCalendar]= useState(false);\r\n    const [edit, setEdit]= useState({});\r\n    const [message, setMessage]= useState(\"\");\r\n    const [searchFilters, setSearchFilters]=useState({});\r\n\r\n    const [emailNotification, setEmailNotification]= useState(true);\r\n    const [firstFetch, setFirstFetch]= useState(true);\r\n  \r\n    //get email notification status\r\n    useEffect(()=>{\r\n      if(firstFetch){\r\n      fetch('http://localhost:4000/api/emailNotification',{\r\n          method:'GET',\r\n          headers:{\"Content-type\": \"application/json; charset=UTF-8\"},\r\n          credentials: 'include'\r\n      })\r\n      .then(res=> res.json())\r\n      .then(data=>{\r\n        setEmailNotification(data.mailNotification);\r\n        setFirstFetch(false);\r\n        //console.log(\"fetch principal.js email notification\");\r\n      })\r\n      .catch(err => console.log(err));\r\n    }\r\n  \r\n    }, [firstFetch]);\r\n\r\n    return (\r\n        <principalContext.Provider value={{\r\n         updateCalendar,\r\n         setUpdateCalendar,\r\n         edit, \r\n         setEdit,\r\n         showCard,\r\n         setShowCard,\r\n         setMessage,\r\n         setSearchFilters,\r\n         searchFilters,\r\n         emailNotification,\r\n         setEmailNotification\r\n         }}>\r\n        <div>\r\n            <Header/>\r\n\r\n            <div className=\"tool-card\">\r\n\r\n            <Card showCard={showCard} setShowCard={setShowCard} />\r\n        \r\n            <Toolbar setShowCard={setShowCard}/>\r\n            </div>\r\n\r\n            <Calendar setShowCard={setShowCard} showCard={showCard} />\r\n\r\n            <Message message={message} />\r\n        </div>\r\n        </principalContext.Provider>\r\n    )\r\n}\r\n\r\n//message component\r\nfunction Message({message}){\r\n    const [style, setStyle]=useState({display: 'flex'});\r\n    useEffect(()=>{\r\n        if(message){\r\n            setStyle({display: 'flex'});\r\n        }else{\r\n            setStyle({display: \"none\"});\r\n        }\r\n    },[message]);\r\n    return(\r\n        <>\r\n       <div className=\"message\" onAnimationEnd={()=>setStyle({display: \"none\"})} style={style}><p>{message}</p></div>\r\n        </>\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\nimport Home from './components/home/Home';\nimport Loading from './components/loading/Loading';\nimport Principal from './components/principal/Principal';\n\nexport const authContext= React.createContext();\n\nfunction App() {\n  const [auth, setAuth]= useState(undefined);\n\n  //check auth in the server\n  useEffect(()=>{\n    if(auth === undefined){\n    fetch('http://localhost:4000/api',{\n      method:'GET',\n      headers:{\"Content-type\": \"application/json; charset=UTF-8\"},\n      credentials: 'include'\n  })\n  .then(res=> res.json())\n  .then(data=>{\n    setAuth(data.auth);\n    //console.log(\"fetch app.js\");\n  })\n  .catch(err => console.log(err));\n    }\n  });\n\n  return (\n    <authContext.Provider value={setAuth}>\n    \n    {auth === undefined ?\n    (<Loading/>) :\n    auth ? \n    (<Principal/>)\n    :\n    (<Home/>)\n    }  \n    </authContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n\n\n"],"sourceRoot":""}