(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(10),i=n.n(r),s=n(3),o=n(1),l="GET_AUTH",d="SET_AUTH",u="".concat(window.location.protocol,"//").concat(window.location.host,"/api"),j=function(e){return function(t){t({type:d,payload:e})}},b=n(4),m=n(0);function h(){var e,t=Object(b.b)(),n=Object(a.useState)("logIn"),c=Object(s.a)(n,2),r=c[0],i=c[1],l=Object(a.useState)(""),d=Object(s.a)(l,2),h=d[0],O=d[1],f=Object(a.useState)("text"),p=Object(s.a)(f,2),v=p[0],y=p[1],g=Object(a.useState)({email:"",name:"",birthday:"",password:"",confirm:""}),x=Object(s.a)(g,2),N=x[0],w=x[1],S=Object(a.useState)({email:"",password:""}),C=Object(s.a)(S,2),E=C[0],T=C[1],k=Object(a.useState)(!0),D=Object(s.a)(k,2),A=D[0],F=D[1];return e="logIn"===r?Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={email:E.email,password:E.password};fetch("".concat(u,"/login"),{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){if(401!==e.status)return e.json();O("The email address or password is incorrect.")})).then((function(e){e&&t(j(e.auth))})).catch((function(e){return console.log(e)}))},children:[Object(m.jsx)("input",{type:"email",placeholder:"Enter your Email",name:"emial",value:E.email,onChange:function(e){return T(Object(o.a)(Object(o.a)({},E),{},{email:e.target.value}))},required:!0}),Object(m.jsx)("input",{type:"password",placeholder:"Enter your Password",name:"password",value:E.password,onChange:function(e){return T(Object(o.a)(Object(o.a)({},E),{},{password:e.target.value}))},autoComplete:"on",required:!0}),h?Object(m.jsx)("p",{className:"alert-form",children:h}):null,Object(m.jsx)("button",{type:"submit",value:"Submit",children:"Log In"})]}):Object(m.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),N.password===N.confirm){F(!0);var n={email:N.email,name:N.name,birthday:N.birthday,password:N.password};fetch("".concat(u,"/singup"),{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){e.message?O(e.message):t(j(e.auth))})).catch((function(e){return console.log(e)}))}else F(!1)},children:[Object(m.jsx)("input",{type:"email",placeholder:"Enter your Email",name:"email",value:N.email,onChange:function(e){return w(Object(o.a)(Object(o.a)({},N),{},{email:e.target.value}))},required:!0}),Object(m.jsx)("input",{type:"text",placeholder:"Enter your Name",name:"name",value:N.name,onChange:function(e){return w(Object(o.a)(Object(o.a)({},N),{},{name:e.target.value}))},required:!0}),Object(m.jsx)("input",{type:v,onFocus:function(){return y("date")},onBlur:function(){return y("text")},placeholder:"Enter your Birthday",name:"birthday",value:N.birthday,onChange:function(e){return w(Object(o.a)(Object(o.a)({},N),{},{birthday:e.target.value}))},required:!0}),Object(m.jsx)("input",{type:"password",placeholder:"Enter your Password",name:"password",value:N.password,onChange:function(e){return w(Object(o.a)(Object(o.a)({},N),{},{password:e.target.value}))},required:!0,autoComplete:"off"}),Object(m.jsx)("input",{type:"password",placeholder:"Confirm Password",name:"confim",value:N.confirm,onChange:function(e){return w(Object(o.a)(Object(o.a)({},N),{},{confirm:e.target.value}))},required:!0,autoComplete:"off"}),A?Object(m.jsx)("p",{}):Object(m.jsx)("p",{className:"alert-form",children:"Passwords don't match"}),h?Object(m.jsx)("p",{className:"alert-form",children:h}):null,Object(m.jsx)("button",{type:"submit",children:"Sing Up"})]}),Object(m.jsxs)("div",{className:"form-container",children:[e,Object(m.jsx)("p",{children:"or"}),Object(m.jsx)("p",{className:"red",onClick:function(){i("logIn"===r?"singUp":"logIn")},children:"logIn"===r?"Sing Up":"Log In"})]})}n(26);function O(e){var t=e.setShowRecover,n=Object(a.useState)(""),c=Object(s.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)(""),l=Object(s.a)(o,2),d=l[0],j=l[1];return Object(m.jsx)("div",{className:"recover-container",children:Object(m.jsxs)("div",{className:"recover",children:[Object(m.jsx)("img",{src:"img/exit.svg",alt:"close",onClick:function(){return t(!1)}}),Object(m.jsx)("h3",{children:"Enter your email to recover your password"}),Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j("Loading..."),fetch("".concat(u,"/recover"),{method:"POST",body:JSON.stringify({email:r}),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){j(e.message)})),i("")},children:[Object(m.jsx)("input",{type:"email",placeholder:"Email",name:"email",value:r,onChange:function(e){return i(e.target.value)},required:!0}),Object(m.jsx)("button",{type:"submit",children:"Submit"})]}),Object(m.jsx)("p",{children:d}),Object(m.jsx)("p",{children:"You are going to receive an email with a link to recover your password, this link is valid for 24hs."})]})})}function f(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(m.jsxs)("div",{className:"main-container",children:[n?Object(m.jsx)(O,{setShowRecover:c}):null,Object(m.jsxs)("header",{style:{backgroundImage:"url(/img/header.svg)"},children:[Object(m.jsx)("img",{src:"img/logo1.svg",alt:"Happy Day"}),Object(m.jsx)("h2",{children:"Birthdays and Anniversaries Reminder"})]}),Object(m.jsxs)("main",{children:[Object(m.jsx)(h,{}),Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("h3",{children:"Start in 3 simple steps:"}),Object(m.jsxs)("div",{className:"step",children:[Object(m.jsx)("div",{className:"num",children:"1"}),Object(m.jsx)("p",{children:"Sing up or log in."})]}),Object(m.jsxs)("div",{className:"step",children:[Object(m.jsx)("div",{className:"num",children:"2"}),Object(m.jsx)("p",{children:"Add the birthdays or anniversaries of your friends and family."})]}),Object(m.jsxs)("div",{className:"step",children:[Object(m.jsx)("div",{className:"num",children:"3"}),Object(m.jsx)("p",{children:"Allows the application to send notifications (You will also receive the reminders in your email)."})]})]})]}),Object(m.jsx)("footer",{style:{backgroundImage:"url(/img/footer.svg)"},children:Object(m.jsxs)("p",{children:["Forgot Your Password? ",Object(m.jsx)("span",{className:"red",onClick:function(){return c(!0)},children:"Recover it"})]})})]})}n(27);function p(){return Object(m.jsxs)("div",{className:"loading-container",children:[Object(m.jsx)("img",{src:"img/logo1.svg",alt:"Happy Day",className:"loading-logo"}),Object(m.jsxs)("div",{className:"wheel-container",children:[Object(m.jsx)("img",{src:"img/loading.svg",alt:"loading",className:"loading-wheel"}),Object(m.jsx)("p",{children:"Loading..."})]})]})}n(13);var v="UPDATE_CALENDAR",y=function(e){return function(t){t({type:v,payload:e})}},g="SET_MESSAGE",x=function(e){return function(t){t({type:g,payload:e})}},N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function w(){var e=Object(b.b)(),t=Object(a.useState)({event:"birthday",type:"",day:"",month:N[0],year:"",personName:"",reminders:[{title:"The Same Day",date:""}]}),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)({timeBefore:"same-day",numBefore:""}),l=Object(s.a)(i,2),d=l[0],h=l[1];return Object(m.jsxs)("form",{className:"card-form",onSubmit:function(t){return function(t){t.preventDefault(),e(x(""));var n={event:c.event,type:c.type,date:new Date("".concat(c.month," ").concat(c.day," ").concat(""===c.year?"9999":c.year)),personName:c.personName,reminders:[]},a=c.reminders.map((function(e){var t={title:e.title};if("The Same Day"===e.title)t.date=n.date;else{var a=e.title.split(" ",2),c=n.date.getTime(),r=864e5;"Days"===a[1]?t.date=new Date(c-r*a[0]):t.date=new Date(c-6048e5*a[0])}return t}));n=Object(o.a)(Object(o.a)({},n),{},{reminders:a}),fetch("".concat(u,"/add"),{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){!1===t.auth?e(j(t.auth)):(e(x(t.message)),e(y(!0)))})).catch((function(e){return console.log(e)})),r({event:"birthday",type:"",day:"",month:N[0],year:"",personName:"",reminders:[{title:"The Same Day",date:""}]})}(t)},children:[Object(m.jsxs)("div",{className:"grup",children:[Object(m.jsxs)("div",{className:"label",children:[Object(m.jsx)("label",{htmlFor:"event",children:"Event"}),Object(m.jsxs)("select",{name:"event",id:"event",onChange:function(e){return r(Object(o.a)(Object(o.a)({},c),{},{event:e.target.value}))},value:c.event,required:!0,children:[Object(m.jsx)("option",{value:"birthday",children:"Birthday"}),Object(m.jsx)("option",{value:"anniversary",children:"Anniversary"})]})]}),"anniversary"===c.event?Object(m.jsxs)("div",{className:"label",children:[Object(m.jsx)("label",{htmlFor:"type",children:"Type"}),Object(m.jsx)("input",{type:"text",name:"type",id:"type",onChange:function(e){return r(Object(o.a)(Object(o.a)({},c),{},{type:e.target.value}))},value:c.type})]}):null]}),Object(m.jsxs)("div",{className:"grup",children:[Object(m.jsxs)("div",{className:"label",children:[Object(m.jsx)("label",{htmlFor:"day",children:"Day"}),Object(m.jsx)("input",{className:"day",id:"day",type:"number",name:"day",min:"1",max:"31",step:"1",onChange:function(e){return r(Object(o.a)(Object(o.a)({},c),{},{day:e.target.value}))},value:c.day,required:!0})]}),Object(m.jsxs)("div",{className:"label",children:[Object(m.jsx)("label",{htmlFor:"month",children:"Month"}),Object(m.jsx)("select",{name:"month",id:"month",onChange:function(e){return r(Object(o.a)(Object(o.a)({},c),{},{month:e.target.value}))},value:c.month,required:!0,children:N.map((function(e,t){return Object(m.jsx)("option",{value:e,children:e},t)}))})]}),Object(m.jsxs)("div",{className:"label",children:[Object(m.jsx)("label",{htmlFor:"year",children:"Year"}),Object(m.jsx)("input",{className:"year",id:"year",type:"number",name:"year",placeholder:"any",max:"9999",onChange:function(e){return r(Object(o.a)(Object(o.a)({},c),{},{year:e.target.value}))},value:c.year})]})]}),Object(m.jsxs)("div",{className:"label",children:[Object(m.jsx)("label",{htmlFor:"name",children:"Name"}),Object(m.jsx)("input",{type:"text",id:"name",name:"name",onChange:function(e){return r(Object(o.a)(Object(o.a)({},c),{},{personName:e.target.value}))},value:c.personName,required:!0})]}),Object(m.jsxs)("div",{className:"grup",children:[Object(m.jsxs)("div",{className:"grup",children:[Object(m.jsx)("label",{htmlFor:"time-before",children:"Add Reminders"}),Object(m.jsxs)("select",{name:"time-before",id:"time-before",onChange:function(e){return h(Object(o.a)(Object(o.a)({},d),{},{timeBefore:e.target.value}))},value:d.timeBefore,children:[Object(m.jsx)("option",{value:"same-day",children:"The Same Day"}),Object(m.jsx)("option",{value:"days-before",children:"Days Before"}),Object(m.jsx)("option",{value:"weeks-before",children:"Weeks Before"})]}),"same-day"!==d.timeBefore?Object(m.jsx)("input",{className:"a-r-n",type:"number",name:"num-before",min:"1",step:"1","data-testid":"numBefore",onChange:function(e){return h(Object(o.a)(Object(o.a)({},d),{},{numBefore:e.target.value}))},value:d.numBefore}):null,Object(m.jsx)("button",{className:"a-r-b",onClick:function(e){return function(e){e.preventDefault();var t={title:"",date:""};switch(d.timeBefore){case"same-day":t.title="The Same Day";break;case"days-before":t.title="".concat(d.numBefore," Days Before");break;case"weeks-before":t.title="".concat(d.numBefore," Weeks Before")}var n=c.reminders;n.push(t),r(Object(o.a)(Object(o.a)({},c),{},{reminders:n}))}(e)},children:"Add"})]}),Object(m.jsx)("ul",{className:"reminders",children:c.reminders.map((function(e,t){return Object(m.jsxs)("li",{children:[e.title," ",Object(m.jsx)("img",{src:"img/drop.svg",alt:"drop",onClick:function(){return function(e){var t=c.reminders;t.splice(e,1),r(Object(o.a)(Object(o.a)({},c),{},{reminders:t}))}(t)}})]},t)}))})]}),Object(m.jsx)("div",{className:"card-form-submit",children:Object(m.jsx)("button",{type:"submit",children:"Add Event"})})]})}var S=n(8),C="SHOW_NONE",E="SHOW_EDIT",T="SHOW_HELP",k="SHOW_ADD",D="SHOW_SEARCH",A="SHOW_SETTINGS",F=function(){return function(e){e({type:C,payload:"none"})}},B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.edit.event})),n=Object(b.c)((function(e){return e.showCard.card})),c=Object(a.useState)({event:t.type,type:t.AnniversaryType,day:new Date(t.date).getDate(),month:B[new Date(t.date).getMonth()],year:new Date(t.date).getFullYear()>9e3?"":new Date(t.date).getFullYear(),personName:t.personName,reminders:t.reminders}),r=Object(s.a)(c,2),i=r[0],l=r[1];Object(a.useEffect)((function(){l({event:t.type,type:t.AnniversaryType,day:new Date(t.date).getDate(),month:B[new Date(t.date).getMonth()],year:new Date(t.date).getFullYear()>9e3?"":new Date(t.date).getFullYear(),personName:t.personName,reminders:t.reminders})}),[t,n]);var d=Object(a.useState)({timeBefore:"same-day",numBefore:""}),h=Object(s.a)(d,2),O=h[0],f=h[1];return Object(m.jsxs)("form",{className:"card-form",onSubmit:function(n){return function(n){n.preventDefault(),e(x(""));var a={event:i.event,type:"birthday"===i.event?"":i.type,date:new Date("".concat(i.month," ").concat(i.day," ").concat(""===i.year?"9999":i.year)),personName:i.personName,reminders:[],removeReminders:i.removeReminders?i.removeReminders:[],_id:t._id},c=i.reminders.map((function(e){var n={name:e.name,event:t._id,date:e.date?e.date:null,_id:e._id?e._id:null};if(!n.date)if("The Same Day"===e.name)n.date=a.date;else{var c=e.name.split(" ",2),r=a.date.getTime(),i=864e5;"Days"===c[1]?n.date=new Date(r-i*c[0]):n.date=new Date(r-6048e5*c[0])}return n}));a=Object(o.a)(Object(o.a)({},a),{},{reminders:c}),fetch("".concat(u,"/edit"),{method:"PUT",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){!1===t.auth?e(j(t.auth)):(e(x(t.message)),"Event Edited"===t.message&&e(y(!0)))})).catch((function(e){return console.log(e)})),e(F())}(n)},children:[Object(m.jsxs)("div",{className:"grup",children:[Object(m.jsxs)("div",{className:"label",children:[Object(m.jsx)("label",{htmlFor:"editEvent",children:"Event"}),Object(m.jsxs)("select",{name:"editEvent",id:"editEvent",onChange:function(e){return l(Object(o.a)(Object(o.a)({},i),{},{event:e.target.value}))},value:i.event,required:!0,children:[Object(m.jsx)("option",{value:"birthday",children:"Birthday"}),Object(m.jsx)("option",{value:"anniversary",children:"Anniversary"})]})]}),"anniversary"===i.event?Object(m.jsxs)("div",{className:"label",children:[Object(m.jsx)("label",{htmlFor:"editType",children:"Type"}),Object(m.jsx)("input",{type:"text",name:"editType",id:"editType",onChange:function(e){return l(Object(o.a)(Object(o.a)({},i),{},{type:e.target.value}))},value:i.type})]}):null]}),Object(m.jsxs)("div",{className:"grup",children:[Object(m.jsxs)("div",{className:"label",children:[Object(m.jsx)("label",{htmlFor:"editDay",children:"Day"}),Object(m.jsx)("input",{className:"day",type:"number",name:"editDay",id:"editDay",min:"1",max:"31",step:"1",onChange:function(e){return l(Object(o.a)(Object(o.a)({},i),{},{day:e.target.value}))},value:i.day,required:!0})]}),Object(m.jsxs)("div",{className:"label",children:[Object(m.jsx)("label",{htmlFor:"editMonth",children:"Month"}),Object(m.jsx)("select",{name:"editMonth",id:"editMonth",onChange:function(e){return l(Object(o.a)(Object(o.a)({},i),{},{month:e.target.value}))},value:i.month,required:!0,children:B.map((function(e,t){return Object(m.jsx)("option",{value:e,children:e},t)}))})]}),Object(m.jsxs)("div",{className:"label",children:[Object(m.jsx)("label",{htmlFor:"editYear",children:"Year"}),Object(m.jsx)("input",{className:"year",type:"number",name:"editYear",id:"editYear",placeholder:"any",max:"9999",onChange:function(e){return l(Object(o.a)(Object(o.a)({},i),{},{year:e.target.value}))},value:i.year})]})]}),Object(m.jsxs)("div",{className:"label",children:[Object(m.jsx)("label",{htmlFor:"editName",children:"Name"}),Object(m.jsx)("input",{type:"text",name:"editName",id:"editName",onChange:function(e){return l(Object(o.a)(Object(o.a)({},i),{},{personName:e.target.value}))},value:i.personName,required:!0})]}),Object(m.jsxs)("div",{className:"grup",children:[Object(m.jsxs)("div",{className:"grup",children:[Object(m.jsx)("label",{htmlFor:"time-before-edit",children:"Add Reminders"}),Object(m.jsxs)("select",{name:"time-before-edit",id:"time-before-edit",onChange:function(e){return f(Object(o.a)(Object(o.a)({},O),{},{timeBefore:e.target.value}))},value:O.timeBefore,children:[Object(m.jsx)("option",{value:"same-day",children:"The Same Day"}),Object(m.jsx)("option",{value:"days-before",children:"Days Before"}),Object(m.jsx)("option",{value:"weeks-before",children:"Weeks Before"})]}),"same-day"!==O.timeBefore?Object(m.jsx)("input",{className:"a-r-n",type:"number",name:"num-before",min:"1",step:"1","data-testid":"num-before-test",onChange:function(e){return f(Object(o.a)(Object(o.a)({},O),{},{numBefore:e.target.value}))},value:O.numBefore}):null,Object(m.jsx)("button",{className:"a-r-b",onClick:function(e){return function(e){e.preventDefault();var t={name:"",date:""};switch(O.timeBefore){case"same-day":t.name="The Same Day";break;case"days-before":t.name="".concat(O.numBefore," Days Before");break;case"weeks-before":t.name="".concat(O.numBefore," Weeks Before")}var n=Object(S.a)(i.reminders);n.push(t),l(Object(o.a)(Object(o.a)({},i),{},{reminders:n}))}(e)},children:"Add"})]}),Object(m.jsx)("ul",{className:"reminders",children:i.reminders.map((function(e,t){return Object(m.jsxs)("li",{children:[e.name," ",Object(m.jsx)("img",{src:"img/drop.svg",alt:"drop",onClick:function(){return function(e){var t=Object(S.a)(i.reminders),n=t.splice(e,1);if(i.removeReminders){var a=i.removeReminders;a.push(n[0]._id),l(Object(o.a)(Object(o.a)({},i),{},{reminders:t,removeReminders:a}))}else l(Object(o.a)(Object(o.a)({},i),{},{reminders:t,removeReminders:[n[0]._id]}))}(t)}})]},t)}))})]}),Object(m.jsxs)("div",{className:"card-form-submit drop",children:[Object(m.jsx)("button",{type:"submit",children:"Edit Event"}),Object(m.jsx)("button",{className:"btn-drop",onClick:function(n){return function(n){n.preventDefault(),e(x(""));var a={eventId:t._id,remindersId:[]};t.reminders.forEach((function(e){a.remindersId.push(e._id)})),fetch("".concat(u,"/delete"),{method:"DELETE",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){!1===t.auth?e(j(t.auth)):(e(x(t.message)),e(y(!0)))})).catch((function(e){return console.log(e)})),e(F())}(n)},children:Object(m.jsxs)("svg",{className:"btn-drop-img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12.18 13.92",children:[Object(m.jsx)("defs",{}),Object(m.jsx)("title",{children:"drop"}),Object(m.jsx)("g",{id:"Layer_2","data-name":"Layer 2",children:Object(m.jsx)("g",{id:"Layer_2-2","data-name":"Layer 2",children:Object(m.jsx)("path",{className:"cls-1",d:"M.87,12.61a1.31,1.31,0,0,0,1.3,1.31H10a1.31,1.31,0,0,0,1.31-1.31h0V3.48H.87Zm7.39-7a.44.44,0,0,1,.44-.43.43.43,0,0,1,.43.43v6.09a.44.44,0,0,1-.43.44.44.44,0,0,1-.44-.44Zm-2.61,0a.44.44,0,0,1,.44-.43.43.43,0,0,1,.43.43v6.09a.44.44,0,0,1-.43.44.44.44,0,0,1-.44-.44ZM3,5.65a.44.44,0,0,1,.44-.43.43.43,0,0,1,.43.43v6.09a.44.44,0,0,1-.43.44A.44.44,0,0,1,3,11.74ZM11.74.87H8.48L8.23.36A.66.66,0,0,0,7.64,0H4.53A.66.66,0,0,0,4,.36L3.7.87H.43A.43.43,0,0,0,0,1.3v.87a.44.44,0,0,0,.43.44H11.74a.44.44,0,0,0,.44-.44V1.3A.44.44,0,0,0,11.74.87Z"})})})]})})]})]})}function _(){return Object(m.jsx)("div",{className:"card-form",children:Object(m.jsxs)("ul",{className:"help",children:[Object(m.jsx)("li",{children:"click on an event to edit it or delete it"}),Object(m.jsxs)("li",{children:["click on ",Object(m.jsx)("img",{src:"img/add.svg",alt:"add"})," to add a new event"]}),Object(m.jsxs)("li",{children:["click on ",Object(m.jsx)("img",{src:"img/search.svg",alt:"search"})," to search an event"]}),Object(m.jsxs)("li",{children:["click on ",Object(m.jsx)("img",{src:"img/settings.svg",alt:"settings"})," to edit notifications settings"]}),Object(m.jsx)("li",{children:"click on the months icons to go to a specific month"}),Object(m.jsxs)("li",{children:["click on ",Object(m.jsx)("img",{src:"img/logout.svg",alt:"logout"})," to logout"]})]})})}var M="SET_SEARCH_FILTERS";function L(){var e=Object(a.useState)({from:"",to:"",name:"",type:"any"}),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(b.b)(),i=function(e){var t;e.preventDefault(),r((t=n,function(e){e({type:M,payload:t})})),r(F()),c({from:"",to:"",name:"",type:"any"})};return Object(m.jsxs)("form",{className:"card-form",onSubmit:function(e){return i(e)},children:[Object(m.jsxs)("div",{className:"grup",children:[Object(m.jsxs)("div",{className:"label",children:[Object(m.jsx)("label",{htmlFor:"from",children:"From"}),Object(m.jsx)("input",{className:"form-to",id:"from",type:"text",placeholder:"mm/dd",pattern:"\\d{2}/\\d{2}",value:n.from,onChange:function(e){return c(Object(o.a)(Object(o.a)({},n),{},{from:e.target.value}))}})]}),Object(m.jsxs)("div",{className:"label",children:[Object(m.jsx)("label",{htmlFor:"to",children:"To"}),Object(m.jsx)("input",{className:"form-to",type:"text",id:"to",placeholder:"mm/dd",pattern:"\\d{2}/\\d{2}",value:n.to,onChange:function(e){return c(Object(o.a)(Object(o.a)({},n),{},{to:e.target.value}))}})]})]}),Object(m.jsxs)("div",{className:"label",children:[Object(m.jsx)("label",{htmlFor:"searchName",children:"Name"}),Object(m.jsx)("input",{type:"text",placeholder:"any",id:"searchName",value:n.name,onChange:function(e){return c(Object(o.a)(Object(o.a)({},n),{},{name:e.target.value}))}})]}),Object(m.jsxs)("div",{className:"label",children:[Object(m.jsx)("label",{htmlFor:"searchType",children:"Type"}),Object(m.jsxs)("select",{name:"searchType",id:"searchType",value:n.type,onChange:function(e){return c(Object(o.a)(Object(o.a)({},n),{},{type:e.target.value}))},required:!0,children:[Object(m.jsx)("option",{value:"any",children:"Any"}),Object(m.jsx)("option",{value:"birthday",children:"Birthday"}),Object(m.jsx)("option",{value:"anniversary",children:"Anniversary"})]})]}),Object(m.jsx)("div",{className:"card-form-submit",children:Object(m.jsx)("button",{type:"submit",children:"Search"})})]})}var U=n(5),R=n.n(U),H=n(6),J="BKyP2ldVQRindSkOeqb8Sl-oZG3br49DaDCGYPGw4rEu9tFbF1t1rG9rEjRbBfbAPnFhZNHLTw8rZ0XzfyMQkqE";function P(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(t),a=new Uint8Array(n.length),c=0;c<n.length;++c)a[c]=n.charCodeAt(c);return a}function q(){return Y.apply(this,arguments)}function Y(){return(Y=Object(H.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return W.apply(this,arguments)}function W(){return(W=Object(H.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready;case 2:return t=e.sent,e.next=5,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:P(J)});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return V.apply(this,arguments)}function V(){return(V=Object(H.a)(R.a.mark((function e(t){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(u,"/noti-sub"),{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K="SET_EMIAL_NOTIFICATION",Q="SET_TOGGLE_EMAIL_NOTIFICATION";function z(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.emailNotification.activate})),n=function(){e((function(e){e({type:Q})})),fetch("".concat(u,"/emailNotification"),{method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){!1===t.auth&&e(j(t.auth))})).catch((function(e){return console.log(e)}))},a=function(){var t=Object(H.a)(R.a.mark((function t(){var n,a;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!("serviceWorker"in navigator)||!("PushManager"in window)){t.next=19;break}return navigator.serviceWorker.register("/sw.js"),t.next=5,q();case 5:if("granted"!==t.sent){t.next=16;break}return t.next=9,G();case 9:return n=t.sent,t.next=12,Z(n);case 12:!1===(a=t.sent).auth?e(j(a.auth)):(e(x("Notifications Activated")),console.log(a)),t.next=17;break;case 16:e(x("Something went wrong, check your browser's notification settings and try again"));case 17:t.next=20;break;case 19:e(x("Notifications are not supported by your browser"));case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(0),t.t0&&console.log(t.t0);case 25:case"end":return t.stop()}}),t,null,[[0,22]])})));return function(){return t.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"card-form",children:[Object(m.jsxs)("div",{className:"label-st",children:[Object(m.jsx)("label",{htmlFor:"emialSettings",children:"Email Notifications"}),Object(m.jsxs)("div",{className:"switch-btn-container",children:[Object(m.jsx)("p",{children:"on/off"}),Object(m.jsx)("div",{className:"switch-btn",name:"emialSettings","data-testid":"emialSettings",onClick:function(){return n()},children:Object(m.jsx)("div",{className:t?"switch-btn-int":"switch-btn-int eOff"})})]})]}),Object(m.jsxs)("div",{className:"label",children:[Object(m.jsx)("label",{htmlFor:"browser",children:"Browser Notifications"}),Object(m.jsx)("button",{className:"a-r-b",style:{padding:"5px 10px"},onClick:function(){return a()},children:"Activate"})]})]})}function X(){var e=Object(b.c)((function(e){return e.showCard.card})),t=Object(b.b)(),n=Object(a.useState)(!1),c=Object(s.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)(""),l=Object(s.a)(o,2),d=l[0],u=l[1],j=Object(a.useState)(Object(m.jsx)(w,{})),h=Object(s.a)(j,2),O=h[0],f=h[1];Object(a.useEffect)((function(){var t=document.getElementById("card"),n=window.getComputedStyle(t,null).transform;i((function(e){return!e})),"none"===n&&"none"!==e?(i(!1),setTimeout((function(){p(e),i(!0)}),500)):"none"!==n&&"none"!==e&&p(e),"none"===e&&i(!1)}),[e]);var p=function(e){switch(e){case"add":u("Add Event"),f(Object(m.jsx)(w,{}));break;case"search":u("Search Event"),f(Object(m.jsx)(L,{}));break;case"settings":u("Settings"),f(Object(m.jsx)(z,{}));break;case"help":u("Help"),f(Object(m.jsx)(_,{}));break;case"edit":u("Edit Event"),f(Object(m.jsx)(I,{}))}};return Object(m.jsxs)("div",{className:r?"toolbar-card":"toolbar-card off",id:"card",children:[Object(m.jsxs)("div",{className:"card-header",children:[Object(m.jsx)("h3",{children:d}),Object(m.jsx)("img",{src:"img/exit.svg",alt:"close card",onClick:function(){return t(F())}})]}),O]})}n(29);var $=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];function ee(){var e=Object(a.useState)("alert"),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(m.jsxs)("header",{style:{backgroundImage:"url(/img/header.svg)"},className:"app-header",children:[Object(m.jsx)("img",{src:"img/logo2.svg",alt:"Happy Day Logo"}),Object(m.jsx)("div",{className:"month-btn-container",children:$.map((function(e,t){return Object(m.jsx)("div",{className:"month-btn "+e,onClick:function(){return function(e){var t=document.getElementById("month".concat(e));if(t){var n=window.pageYOffset||document.documentElement.scrollTop,a=t.getBoundingClientRect().top+n;window.scrollTo(0,a-200)}else c("show")}(t+1)},children:e},t)}))}),Object(m.jsx)("div",{className:n,onAnimationEnd:function(){return c("alert")},children:Object(m.jsx)("p",{children:"You don't have events this month"})})]})}n(30);function te(){var e=Object(b.b)();return Object(m.jsxs)("footer",{className:"toolbar",children:[Object(m.jsx)("button",{className:"toolbar-btn",onClick:function(){return e((function(e){e({type:D,payload:"search"})}))},children:Object(m.jsx)("img",{src:"img/search.svg",alt:"search icon"})}),Object(m.jsx)("button",{className:"toolbar-btn",onClick:function(){return e((function(e){e({type:k,payload:"add"})}))},children:Object(m.jsx)("img",{src:"img/add.svg",alt:"add icon"})}),Object(m.jsx)("button",{className:"toolbar-btn",onClick:function(){return e((function(e){e({type:A,payload:"settings"})}))},children:Object(m.jsx)("img",{src:"img/settings.svg",alt:"settings icon"})}),Object(m.jsx)("button",{className:"toolbar-btn",children:Object(m.jsx)("img",{src:"img/help.svg",alt:"help icon",onClick:function(){return e((function(e){e({type:T,payload:"help"})}))}})}),Object(m.jsx)("button",{className:"toolbar-btn",onClick:function(){fetch("".concat(u,"/logout"),{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){e(j(t.auth))})).catch((function(e){return console.log(e)}))},children:Object(m.jsx)("img",{src:"img/logout.svg",alt:"logout icon"})})]})}n(31),n(32);var ne,ae="SET_EDIT",ce=["January","February","March","April","May","June","July","August","September","October","November","December"],re=["#216b8e","#27a3a3","#149e84","#00ae4d","#69d503","#d6df24","#edc01c","#faa818","#f19616","#fd6126","#9458a9","#6258a2"];function ie(){var e=Object(b.b)(),t=Object(a.useState)({}),n=Object(s.a)(t,2),c=n[0],r=n[1],i=Object(b.c)((function(e){return e.searchFilters.filters})),l=Object(a.useState)({}),d=Object(s.a)(l,2),h=d[0],O=d[1],f=Object(a.useState)(!0),p=Object(s.a)(f,2),v=p[0],g=p[1],x=Object(b.c)((function(e){return e.updateCalendar.update})),N=Object(b.c)((function(e){return e.showCard.card})),w=Object(a.useCallback)((function(){fetch("".concat(u,"/events"),{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){!1===t.auth?e(j(t.auth)):(r(t),g(!1))})).catch((function(e){return console.log(e)}))}),[e]);Object(a.useEffect)((function(){w()}),[w]),Object(a.useEffect)((function(){x&&(w(),e(y(!1)))}),[x,e,w]),Object(a.useEffect)((function(){var e,t,n,a,r={};if(i.from){var s=i.from.split("/");e=parseInt(s[0]),t=parseInt(s[1])}else e=0,t=0;if(i.to){var l=i.to.split("/");n=parseInt(l[0]),a=parseInt(l[1])}else n=99,a=99;var d,u=0;for(var j in c)if(j>=e&&j<=n)if(d=j,1===++u)for(var b in r[j]={},c[j])b>=t&&(r[j][b]=Object(S.a)(c[j][b]));else r[j]=Object(o.a)({},c[j]);for(var m in r[d])m>a&&delete r[d][m];if(i.name)for(var h in r){for(var f in r[h]){var p=r[h][f].filter((function(e){return new RegExp(i.name.toLowerCase(),"ig").test(e.personName)}));0===p.length?delete r[h][f]:r[h][f]=p}0===Object.keys(r[h]).length&&delete r[h]}if("any"!==i.type&&i.type)for(var v in r){for(var y in r[v]){var g=r[v][y].filter((function(e){return e.type===i.type}));0===g.length?delete r[v][y]:r[v][y]=g}0===Object.keys(r[v]).length&&delete r[v]}O(r)}),[i,c]);var C=function(e){var t=Date.now()-new Date(e).getTime(),n=Math.floor(t/31536e6);return n>0?"(".concat(n," years)"):""},T=function(t,n){var a;ne&&(ne.style.backgroundColor="transparent"),document.getElementById(t).style.backgroundColor="white",ne=document.getElementById(t),e((function(e){e({type:E,payload:"edit"})})),e((a=n,function(e){e({type:ae,payload:a})}))};return Object(a.useEffect)((function(){"none"===N&&ne&&(ne.style.backgroundColor="transparent")}),[N]),Object(m.jsx)("div",{className:"calendar",children:Object.keys(c).length>0&&!v?Object.keys(h||c).map((function(e,t){return Object(m.jsxs)("div",{className:"month-container",id:"month"+e,children:[Object(m.jsx)("div",{className:"month-header",style:{backgroundColor:re[e-1]},children:Object(m.jsx)("h2",{children:ce[e-1]})}),Object.keys(h?h[e]:c[e]).map((function(t,n){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"day-constainer",children:[Object(m.jsx)("h2",{style:{color:re[e-1]},children:t}),Object(m.jsx)("div",{className:"events-container",children:(h?h[e][t]:c[e][t]).map((function(n,a){return Object(m.jsx)("div",{className:"event-container",id:"event-".concat(e,"-").concat(t,"-").concat(a),onClick:function(){return T("event-".concat(e,"-").concat(t,"-").concat(a),n)},children:Object(m.jsx)("p",{children:"".concat(n.personName," ").concat(n.AnniversaryType," ").concat(n.type," ").concat(C(n.date))})},a)}))})]}),Object(m.jsx)("hr",{className:"divition"})]},n)}))]},t)})):v?Object(m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"loading-wheel claendar-wheel",viewBox:"0 0 117.49 124.88",width:"100",height:"100",children:[Object(m.jsx)("defs",{}),Object(m.jsx)("title",{children:"loading"}),Object(m.jsx)("g",{id:"Layer_2","data-name":"Layer 2",children:Object(m.jsx)("g",{id:"Layer_1-2","data-name":"Layer 1",children:Object(m.jsx)("path",{d:"M78.84,18.33a49.61,49.61,0,0,0-28.75-2.12A50.63,50.63,0,0,0,24.57,30.68,51.5,51.5,0,0,0,11.19,57.34a52.14,\r 52.14,0,0,0,3.75,30.08,53.12,53.12,0,0,0,20.17,23.31A54.11,54.11,0,0,0,65.32,119a55.21,55.21,0,0,0,50-35.61,\r 1.12,1.12,0,0,1,1.45-.65,1.14,1.14,0,0,1,.67,1.4,58.76,58.76,0,0,1-19.55,28A59.79,59.79,0,0,1,65.63,124.7a60.64,\r 60.64,0,0,1-34.29-7.6A61.34,61.34,0,0,1,6.71,91.36,62.19,62.19,0,0,1,.46,55.78,63.25,63.25,0,0,1,15.23,22.27,\r 64.12,64.12,0,0,1,46.56,2.37a64.82,64.82,0,0,1,37.61.88l.08,0a8,8,0,0,1-5,15.2Z"})})})]}):Object(m.jsx)("div",{className:"any-container",children:Object(m.jsxs)("div",{className:"any",children:[Object(m.jsx)("h2",{children:"You don't have any event"}),Object(m.jsx)("p",{children:"add one pressing "}),Object(m.jsx)("img",{src:"img/add.svg",alt:"add"})]})})})}function se(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.message.text})),n=Object(a.useState)(!0),c=Object(s.a)(n,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){r&&fetch("".concat(u,"/emailNotification"),{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){var n;!1===t.auth?e(j(t.auth)):(e((n=t.mailNotification,function(e){e({type:K,payload:n})})),i(!1))})).catch((function(e){return console.log(e)}))}),[r,e]),Object(m.jsxs)("div",{children:[Object(m.jsx)(ee,{}),Object(m.jsxs)("div",{className:"tool-card",children:[Object(m.jsx)(X,{}),Object(m.jsx)(te,{})]}),Object(m.jsx)(ie,{}),Object(m.jsx)(oe,{message:t})]})}function oe(e){var t=e.message,n=Object(a.useState)({display:"flex"}),c=Object(s.a)(n,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){i(t?{display:"flex"}:{display:"none"})}),[t]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"message",onAnimationEnd:function(){return i({display:"none"})},style:r,children:Object(m.jsx)("p",{children:t})})})}var le=n(9),de=n(16);var ue=Object(le.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:case d:return Object(o.a)(Object(o.a)({},e),{},{authData:null===t||void 0===t?void 0:t.payload});default:return e}},updateCalendar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{update:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(o.a)(Object(o.a)({},e),{},{update:t.payload});default:return e}},edit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{event:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(o.a)(Object(o.a)({},e),{},{event:t.payload});default:return e}},showCard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{card:"none"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:case C:case E:case k:case D:case A:return Object(o.a)(Object(o.a)({},e),{},{card:t.payload});default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(o.a)(Object(o.a)({},e),{},{text:t.payload});default:return e}},searchFilters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{filters:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(o.a)(Object(o.a)({},e),{},{filters:t.payload});default:return e}},emailNotification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{activate:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(o.a)(Object(o.a)({},e),{},{activate:t.payload});case Q:return Object(o.a)(Object(o.a)({},e),{},{activate:!e.activate});default:return e}}});function je(){var e=Object(b.c)((function(e){return e.auth.authData})),t=Object(b.b)();return Object(a.useEffect)((function(){void 0===e&&t((function(e){fetch(u,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){e({type:l,payload:t.auth}),console.log(t.from)})).catch((function(e){return console.log(e)}))}))})),Object(m.jsx)(m.Fragment,{children:void 0===e?Object(m.jsx)(p,{}):e?Object(m.jsx)(se,{}):Object(m.jsx)(f,{})})}var be=function(){var e=Object(le.d)(ue,Object(le.c)(Object(le.a)(de.a)));return Object(m.jsx)(b.a,{store:e,children:Object(m.jsx)(je,{})})};i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(be,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.e122fec8.chunk.js.map