{"version":3,"sources":["redux/const/authConst.js","serverUrl.js","redux/actions/authActions.js","components/home/Form.js","components/home/Recover.js","components/home/Home.js","components/loading/Loading.js","redux/const/udateCalendarConst.js","redux/actions/upadateCalendarActions.js","redux/const/messageConst.js","redux/actions/messageActions.js","components/principal/cards/Add.js","redux/const/showCardConst.js","redux/actions/showCardActions.js","components/principal/cards/Edit.js","components/principal/cards/Help.js","redux/const/searchfiltersConst.js","components/principal/cards/Search.js","redux/actions/searchFiltersActions.js","push-notifications.js","redux/const/emialNotificationConst.js","components/principal/cards/Settings.js","redux/actions/emialNotificationActions.js","components/principal/cards/Card.js","components/principal/header/Header.js","components/principal/toolbar/Toolbar.js","components/principal/calendar/Calendar.js","redux/const/editConst.js","redux/actions/editActions.js","components/principal/Principal.js","redux/store.js","redux/reducer/authReducer.js","redux/reducer/updateCalendarReducer.js","redux/reducer/editReducer.js","redux/reducer/showCardReducer.js","redux/reducer/messageReducer.js","redux/reducer/searchFilterReducer.js","redux/reducer/emailNotificationReducer.js","App.js","index.js"],"names":["GET_AUTH","SET_AUTH","SERVER_URL","setAuth","authStatus","dispatch","type","payload","Form","form","useDispatch","useState","formType","setFormType","message","setMessage","brithFocus","setBirthFocus","email","name","birthday","password","confirm","singupFilds","setSingupFilds","loginFlids","setLoginFilds","passwordValidate","setPasswordValidated","onSubmit","e","preventDefault","send","fetch","method","body","JSON","stringify","headers","credentials","then","res","status","json","data","auth","catch","err","console","log","placeholder","value","onChange","target","required","autoComplete","className","onFocus","onBlur","onClick","Recover","setShowRecover","setEmail","src","alt","Home","showRecover","style","backgroundImage","Loading","UPDATE_CALENDAR","updateCalendar","state","SET_MESSAGE","abrMonths","Add","event","day","month","year","personName","reminders","title","date","formFields","setFormFields","timeBefore","numBefore","reminder","setReminder","submitForm","Date","submitReminders","map","ele","eleR","dateSub","split","dateInMs","getTime","oneDay","submit","htmlFor","id","min","max","step","m","i","data-testid","newReminder","remindersArry","push","addReminder","splice","removeReminder","SHOW_NONE","SHOW_EDIT","SHOW_HELP","SHOW_ADD","SHOW_SEARCH","SHOW_SETTINGS","showNone","Edit","edit","useSelector","store","showCard","card","AnniversaryType","getDate","getMonth","getFullYear","useEffect","removeReminders","_id","rr","eventToDelete","eventId","remindersId","forEach","deleteEvent","xmlns","viewBox","data-name","d","Help","SET_SEARCH_FILTERS","Search","from","to","filds","setFilds","searchEvents","filters","pattern","pushServerPublicKey","urlBase64ToUint8Array","base64String","base64","repeat","length","replace","rawData","window","atob","outputArray","Uint8Array","charCodeAt","askUserPermission","a","Notification","requestPermission","createNotificationSubscription","navigator","serviceWorker","ready","pushManager","subscribe","userVisibleOnly","applicationServerKey","postSubscription","subscription","response","SET_EMAIL_NOTIFICATION","TOGGLE_EMIAL_NOTIFICATION","Settings","emailNotification","activate","emailNotificationSettings","activateBnotification","register","padding","Card","on","setOn","setTitle","setForm","add","document","getElementById","matrix","getComputedStyle","transform","prevOn","setTimeout","switchForm","sc","Header","alertClass","setAlertClass","elem","scrollTop","pageYOffset","documentElement","elePos","getBoundingClientRect","top","scrollTo","goToMonth","onAnimationEnd","Toolbar","lastId","SET_EDIT","monthNames","monthColors","Calendar","calendarData","setCalendarData","searchFilters","searchResults","setSearchResults","loadingData","setLoadingData","update","fetchData","useCallback","fromMonth","fromDay","toMonth","toDay","filterData","parseInt","lastMonth","nameFilter","filter","RegExp","toLowerCase","test","Object","keys","typeFilter","getAge","ageInMs","now","ageInYears","Math","floor","eventEdit","eventData","backgroundColor","j","color","k","width","height","Principal","text","firstFetch","setFirstFetch","mailNotification","Message","display","setStyle","rootReducer","combineReducers","authData","undefined","action","Main","App","createStore","compose","applyMiddleware","thunk","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.db28a609.chunk.js","sourcesContent":["export const GET_AUTH= \"GET_AUTH\";\r\nexport const SET_AUTH= \"SET_AUTH\";","//const SERVER_URL = \"http://localhost:4000/api\";\r\nconst SERVER_URL = \"http://localhost:3000/api\";\r\nexport default SERVER_URL;\r\n","import {GET_AUTH, SET_AUTH} from \"../const/authConst\";\r\nimport SERVER_URL from \"../../serverUrl\";\r\n\r\nexport const getAuth = () => (dispatch) => {\r\n\tfetch(SERVER_URL, {\r\n\t\tmethod: \"GET\",\r\n\t\theaders: {\"Content-type\": \"application/json; charset=UTF-8\"},\r\n\t\tcredentials: \"include\"\r\n\t})\r\n\t\t.then((res) => res.json())\r\n\t\t.then((data) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: GET_AUTH,\r\n\t\t\t\tpayload: data.auth\r\n\t\t\t});\r\n\t\t\tconsole.log(data.from);\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n\r\nexport const setAuth = (authStatus) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: SET_AUTH,\r\n\t\tpayload: authStatus\r\n\t});\r\n};\r\n","import React, {useState} from \"react\";\r\nimport {setAuth} from \"../../redux/actions/authActions\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport SERVER_URL from \"../../serverUrl\";\r\n\r\nexport default function Form() {\r\n\t//const setAuth= useContext(authContext);\r\n\tconst dispatch = useDispatch();\r\n\tconst [formType, setFormType] = useState(\"logIn\");\r\n\tconst [message, setMessage] = useState(\"\");\r\n\tconst [brithFocus, setBirthFocus] = useState(\"text\");\r\n\tconst [singupFilds, setSingupFilds] = useState({\r\n\t\temail: \"\",\r\n\t\tname: \"\",\r\n\t\tbirthday: \"\",\r\n\t\tpassword: \"\",\r\n\t\tconfirm: \"\"\r\n\t});\r\n\r\n\tconst [loginFlids, setLoginFilds] = useState({\r\n\t\temail: \"\",\r\n\t\tpassword: \"\"\r\n\t});\r\n\r\n\tconst formSwitch = () => {\r\n\t\tif (formType === \"logIn\") {\r\n\t\t\tsetFormType(\"singUp\");\r\n\t\t} else {\r\n\t\t\tsetFormType(\"logIn\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst handelLogin = (e) => {\r\n\t\te.preventDefault();\r\n\t\tlet send = {\r\n\t\t\temail: loginFlids.email,\r\n\t\t\tpassword: loginFlids.password\r\n\t\t};\r\n\r\n\t\tfetch(`${SERVER_URL}/login`, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tbody: JSON.stringify(send),\r\n\t\t\theaders: {\"Content-type\": \"application/json; charset=UTF-8\"},\r\n\t\t\tcredentials: \"include\"\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 401) {\r\n\t\t\t\t\tsetMessage(\"The email address or password is incorrect.\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn res.json();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((data) => {\r\n\t\t\t\tif (data) {\r\n\t\t\t\t\tdispatch(setAuth(data.auth));\r\n\t\t\t\t}\r\n\t\t\t\t//console.log(\"fetch form.js log in\");\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err));\r\n\t};\r\n\r\n\tconst [passwordValidate, setPasswordValidated] = useState(true);\r\n\r\n\tconst handelSingup = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (singupFilds.password === singupFilds.confirm) {\r\n\t\t\tsetPasswordValidated(true);\r\n\t\t\tlet send = {\r\n\t\t\t\temail: singupFilds.email,\r\n\t\t\t\tname: singupFilds.name,\r\n\t\t\t\tbirthday: singupFilds.birthday,\r\n\t\t\t\tpassword: singupFilds.password\r\n\t\t\t};\r\n\t\t\tfetch(`${SERVER_URL}/singup`, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\tbody: JSON.stringify(send),\r\n\t\t\t\theaders: {\"Content-type\": \"application/json; charset=UTF-8\"},\r\n\t\t\t\tcredentials: \"include\"\r\n\t\t\t})\r\n\t\t\t\t.then((res) => res.json())\r\n\t\t\t\t.then((data) => {\r\n\t\t\t\t\tif (data.message) {\r\n\t\t\t\t\t\tsetMessage(data.message);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdispatch(setAuth(data.auth));\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//console.log(\"fetch form.js sing up\");\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => console.log(err));\r\n\t\t} else {\r\n\t\t\tsetPasswordValidated(false);\r\n\t\t}\r\n\t};\r\n\r\n\tlet form;\r\n\tif (formType === \"logIn\") {\r\n\t\tform = (\r\n\t\t\t<form onSubmit={handelLogin}>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\tplaceholder=\"Enter your Email\"\r\n\t\t\t\t\tname=\"emial\"\r\n\t\t\t\t\tvalue={loginFlids.email}\r\n\t\t\t\t\tonChange={(e) => setLoginFilds({...loginFlids, email: e.target.value})}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tplaceholder=\"Enter your Password\"\r\n\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\tvalue={loginFlids.password}\r\n\t\t\t\t\tonChange={(e) => setLoginFilds({...loginFlids, password: e.target.value})}\r\n\t\t\t\t\tautoComplete=\"on\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t{message ? <p className=\"alert-form\">{message}</p> : null}\r\n\t\t\t\t<button type=\"submit\" value=\"Submit\">\r\n\t\t\t\t\tLog In\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t);\r\n\t} else {\r\n\t\tform = (\r\n\t\t\t<form onSubmit={handelSingup}>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\tplaceholder=\"Enter your Email\"\r\n\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\tvalue={singupFilds.email}\r\n\t\t\t\t\tonChange={(e) => setSingupFilds({...singupFilds, email: e.target.value})}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder=\"Enter your Name\"\r\n\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\tvalue={singupFilds.name}\r\n\t\t\t\t\tonChange={(e) => setSingupFilds({...singupFilds, name: e.target.value})}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype={brithFocus}\r\n\t\t\t\t\tonFocus={() => setBirthFocus(\"date\")}\r\n\t\t\t\t\tonBlur={() => setBirthFocus(\"text\")}\r\n\t\t\t\t\tplaceholder=\"Enter your Birthday\"\r\n\t\t\t\t\tname=\"birthday\"\r\n\t\t\t\t\tvalue={singupFilds.birthday}\r\n\t\t\t\t\tonChange={(e) => setSingupFilds({...singupFilds, birthday: e.target.value})}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tplaceholder=\"Enter your Password\"\r\n\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\tvalue={singupFilds.password}\r\n\t\t\t\t\tonChange={(e) => setSingupFilds({...singupFilds, password: e.target.value})}\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tplaceholder=\"Confirm Password\"\r\n\t\t\t\t\tname=\"confim\"\r\n\t\t\t\t\tvalue={singupFilds.confirm}\r\n\t\t\t\t\tonChange={(e) => setSingupFilds({...singupFilds, confirm: e.target.value})}\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t/>\r\n\t\t\t\t{!passwordValidate ? (\r\n\t\t\t\t\t<p className=\"alert-form\">Passwords don't match</p>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p></p>\r\n\t\t\t\t)}\r\n\t\t\t\t{message ? <p className=\"alert-form\">{message}</p> : null}\r\n\t\t\t\t<button type=\"submit\">Sing Up</button>\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"form-container\">\r\n\t\t\t{form}\r\n\t\t\t<p>or</p>\r\n\t\t\t<p className=\"red\" onClick={formSwitch}>\r\n\t\t\t\t{formType === \"logIn\" ? \"Sing Up\" : \"Log In\"}\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, {useState} from \"react\";\r\nimport SERVER_URL from \"../../serverUrl\";\r\n\r\nexport default function Recover({setShowRecover}) {\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [message, setMessage] = useState(\"\");\r\n\r\n\tconst handelSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetMessage(\"Loading...\");\r\n\t\t//console.log(email);\r\n\r\n\t\tfetch(`${SERVER_URL}/recover`, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tbody: JSON.stringify({email}),\r\n\t\t\theaders: {\"Content-type\": \"application/json; charset=UTF-8\"},\r\n\t\t\tcredentials: \"include\"\r\n\t\t})\r\n\t\t\t.then((res) => res.json())\r\n\t\t\t.then((data) => {\r\n\t\t\t\tsetMessage(data.message);\r\n\t\t\t});\r\n\t\tsetEmail(\"\");\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"recover-container\">\r\n\t\t\t<div className=\"recover\">\r\n\t\t\t\t<img src=\"img/exit.svg\" alt=\"close\" onClick={() => setShowRecover(false)} />\r\n\t\t\t\t<h3>Enter your email to recover your password</h3>\r\n\t\t\t\t<form onSubmit={handelSubmit}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button type=\"submit\">Submit</button>\r\n\t\t\t\t</form>\r\n\t\t\t\t<p>{message}</p>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tYou are going to receive an email with a link to recover your password, this\r\n\t\t\t\t\tlink is valid for 24hs.\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\nimport Form from './Form';\r\nimport './home.css';\r\nimport Recover from './Recover';\r\n\r\nexport default function Home() {\r\n    const [showRecover, setShowRecover]= useState(false);\r\n    return (\r\n        <div className=\"main-container\">\r\n            {showRecover ? (<Recover setShowRecover={setShowRecover}/>) : (null)}\r\n            <header style={{ backgroundImage: `url(/img/header.svg)`}}>\r\n                <img src=\"img/logo1.svg\" alt=\"Happy Day\"></img>\r\n                <h2>Birthdays and Anniversaries Reminder</h2>\r\n            </header>\r\n            <main>\r\n            <Form/>\r\n            <div className=\"card\">\r\n                <h3>Start in 3 simple steps:</h3>\r\n                <div className=\"step\">\r\n                    <div className=\"num\">1</div><p>Sing up or log in.</p>\r\n                </div>\r\n                <div className=\"step\">\r\n                    <div className=\"num\">2</div><p>Add the birthdays or anniversaries of your friends and family.</p>\r\n                </div>\r\n                <div className=\"step\">\r\n                    <div className=\"num\">3</div><p>Allows the application to send notifications  \r\n                        (You will also receive the reminders in your email).</p>\r\n                </div>\r\n            </div>\r\n            </main>\r\n            <footer  style={{ backgroundImage: `url(/img/footer.svg)`}}>\r\n            <p>Forgot Your Password? <span className=\"red\" onClick={()=>setShowRecover(true)} >Recover it</span></p> \r\n            </footer>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport \"./loading.css\"\r\n\r\nexport default function Loading() {\r\n    return (\r\n        <div className=\"loading-container\">\r\n        <img src=\"img/logo1.svg\" alt=\"Happy Day\" className=\"loading-logo\"/>\r\n        <div className=\"wheel-container\">\r\n        <img src=\"img/loading.svg\" alt=\"loading\" className=\"loading-wheel\" />\r\n        <p>Loading...</p>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n","export const UPDATE_CALENDAR= \"UPDATE_CALENDAR\";","import { UPDATE_CALENDAR } from \"../const/udateCalendarConst\";\r\n\r\nexport const updateCalendar= (state) => (dispatch)=>{\r\n    dispatch({\r\n        type: UPDATE_CALENDAR,\r\n        payload: state \r\n    });\r\n}","export const SET_MESSAGE= 'SET_MESSAGE';","import { SET_MESSAGE } from \"../const/messageConst\";\r\n\r\nexport const setMessage=(message)=>(dispatch)=>{\r\n    dispatch({\r\n        type: SET_MESSAGE,\r\n        payload: message\r\n    });\r\n}","import React, {useState} from \"react\";\r\nimport \"./cards.css\";\r\nimport {setAuth} from \"../../../redux/actions/authActions\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {updateCalendar} from \"../../../redux/actions/upadateCalendarActions\";\r\nimport {setMessage} from \"../../../redux/actions/messageActions\";\r\nimport SERVER_URL from \"../../../serverUrl\";\r\n\r\nconst abrMonths = [\r\n\t\"Jan\",\r\n\t\"Feb\",\r\n\t\"Mar\",\r\n\t\"Apr\",\r\n\t\"May\",\r\n\t\"Jun\",\r\n\t\"Jul\",\r\n\t\"Aug\",\r\n\t\"Sep\",\r\n\t\"Oct\",\r\n\t\"Nov\",\r\n\t\"Dec\"\r\n];\r\n\r\nexport default function Add() {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst [formFields, setFormFields] = useState({\r\n\t\tevent: \"birthday\",\r\n\t\ttype: \"\",\r\n\t\tday: \"\",\r\n\t\tmonth: abrMonths[0],\r\n\t\tyear: \"\",\r\n\t\tpersonName: \"\",\r\n\t\treminders: [{title: \"The Same Day\", date: \"\"}]\r\n\t});\r\n\r\n\tconst [reminder, setReminder] = useState({\r\n\t\ttimeBefore: \"same-day\",\r\n\t\tnumBefore: \"\"\r\n\t});\r\n\r\n\tconst addReminder = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tlet newReminder = {\r\n\t\t\ttitle: \"\",\r\n\t\t\tdate: \"\"\r\n\t\t};\r\n\r\n\t\tswitch (reminder.timeBefore) {\r\n\t\t\tcase \"same-day\":\r\n\t\t\t\tnewReminder.title = \"The Same Day\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"days-before\":\r\n\t\t\t\tnewReminder.title = `${reminder.numBefore} Days Before`;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"weeks-before\":\r\n\t\t\t\tnewReminder.title = `${reminder.numBefore} Weeks Before`;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tlet remindersArry = formFields.reminders;\r\n\t\tremindersArry.push(newReminder);\r\n\r\n\t\tsetFormFields({...formFields, reminders: remindersArry});\r\n\t};\r\n\r\n\tconst removeReminder = (i) => {\r\n\t\tlet remindersArry = formFields.reminders;\r\n\t\tremindersArry.splice(i, 1);\r\n\r\n\t\tsetFormFields({...formFields, reminders: remindersArry});\r\n\t};\r\n\r\n\tconst submit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(setMessage(\"\"));\r\n\t\tlet submitForm = {\r\n\t\t\tevent: formFields.event,\r\n\t\t\ttype: formFields.type,\r\n\t\t\tdate: new Date(\r\n\t\t\t\t`${formFields.month} ${formFields.day} ${\r\n\t\t\t\t\tformFields.year === \"\" ? \"9999\" : formFields.year\r\n\t\t\t\t}`\r\n\t\t\t),\r\n\t\t\tpersonName: formFields.personName,\r\n\t\t\treminders: []\r\n\t\t};\r\n\r\n\t\tconst submitReminders = formFields.reminders.map((ele) => {\r\n\t\t\tlet eleR = {title: ele.title};\r\n\t\t\tif (ele.title === \"The Same Day\") {\r\n\t\t\t\teleR.date = submitForm.date;\r\n\t\t\t} else {\r\n\t\t\t\tconst dateSub = ele.title.split(\" \", 2);\r\n\t\t\t\tlet dateInMs = submitForm.date.getTime();\r\n\t\t\t\tconst oneDay = 1000 * 60 * 60 * 24;\r\n\t\t\t\tconst oneWeek = oneDay * 7;\r\n\t\t\t\tif (dateSub[1] === \"Days\") {\r\n\t\t\t\t\teleR.date = new Date(dateInMs - oneDay * dateSub[0]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\teleR.date = new Date(dateInMs - oneWeek * dateSub[0]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn eleR;\r\n\t\t});\r\n\r\n\t\tsubmitForm = {...submitForm, reminders: submitReminders};\r\n\r\n\t\tfetch(`${SERVER_URL}/add`, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tbody: JSON.stringify(submitForm),\r\n\t\t\theaders: {\"Content-type\": \"application/json; charset=UTF-8\"},\r\n\t\t\tcredentials: \"include\"\r\n\t\t})\r\n\t\t\t.then((res) => res.json())\r\n\t\t\t.then((data) => {\r\n\t\t\t\tif (data.auth === false) {\r\n\t\t\t\t\tdispatch(setAuth(data.auth));\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//console.log('fetch add.js')\r\n\t\t\t\t\tdispatch(setMessage(data.message));\r\n\t\t\t\t\tdispatch(updateCalendar(true));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err));\r\n\r\n\t\tsetFormFields({\r\n\t\t\tevent: \"birthday\",\r\n\t\t\ttype: \"\",\r\n\t\t\tday: \"\",\r\n\t\t\tmonth: abrMonths[0],\r\n\t\t\tyear: \"\",\r\n\t\t\tpersonName: \"\",\r\n\t\t\treminders: [{title: \"The Same Day\", date: \"\"}]\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form className=\"card-form\" onSubmit={(e) => submit(e)}>\r\n\t\t\t<div className=\"grup\">\r\n\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t<label htmlFor=\"event\">Event</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tname=\"event\"\r\n\t\t\t\t\t\tid=\"event\"\r\n\t\t\t\t\t\tonChange={(e) => setFormFields({...formFields, event: e.target.value})}\r\n\t\t\t\t\t\tvalue={formFields.event}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option value=\"birthday\">Birthday</option>\r\n\t\t\t\t\t\t<option value=\"anniversary\">Anniversary</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{formFields.event === \"anniversary\" ? (\r\n\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t<label htmlFor=\"type\">Type</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tname=\"type\"\r\n\t\t\t\t\t\t\tid=\"type\"\r\n\t\t\t\t\t\t\tonChange={(e) => setFormFields({...formFields, type: e.target.value})}\r\n\t\t\t\t\t\t\tvalue={formFields.type}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"grup\">\r\n\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t<label htmlFor=\"day\">Day</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName=\"day\"\r\n\t\t\t\t\t\tid=\"day\"\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tname=\"day\"\r\n\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\tmax=\"31\"\r\n\t\t\t\t\t\tstep=\"1\"\r\n\t\t\t\t\t\tonChange={(e) => setFormFields({...formFields, day: e.target.value})}\r\n\t\t\t\t\t\tvalue={formFields.day}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t<label htmlFor=\"month\">Month</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tname=\"month\"\r\n\t\t\t\t\t\tid=\"month\"\r\n\t\t\t\t\t\tonChange={(e) => setFormFields({...formFields, month: e.target.value})}\r\n\t\t\t\t\t\tvalue={formFields.month}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{abrMonths.map((m, i) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<option key={i} value={m}>\r\n\t\t\t\t\t\t\t\t\t{m}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t<label htmlFor=\"year\">Year</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName=\"year\"\r\n\t\t\t\t\t\tid=\"year\"\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tname=\"year\"\r\n\t\t\t\t\t\tplaceholder=\"any\"\r\n\t\t\t\t\t\tmax=\"9999\"\r\n\t\t\t\t\t\tonChange={(e) => setFormFields({...formFields, year: e.target.value})}\r\n\t\t\t\t\t\tvalue={formFields.year}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"label\">\r\n\t\t\t\t<label htmlFor=\"name\">Name</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\tonChange={(e) => setFormFields({...formFields, personName: e.target.value})}\r\n\t\t\t\t\tvalue={formFields.personName}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"grup\">\r\n\t\t\t\t<div className=\"grup\">\r\n\t\t\t\t\t<label htmlFor=\"time-before\">Add Reminders</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tname=\"time-before\"\r\n\t\t\t\t\t\tid=\"time-before\"\r\n\t\t\t\t\t\tonChange={(e) => setReminder({...reminder, timeBefore: e.target.value})}\r\n\t\t\t\t\t\tvalue={reminder.timeBefore}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option value=\"same-day\">The Same Day</option>\r\n\t\t\t\t\t\t<option value=\"days-before\">Days Before</option>\r\n\t\t\t\t\t\t<option value=\"weeks-before\">Weeks Before</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t{reminder.timeBefore !== \"same-day\" ? (\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"a-r-n\"\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"num-before\"\r\n\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\tstep=\"1\"\r\n\t\t\t\t\t\t\tdata-testid=\"numBefore\"\r\n\t\t\t\t\t\t\tonChange={(e) => setReminder({...reminder, numBefore: e.target.value})}\r\n\t\t\t\t\t\t\tvalue={reminder.numBefore}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t<button className=\"a-r-b\" onClick={(e) => addReminder(e)}>\r\n\t\t\t\t\t\tAdd\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul className=\"reminders\">\r\n\t\t\t\t\t{formFields.reminders.map((ele, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li key={i}>\r\n\t\t\t\t\t\t\t\t{ele.title}{\" \"}\r\n\t\t\t\t\t\t\t\t<img src=\"img/drop.svg\" alt=\"drop\" onClick={() => removeReminder(i)} />\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"card-form-submit\">\r\n\t\t\t\t<button type=\"submit\">Add Event</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n","export const SHOW_NONE= 'SHOW_NONE';\r\nexport const SHOW_EDIT= \"SHOW_EDIT\";\r\nexport const SHOW_HELP= \"SHOW_HELP\";\r\nexport const SHOW_ADD= \"SHOW_ADD\";\r\nexport const SHOW_SEARCH= \"SHOW_SEARCH\";\r\nexport const SHOW_SETTINGS= \"SHOW_SETTINGS\";","import { SHOW_HELP, SHOW_NONE, SHOW_EDIT, SHOW_ADD, SHOW_SEARCH, SHOW_SETTINGS } from \"../const/showCardConst\";\r\n\r\nexport const showHelp=()=>(dispatch)=>{\r\n    dispatch({\r\n        type: SHOW_HELP,\r\n        payload: \"help\"\r\n    });\r\n}\r\n\r\nexport const showNone=()=>(dispatch)=>{\r\n    dispatch({\r\n        type: SHOW_NONE,\r\n        payload: \"none\"\r\n    });\r\n}\r\n\r\nexport const showEdit=()=>(dispatch)=>{\r\n    dispatch({\r\n        type: SHOW_EDIT,\r\n        payload: \"edit\"\r\n    });\r\n}\r\n\r\nexport const showAdd=()=>(dispatch)=>{\r\n    dispatch({\r\n        type: SHOW_ADD,\r\n        payload: \"add\"\r\n    });\r\n}\r\n\r\nexport const showSearch=()=>(dispatch)=>{\r\n    dispatch({\r\n        type: SHOW_SEARCH,\r\n        payload: \"search\"\r\n    });\r\n}\r\n\r\nexport const showSettings=()=>(dispatch)=>{\r\n    dispatch({\r\n        type: SHOW_SETTINGS,\r\n        payload: \"settings\"\r\n    });\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport \"./cards.css\";\r\nimport {setAuth} from \"../../../redux/actions/authActions\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {updateCalendar} from \"../../../redux/actions/upadateCalendarActions\";\r\nimport {showNone} from \"../../../redux/actions/showCardActions\";\r\nimport {setMessage} from \"../../../redux/actions/messageActions\";\r\nimport SERVER_URL from \"../../../serverUrl\";\r\n\r\nconst abrMonths = [\r\n\t\"Jan\",\r\n\t\"Feb\",\r\n\t\"Mar\",\r\n\t\"Apr\",\r\n\t\"May\",\r\n\t\"Jun\",\r\n\t\"Jul\",\r\n\t\"Aug\",\r\n\t\"Sep\",\r\n\t\"Oct\",\r\n\t\"Nov\",\r\n\t\"Dec\"\r\n];\r\n\r\nexport default function Edit() {\r\n\tconst dispatch = useDispatch();\r\n\tconst edit = useSelector((store) => store.edit.event);\r\n\tconst showCard = useSelector((store) => store.showCard.card);\r\n\r\n\tconst [formFields, setFormFields] = useState({\r\n\t\tevent: edit.type,\r\n\t\ttype: edit.AnniversaryType,\r\n\t\tday: new Date(edit.date).getDate(),\r\n\t\tmonth: abrMonths[new Date(edit.date).getMonth()],\r\n\t\tyear:\r\n\t\t\tnew Date(edit.date).getFullYear() > 9000 ? \"\" : new Date(edit.date).getFullYear(),\r\n\t\tpersonName: edit.personName,\r\n\t\treminders: edit.reminders\r\n\t});\r\n\r\n\t//add info in fields\r\n\tuseEffect(() => {\r\n\t\tsetFormFields({\r\n\t\t\tevent: edit.type,\r\n\t\t\ttype: edit.AnniversaryType,\r\n\t\t\tday: new Date(edit.date).getDate(),\r\n\t\t\tmonth: abrMonths[new Date(edit.date).getMonth()],\r\n\t\t\tyear:\r\n\t\t\t\tnew Date(edit.date).getFullYear() > 9000 ? \"\" : new Date(edit.date).getFullYear(),\r\n\t\t\tpersonName: edit.personName,\r\n\t\t\treminders: edit.reminders\r\n\t\t});\r\n\t}, [edit, showCard]);\r\n\r\n\tconst [reminder, setReminder] = useState({\r\n\t\ttimeBefore: \"same-day\",\r\n\t\tnumBefore: \"\"\r\n\t});\r\n\r\n\tconst addReminder = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tlet newReminder = {\r\n\t\t\tname: \"\",\r\n\t\t\tdate: \"\"\r\n\t\t};\r\n\r\n\t\tswitch (reminder.timeBefore) {\r\n\t\t\tcase \"same-day\":\r\n\t\t\t\tnewReminder.name = \"The Same Day\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"days-before\":\r\n\t\t\t\tnewReminder.name = `${reminder.numBefore} Days Before`;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"weeks-before\":\r\n\t\t\t\tnewReminder.name = `${reminder.numBefore} Weeks Before`;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tlet remindersArry = [...formFields.reminders];\r\n\t\tremindersArry.push(newReminder);\r\n\r\n\t\tsetFormFields({...formFields, reminders: remindersArry});\r\n\t};\r\n\r\n\tconst removeReminder = (i) => {\r\n\t\tlet remindersArry = [...formFields.reminders];\r\n\t\tlet ele = remindersArry.splice(i, 1);\r\n\t\tif (formFields.removeReminders) {\r\n\t\t\tlet rr = formFields.removeReminders;\r\n\t\t\trr.push(ele[0]._id);\r\n\t\t\tsetFormFields({...formFields, reminders: remindersArry, removeReminders: rr});\r\n\t\t} else {\r\n\t\t\tsetFormFields({\r\n\t\t\t\t...formFields,\r\n\t\t\t\treminders: remindersArry,\r\n\t\t\t\tremoveReminders: [ele[0]._id]\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst submit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(setMessage(\"\"));\r\n\t\tlet submitForm = {\r\n\t\t\tevent: formFields.event,\r\n\t\t\ttype: formFields.event === \"birthday\" ? \"\" : formFields.type,\r\n\t\t\tdate: new Date(\r\n\t\t\t\t`${formFields.month} ${formFields.day} ${\r\n\t\t\t\t\tformFields.year === \"\" ? \"9999\" : formFields.year\r\n\t\t\t\t}`\r\n\t\t\t),\r\n\t\t\tpersonName: formFields.personName,\r\n\t\t\treminders: [],\r\n\t\t\tremoveReminders: formFields.removeReminders ? formFields.removeReminders : [],\r\n\t\t\t_id: edit._id\r\n\t\t};\r\n\r\n\t\tconst submitReminders = formFields.reminders.map((ele) => {\r\n\t\t\tlet eleR = {\r\n\t\t\t\tname: ele.name,\r\n\t\t\t\tevent: edit._id,\r\n\t\t\t\tdate: ele.date ? ele.date : null,\r\n\t\t\t\t_id: ele._id ? ele._id : null\r\n\t\t\t};\r\n\t\t\tif (!eleR.date) {\r\n\t\t\t\tif (ele.name === \"The Same Day\") {\r\n\t\t\t\t\teleR.date = submitForm.date;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst dateSub = ele.name.split(\" \", 2);\r\n\t\t\t\t\tlet dateInMs = submitForm.date.getTime();\r\n\t\t\t\t\tconst oneDay = 1000 * 60 * 60 * 24;\r\n\t\t\t\t\tconst oneWeek = oneDay * 7;\r\n\t\t\t\t\tif (dateSub[1] === \"Days\") {\r\n\t\t\t\t\t\teleR.date = new Date(dateInMs - oneDay * dateSub[0]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\teleR.date = new Date(dateInMs - oneWeek * dateSub[0]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn eleR;\r\n\t\t});\r\n\r\n\t\tsubmitForm = {...submitForm, reminders: submitReminders};\r\n\r\n\t\tfetch(`${SERVER_URL}/edit`, {\r\n\t\t\tmethod: \"PUT\",\r\n\t\t\tbody: JSON.stringify(submitForm),\r\n\t\t\theaders: {\"Content-type\": \"application/json; charset=UTF-8\"},\r\n\t\t\tcredentials: \"include\"\r\n\t\t})\r\n\t\t\t.then((res) => res.json())\r\n\t\t\t.then((data) => {\r\n\t\t\t\tif (data.auth === false) {\r\n\t\t\t\t\t//setAuth(data.auth);\r\n\t\t\t\t\tdispatch(setAuth(data.auth));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdispatch(setMessage(data.message));\r\n\t\t\t\t\tif (data.message === \"Event Edited\") {\r\n\t\t\t\t\t\tdispatch(updateCalendar(true));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//console.log(\"fetch edit.js edit\");\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err));\r\n\r\n\t\tdispatch(showNone());\r\n\t};\r\n\r\n\tconst deleteEvent = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(setMessage(\"\"));\r\n\t\t//console.log('delete');\r\n\t\tconst eventToDelete = {\r\n\t\t\teventId: edit._id,\r\n\t\t\tremindersId: []\r\n\t\t};\r\n\r\n\t\tedit.reminders.forEach((ele) => {\r\n\t\t\teventToDelete.remindersId.push(ele._id);\r\n\t\t});\r\n\r\n\t\tfetch(`${SERVER_URL}/delete`, {\r\n\t\t\tmethod: \"DELETE\",\r\n\t\t\tbody: JSON.stringify(eventToDelete),\r\n\t\t\theaders: {\"Content-type\": \"application/json; charset=UTF-8\"},\r\n\t\t\tcredentials: \"include\"\r\n\t\t})\r\n\t\t\t.then((res) => res.json())\r\n\t\t\t.then((data) => {\r\n\t\t\t\tif (data.auth === false) {\r\n\t\t\t\t\tdispatch(setAuth(data.auth));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdispatch(setMessage(data.message));\r\n\t\t\t\t\tdispatch(updateCalendar(true));\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(\"fetch edit.js delete\");\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err));\r\n\r\n\t\tdispatch(showNone());\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form className=\"card-form\" onSubmit={(e) => submit(e)}>\r\n\t\t\t<div className=\"grup\">\r\n\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t<label htmlFor=\"editEvent\">Event</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tname=\"editEvent\"\r\n\t\t\t\t\t\tid=\"editEvent\"\r\n\t\t\t\t\t\tonChange={(e) => setFormFields({...formFields, event: e.target.value})}\r\n\t\t\t\t\t\tvalue={formFields.event}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option value=\"birthday\">Birthday</option>\r\n\t\t\t\t\t\t<option value=\"anniversary\">Anniversary</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{formFields.event === \"anniversary\" ? (\r\n\t\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t\t<label htmlFor=\"editType\">Type</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tname=\"editType\"\r\n\t\t\t\t\t\t\tid=\"editType\"\r\n\t\t\t\t\t\t\tonChange={(e) => setFormFields({...formFields, type: e.target.value})}\r\n\t\t\t\t\t\t\tvalue={formFields.type}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"grup\">\r\n\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t<label htmlFor=\"editDay\">Day</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName=\"day\"\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tname=\"editDay\"\r\n\t\t\t\t\t\tid=\"editDay\"\r\n\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\tmax=\"31\"\r\n\t\t\t\t\t\tstep=\"1\"\r\n\t\t\t\t\t\tonChange={(e) => setFormFields({...formFields, day: e.target.value})}\r\n\t\t\t\t\t\tvalue={formFields.day}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t<label htmlFor=\"editMonth\">Month</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tname=\"editMonth\"\r\n\t\t\t\t\t\tid=\"editMonth\"\r\n\t\t\t\t\t\tonChange={(e) => setFormFields({...formFields, month: e.target.value})}\r\n\t\t\t\t\t\tvalue={formFields.month}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{abrMonths.map((m, i) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<option key={i} value={m}>\r\n\t\t\t\t\t\t\t\t\t{m}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"label\">\r\n\t\t\t\t\t<label htmlFor=\"editYear\">Year</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName=\"year\"\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tname=\"editYear\"\r\n\t\t\t\t\t\tid=\"editYear\"\r\n\t\t\t\t\t\tplaceholder=\"any\"\r\n\t\t\t\t\t\tmax=\"9999\"\r\n\t\t\t\t\t\tonChange={(e) => setFormFields({...formFields, year: e.target.value})}\r\n\t\t\t\t\t\tvalue={formFields.year}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"label\">\r\n\t\t\t\t<label htmlFor=\"editName\">Name</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"editName\"\r\n\t\t\t\t\tid=\"editName\"\r\n\t\t\t\t\tonChange={(e) => setFormFields({...formFields, personName: e.target.value})}\r\n\t\t\t\t\tvalue={formFields.personName}\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"grup\">\r\n\t\t\t\t<div className=\"grup\">\r\n\t\t\t\t\t<label htmlFor=\"time-before-edit\">Add Reminders</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tname=\"time-before-edit\"\r\n\t\t\t\t\t\tid=\"time-before-edit\"\r\n\t\t\t\t\t\tonChange={(e) => setReminder({...reminder, timeBefore: e.target.value})}\r\n\t\t\t\t\t\tvalue={reminder.timeBefore}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option value=\"same-day\">The Same Day</option>\r\n\t\t\t\t\t\t<option value=\"days-before\">Days Before</option>\r\n\t\t\t\t\t\t<option value=\"weeks-before\">Weeks Before</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t{reminder.timeBefore !== \"same-day\" ? (\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"a-r-n\"\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"num-before\"\r\n\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\tstep=\"1\"\r\n\t\t\t\t\t\t\tdata-testid=\"num-before-test\"\r\n\t\t\t\t\t\t\tonChange={(e) => setReminder({...reminder, numBefore: e.target.value})}\r\n\t\t\t\t\t\t\tvalue={reminder.numBefore}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t<button className=\"a-r-b\" onClick={(e) => addReminder(e)}>\r\n\t\t\t\t\t\tAdd\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul className=\"reminders\">\r\n\t\t\t\t\t{formFields.reminders.map((ele, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li key={i}>\r\n\t\t\t\t\t\t\t\t{ele.name}{\" \"}\r\n\t\t\t\t\t\t\t\t<img src=\"img/drop.svg\" alt=\"drop\" onClick={() => removeReminder(i)} />\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"card-form-submit drop\">\r\n\t\t\t\t<button type=\"submit\">Edit Event</button>\r\n\t\t\t\t<button className=\"btn-drop\" onClick={(e) => deleteEvent(e)}>\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\tclassName=\"btn-drop-img\"\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\tviewBox=\"0 0 12.18 13.92\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<defs></defs>\r\n\t\t\t\t\t\t<title>drop</title>\r\n\t\t\t\t\t\t<g id=\"Layer_2\" data-name=\"Layer 2\">\r\n\t\t\t\t\t\t\t<g id=\"Layer_2-2\" data-name=\"Layer 2\">\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\tclassName=\"cls-1\"\r\n\t\t\t\t\t\t\t\t\td=\"M.87,12.61a1.31,1.31,0,0,0,1.3,1.31H10a1.31,1.31,0,0,0,1.31-1.31h0V3.48H.87Zm7.39-7a.44.44,0,0,1,.44-.43.43.43,0,0,1,.43.43v6.09a.44.44,0,0,1-.43.44.44.44,0,0,1-.44-.44Zm-2.61,0a.44.44,0,0,1,.44-.43.43.43,0,0,1,.43.43v6.09a.44.44,0,0,1-.43.44.44.44,0,0,1-.44-.44ZM3,5.65a.44.44,0,0,1,.44-.43.43.43,0,0,1,.43.43v6.09a.44.44,0,0,1-.43.44A.44.44,0,0,1,3,11.74ZM11.74.87H8.48L8.23.36A.66.66,0,0,0,7.64,0H4.53A.66.66,0,0,0,4,.36L3.7.87H.43A.43.43,0,0,0,0,1.3v.87a.44.44,0,0,0,.43.44H11.74a.44.44,0,0,0,.44-.44V1.3A.44.44,0,0,0,11.74.87Z\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</g>\r\n\t\t\t\t\t\t</g>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Help() {\r\n    return (\r\n        <div className=\"card-form\">\r\n\r\n            <ul className=\"help\">\r\n                <li>click on an event to edit it or delete it</li>\r\n                <li>click on <img src=\"img/add.svg\" alt=\"add\"/> to add a new event</li>\r\n                <li>click on <img src=\"img/search.svg\" alt=\"search\"/> to search an event</li>\r\n                <li>click on <img src=\"img/settings.svg\" alt=\"settings\"/> to edit notifications settings</li>\r\n                <li>click on the months icons to go to a specific month</li>\r\n                <li>click on <img src=\"img/logout.svg\" alt=\"logout\"/> to logout</li>\r\n            </ul>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","export const SET_SEARCH_FILTERS= \"SET_SEARCH_FILTERS\";","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport { setSearchfilters } from '../../../redux/actions/searchFiltersActions';\r\nimport { showNone } from '../../../redux/actions/showCardActions';\r\n\r\nexport default function Search() {\r\n    const [filds, setFilds]= useState({\r\n        from:'',\r\n        to:'',\r\n        name: '',\r\n        type: 'any'\r\n    });\r\n\r\n    const dispatch= useDispatch();\r\n\r\n    const searchEvents=(e)=>{\r\n        e.preventDefault();\r\n\r\n        dispatch(setSearchfilters(filds));\r\n \r\n        dispatch(showNone());\r\n\r\n        setFilds({\r\n            from:'',\r\n            to:'',\r\n            name: '',\r\n            type: 'any'\r\n        });\r\n    }\r\n    return (\r\n        <form className=\"card-form\" onSubmit={(e)=>searchEvents(e)}>\r\n\r\n            <div className=\"grup\">\r\n                <div className=\"label\">\r\n                    <label htmlFor=\"from\">From</label>\r\n                    <input className=\"form-to\" id=\"from\" type=\"text\" placeholder=\"mm/dd\" pattern=\"\\d{2}/\\d{2}\" \r\n                    value={filds.from} onChange={(e)=> setFilds({...filds, from: e.target.value})}/>\r\n                </div>\r\n                <div className=\"label\">\r\n                    <label htmlFor=\"to\">To</label>\r\n                    <input className=\"form-to\" type=\"text\" id=\"to\" placeholder=\"mm/dd\" pattern=\"\\d{2}/\\d{2}\"\r\n                    value={filds.to} onChange={(e)=>setFilds({...filds, to: e.target.value})}/>\r\n                </div>\r\n            </div>\r\n            <div className=\"label\">\r\n                <label htmlFor=\"searchName\">Name</label>\r\n                <input type=\"text\" placeholder=\"any\" id=\"searchName\" value={filds.name} onChange={(e)=>setFilds({...filds, name: e.target.value})} />\r\n            </div>\r\n            \r\n            \r\n            <div className=\"label\">\r\n                <label htmlFor=\"searchType\">Type</label>\r\n                    <select name=\"searchType\" id=\"searchType\" value={filds.type} onChange={(e)=>setFilds({...filds, type: e.target.value})} required>\r\n                        <option value=\"any\">Any</option>\r\n                        <option value=\"birthday\">Birthday</option>\r\n                        <option value=\"anniversary\">Anniversary</option>\r\n                    </select>\r\n            </div>\r\n\r\n            <div className=\"card-form-submit\">\r\n                    <button type=\"submit\">Search</button>\r\n            </div>\r\n            \r\n        </form>\r\n    )\r\n}\r\n","import { SET_SEARCH_FILTERS } from \"../const/searchfiltersConst\";\r\n\r\nexport const setSearchfilters=(filters)=>(dispatch)=>{\r\n\r\n    dispatch({\r\n        type: SET_SEARCH_FILTERS,\r\n        payload: filters\r\n    });\r\n}","import SERVER_URL from \"./serverUrl\";\r\nconst pushServerPublicKey =\r\n\t\"BKyP2ldVQRindSkOeqb8Sl-oZG3br49DaDCGYPGw4rEu9tFbF1t1rG9rEjRbBfbAPnFhZNHLTw8rZ0XzfyMQkqE\";\r\n\r\nfunction urlBase64ToUint8Array(base64String) {\r\n\tconst padding = \"=\".repeat((4 - (base64String.length % 4)) % 4);\r\n\tconst base64 = (base64String + padding).replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n\r\n\tconst rawData = window.atob(base64);\r\n\tconst outputArray = new Uint8Array(rawData.length);\r\n\r\n\tfor (let i = 0; i < rawData.length; ++i) {\r\n\t\toutputArray[i] = rawData.charCodeAt(i);\r\n\t}\r\n\treturn outputArray;\r\n}\r\n\r\nfunction isPushNotificationSupported() {\r\n\treturn \"serviceWorker\" in navigator && \"PushManager\" in window;\r\n}\r\n\r\nfunction registerServiceWorker() {\r\n\treturn navigator.serviceWorker.register(\"/sw.js\");\r\n}\r\n\r\nasync function askUserPermission() {\r\n\treturn await Notification.requestPermission();\r\n}\r\n\r\nasync function createNotificationSubscription() {\r\n\t//wait for service worker installation to be ready\r\n\tconst serviceWorker = await navigator.serviceWorker.ready;\r\n\t// subscribe and return the subscription\r\n\treturn await serviceWorker.pushManager.subscribe({\r\n\t\tuserVisibleOnly: true,\r\n\t\tapplicationServerKey: urlBase64ToUint8Array(pushServerPublicKey)\r\n\t});\r\n}\r\n\r\nasync function postSubscription(subscription) {\r\n\tconst response = await fetch(`${SERVER_URL}/noti-sub`, {\r\n\t\tmethod: \"POST\",\r\n\t\tbody: JSON.stringify(subscription),\r\n\t\theaders: {\"Content-type\": \"application/json; charset=UTF-8\"},\r\n\t\tcredentials: \"include\"\r\n\t});\r\n\r\n\treturn await response.json();\r\n}\r\n\r\nexport {\r\n\tisPushNotificationSupported,\r\n\tregisterServiceWorker,\r\n\taskUserPermission,\r\n\tcreateNotificationSubscription,\r\n\tpostSubscription\r\n};\r\n","export const SET_EMAIL_NOTIFICATION= \"SET_EMIAL_NOTIFICATION\";\r\nexport const TOGGLE_EMIAL_NOTIFICATION= \"SET_TOGGLE_EMAIL_NOTIFICATION\" ","import React from \"react\";\r\nimport {\r\n\tisPushNotificationSupported,\r\n\tregisterServiceWorker,\r\n\taskUserPermission,\r\n\tcreateNotificationSubscription,\r\n\tpostSubscription\r\n} from \"../../../push-notifications\";\r\nimport {setAuth} from \"../../../redux/actions/authActions\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {setMessage} from \"../../../redux/actions/messageActions\";\r\nimport {toggleEmailNotification} from \"../../../redux/actions/emialNotificationActions\";\r\nimport SERVER_URL from \"../../../serverUrl\";\r\n\r\nexport default function Settings() {\r\n\tconst dispatch = useDispatch();\r\n\tconst emailNotification = useSelector((store) => store.emailNotification.activate);\r\n\r\n\tconst emailNotificationSettings = () => {\r\n\t\tdispatch(toggleEmailNotification());\r\n\r\n\t\tfetch(`${SERVER_URL}/emailNotification`, {\r\n\t\t\tmethod: \"PUT\",\r\n\t\t\theaders: {\"Content-type\": \"application/json; charset=UTF-8\"},\r\n\t\t\tcredentials: \"include\"\r\n\t\t})\r\n\t\t\t.then((res) => res.json())\r\n\t\t\t.then((data) => {\r\n\t\t\t\tif (data.auth === false) {\r\n\t\t\t\t\tdispatch(setAuth(data.auth));\r\n\t\t\t\t}\r\n\t\t\t\t//console.log(data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err));\r\n\t};\r\n\r\n\tconst activateBnotification = async () => {\r\n\t\ttry {\r\n\t\t\tif (isPushNotificationSupported()) {\r\n\t\t\t\tregisterServiceWorker();\r\n\t\t\t\tconst permission = await askUserPermission();\r\n\r\n\t\t\t\tif (permission === \"granted\") {\r\n\t\t\t\t\tconst subscription = await createNotificationSubscription();\r\n\t\t\t\t\tconst res = await postSubscription(subscription);\r\n\t\t\t\t\tif (res.auth === false) {\r\n\t\t\t\t\t\tdispatch(setAuth(res.auth));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdispatch(setMessage(\"Notifications Activated\"));\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\tsetMessage(\r\n\t\t\t\t\t\t\t\"Something went wrong, check your browser's notification settings and try again\"\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tdispatch(setMessage(\"Notifications are not supported by your browser\"));\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tif (error) console.log(error);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"card-form\">\r\n\t\t\t<div className=\"label-st\">\r\n\t\t\t\t<label htmlFor=\"emialSettings\">Email Notifications</label>\r\n\t\t\t\t<div className=\"switch-btn-container\">\r\n\t\t\t\t\t<p>on/off</p>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"switch-btn\"\r\n\t\t\t\t\t\tname=\"emialSettings\"\r\n\t\t\t\t\t\tdata-testid=\"emialSettings\"\r\n\t\t\t\t\t\tonClick={() => emailNotificationSettings()}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={emailNotification ? \"switch-btn-int\" : \"switch-btn-int eOff\"}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"label\">\r\n\t\t\t\t<label htmlFor=\"browser\">Browser Notifications</label>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"a-r-b\"\r\n\t\t\t\t\tstyle={{padding: \"5px 10px\"}}\r\n\t\t\t\t\tonClick={() => activateBnotification()}\r\n\t\t\t\t>\r\n\t\t\t\t\tActivate\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { SET_EMAIL_NOTIFICATION, TOGGLE_EMIAL_NOTIFICATION } from \"../const/emialNotificationConst\";\r\n\r\nexport const setEmailNotification=(activate)=>(dispatch)=>{\r\n\r\n    dispatch({\r\n        type: SET_EMAIL_NOTIFICATION,\r\n        payload: activate\r\n    });\r\n}\r\n\r\nexport const toggleEmailNotification= ()=>(dispatch)=>{\r\n    dispatch({type: TOGGLE_EMIAL_NOTIFICATION});\r\n}","import React,{useEffect, useState} from 'react'\r\nimport Add from './Add';\r\nimport './cards.css';\r\nimport Edit from './Edit';\r\nimport Help from './Help';\r\nimport Search from './Search';\r\nimport Settings from './Settings';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { showNone } from '../../../redux/actions/showCardActions';\r\n\r\nexport default function Card() {\r\n    const showCard= useSelector(store=> store.showCard.card);\r\n    const dispatch= useDispatch();\r\n    const [on, setOn]= useState(false);\r\n    const [title, setTitle]= useState('');\r\n    const [form, setForm]= useState(<Add/>);\r\n\r\n    //show cards and animation \r\n    useEffect(()=>{\r\n        const add=document.getElementById('card');\r\n        \r\n          let matrix= window.getComputedStyle(add, null).transform;\r\n        \r\n        setOn((prevOn)=> !prevOn);\r\n\r\n        if(matrix === 'none' && showCard !== 'none'){\r\n            setOn(false);\r\n            setTimeout(()=>{\r\n                switchForm(showCard);\r\n                setOn(true)\r\n            }, 500);\r\n            \r\n        }else if(matrix !== 'none' && showCard !== 'none'){\r\n            switchForm(showCard);\r\n        }\r\n\r\n\r\n        if(showCard === \"none\"){\r\n            setOn(false);\r\n        }\r\n\r\n      },[showCard]);\r\n\r\n\r\n      let switchForm=(sc)=>{\r\n          switch(sc){\r\n            case \"add\":\r\n                  setTitle(\"Add Event\");\r\n                  setForm(<Add />);\r\n                  break;\r\n\r\n            case \"search\":\r\n                    setTitle(\"Search Event\");\r\n                    setForm(<Search/>);\r\n                    break;\r\n\r\n            case \"settings\":\r\n                setTitle(\"Settings\");\r\n                setForm(<Settings/>)\r\n                break;\r\n\r\n            case \"help\":\r\n                setTitle(\"Help\");\r\n                setForm(<Help/>)\r\n                break;\r\n\r\n            case \"edit\":\r\n              setTitle(\"Edit Event\");\r\n              setForm(<Edit/>)\r\n                break;\r\n\r\n            default:\r\n                    break;\r\n          }\r\n      }\r\n\r\n     \r\n\r\n\r\n      return (\r\n        <div className={on ? \"toolbar-card\" : \"toolbar-card off\"} id=\"card\">\r\n\r\n          <div className=\"card-header\">\r\n            <h3>{title}</h3>\r\n            <img src=\"img/exit.svg\" alt=\"close card\"  onClick={()=>dispatch(showNone())}/>\r\n          </div>\r\n\r\n            {form}\r\n          \r\n        </div>\r\n        );\r\n}\r\n","import React, { useState } from 'react';\r\nimport './header.css';\r\n\r\nconst abrMonths=['JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN', 'JUL','AUG', 'SEP', 'OCT', 'NOV', 'DEC'];\r\n\r\nexport default function Header() {\r\n    const [alertClass, setAlertClass]= useState('alert');\r\n\r\n    //handel month btns click\r\n    const goToMonth=(month)=>{\r\n\r\n            var elem = document.getElementById(`month${month}`);\r\n            if(elem){\r\n                let scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n                let elemRect=elem.getBoundingClientRect();\r\n                let elePos= elemRect.top +scrollTop\r\n                window.scrollTo(0, elePos -200);\r\n            }else{\r\n                   \r\n                setAlertClass('show');\r\n                 \r\n            }\r\n\r\n    }\r\n\r\n    return (\r\n        <header style={{ backgroundImage: `url(/img/header.svg)`}} className=\"app-header\">\r\n            <img src=\"img/logo2.svg\" alt=\"Happy Day Logo\"/>\r\n\r\n            <div className=\"month-btn-container\">\r\n            {abrMonths.map((m,i)=>{\r\n                return (\r\n                    <div className={'month-btn ' + m} key={i} onClick={()=>goToMonth(i+1)}>\r\n                        {m}\r\n                        </div>\r\n                );\r\n            })}\r\n            </div>\r\n       \r\n            <div className={alertClass} onAnimationEnd={()=>setAlertClass('alert')}>\r\n            <p>You don't have events this month</p>\r\n            </div> \r\n    \r\n        </header>\r\n    )\r\n}","import React from \"react\";\r\nimport {setAuth} from \"../../../redux/actions/authActions\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport \"./toolbar.css\";\r\nimport {\r\n\tshowAdd,\r\n\tshowHelp,\r\n\tshowSearch,\r\n\tshowSettings\r\n} from \"../../../redux/actions/showCardActions\";\r\nimport SERVER_URL from \"../../../serverUrl\";\r\n\r\nexport default function Toolbar() {\r\n\t//const setAuth= useContext(authContext);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst logOut = () => {\r\n\t\tfetch(`${SERVER_URL}/logout`, {\r\n\t\t\tmethod: \"GET\",\r\n\t\t\theaders: {\"Content-type\": \"application/json; charset=UTF-8\"},\r\n\t\t\tcredentials: \"include\"\r\n\t\t})\r\n\t\t\t.then((res) => res.json())\r\n\t\t\t.then((data) => {\r\n\t\t\t\tdispatch(setAuth(data.auth));\r\n\t\t\t\t//console.log(\"fetch toolbar.js logout\");\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<footer className=\"toolbar\">\r\n\t\t\t<button className=\"toolbar-btn\" onClick={() => dispatch(showSearch())}>\r\n\t\t\t\t<img src=\"img/search.svg\" alt=\"search icon\" />\r\n\t\t\t</button>\r\n\t\t\t<button className=\"toolbar-btn\" onClick={() => dispatch(showAdd())}>\r\n\t\t\t\t<img src=\"img/add.svg\" alt=\"add icon\" />\r\n\t\t\t</button>\r\n\t\t\t<button className=\"toolbar-btn\" onClick={() => dispatch(showSettings())}>\r\n\t\t\t\t<img src=\"img/settings.svg\" alt=\"settings icon\" />\r\n\t\t\t</button>\r\n\t\t\t<button className=\"toolbar-btn\">\r\n\t\t\t\t<img src=\"img/help.svg\" alt=\"help icon\" onClick={() => dispatch(showHelp())} />\r\n\t\t\t</button>\r\n\t\t\t<button className=\"toolbar-btn\" onClick={() => logOut()}>\r\n\t\t\t\t<img src=\"img/logout.svg\" alt=\"logout icon\" />\r\n\t\t\t</button>\r\n\t\t</footer>\r\n\t);\r\n}\r\n","import React, {useCallback, useEffect, useState} from \"react\";\r\nimport \"./calendar.css\";\r\nimport {setAuth} from \"../../../redux/actions/authActions\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {updateCalendar} from \"../../../redux/actions/upadateCalendarActions\";\r\nimport {setEdit} from \"../../../redux/actions/editActions\";\r\nimport {showEdit} from \"../../../redux/actions/showCardActions\";\r\nimport SERVER_URL from \"../../../serverUrl\";\r\n\r\nconst monthNames = [\r\n\t\"January\",\r\n\t\"February\",\r\n\t\"March\",\r\n\t\"April\",\r\n\t\"May\",\r\n\t\"June\",\r\n\t\"July\",\r\n\t\"August\",\r\n\t\"September\",\r\n\t\"October\",\r\n\t\"November\",\r\n\t\"December\"\r\n];\r\n\r\nconst monthColors = [\r\n\t\"#216b8e\",\r\n\t\"#27a3a3\",\r\n\t\"#149e84\",\r\n\t\"#00ae4d\",\r\n\t\"#69d503\",\r\n\t\"#d6df24\",\r\n\t\"#edc01c\",\r\n\t\"#faa818\",\r\n\t\"#f19616\",\r\n\t\"#fd6126\",\r\n\t\"#9458a9\",\r\n\t\"#6258a2\"\r\n];\r\nlet lastId;\r\n\r\nexport default function Calendar() {\r\n\tconst dispatch = useDispatch();\r\n\tconst [calendarData, setCalendarData] = useState({});\r\n\tconst searchFilters = useSelector((store) => store.searchFilters.filters);\r\n\tconst [searchResults, setSearchResults] = useState({});\r\n\tconst [loadingData, setLoadingData] = useState(true);\r\n\tconst update = useSelector((store) => store.updateCalendar.update);\r\n\tconst showCard = useSelector((store) => store.showCard.card);\r\n\r\n\tconst fetchData = useCallback(() => {\r\n\t\t//setLoadingData(true)\r\n\r\n\t\tfetch(`${SERVER_URL}/events`, {\r\n\t\t\tmethod: \"GET\",\r\n\t\t\theaders: {\"Content-type\": \"application/json; charset=UTF-8\"},\r\n\t\t\tcredentials: \"include\"\r\n\t\t})\r\n\t\t\t.then((res) => res.json())\r\n\t\t\t.then((data) => {\r\n\t\t\t\tif (data.auth === false) {\r\n\t\t\t\t\tdispatch(setAuth(data.auth));\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//console.log(\"fetch calendar.js \");\r\n\t\t\t\t\tsetCalendarData(data);\r\n\t\t\t\t\tsetLoadingData(false);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err));\r\n\t}, [dispatch]);\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchData();\r\n\t}, [fetchData]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (update) {\r\n\t\t\tfetchData();\r\n\t\t\tdispatch(updateCalendar(false));\r\n\t\t}\r\n\t}, [update, dispatch, fetchData]);\r\n\r\n\t//search\r\n\tuseEffect(() => {\r\n\t\t//console.log(searchFilters);\r\n\t\tlet filterData = {};\r\n\t\tlet fromMonth;\r\n\t\tlet fromDay;\r\n\t\tlet toMonth;\r\n\t\tlet toDay;\r\n\r\n\t\tif (searchFilters.from) {\r\n\t\t\tconst from = searchFilters.from.split(\"/\");\r\n\t\t\tfromMonth = parseInt(from[0]);\r\n\t\t\tfromDay = parseInt(from[1]);\r\n\t\t} else {\r\n\t\t\tfromMonth = 0;\r\n\t\t\tfromDay = 0;\r\n\t\t}\r\n\t\tif (searchFilters.to) {\r\n\t\t\tconst to = searchFilters.to.split(\"/\");\r\n\t\t\ttoMonth = parseInt(to[0]);\r\n\t\t\ttoDay = parseInt(to[1]);\r\n\t\t} else {\r\n\t\t\ttoMonth = 99;\r\n\t\t\ttoDay = 99;\r\n\t\t}\r\n\r\n\t\tlet i = 0;\r\n\t\tlet lastMonth;\r\n\t\tfor (const month in calendarData) {\r\n\t\t\tif (month >= fromMonth && month <= toMonth) {\r\n\t\t\t\ti++;\r\n\t\t\t\tlastMonth = month;\r\n\r\n\t\t\t\tif (i === 1) {\r\n\t\t\t\t\tfilterData[month] = {};\r\n\t\t\t\t\tfor (const day in calendarData[month]) {\r\n\t\t\t\t\t\tif (day >= fromDay) {\r\n\t\t\t\t\t\t\tfilterData[month][day] = [...calendarData[month][day]];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfilterData[month] = {...calendarData[month]};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (const day in filterData[lastMonth]) {\r\n\t\t\tif (day > toDay) {\r\n\t\t\t\tdelete filterData[lastMonth][day];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (searchFilters.name) {\r\n\t\t\tfor (const month in filterData) {\r\n\t\t\t\tfor (const day in filterData[month]) {\r\n\t\t\t\t\t//console.log( filterData);\r\n\t\t\t\t\tconst nameFilter = filterData[month][day].filter((data) => {\r\n\t\t\t\t\t\tlet regExp = new RegExp(searchFilters.name.toLowerCase(), \"ig\");\r\n\t\t\t\t\t\treturn regExp.test(data.personName);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (nameFilter.length === 0) {\r\n\t\t\t\t\t\tdelete filterData[month][day];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfilterData[month][day] = nameFilter;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (Object.keys(filterData[month]).length === 0) {\r\n\t\t\t\t\tdelete filterData[month];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (searchFilters.type !== \"any\" && searchFilters.type) {\r\n\t\t\tfor (const month in filterData) {\r\n\t\t\t\tfor (const day in filterData[month]) {\r\n\t\t\t\t\tconst typeFilter = filterData[month][day].filter((data) => {\r\n\t\t\t\t\t\tif (data.type === searchFilters.type) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (typeFilter.length === 0) {\r\n\t\t\t\t\t\tdelete filterData[month][day];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfilterData[month][day] = typeFilter;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (Object.keys(filterData[month]).length === 0) {\r\n\t\t\t\t\tdelete filterData[month];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//console.log(filterData);\r\n\t\tsetSearchResults(filterData);\r\n\t}, [searchFilters, calendarData]);\r\n\r\n\tconst getAge = (date) => {\r\n\t\tconst ageInMs = Date.now() - new Date(date).getTime();\r\n\t\tconst ageInYears = Math.floor(ageInMs / (1000 * 60 * 60 * 24 * 365));\r\n\t\tif (ageInYears > 0) {\r\n\t\t\treturn `(${ageInYears} years)`;\r\n\t\t} else {\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t};\r\n\r\n\tconst eventEdit = (id, event) => {\r\n\t\t//ele.className=\"event-container selected\"\r\n\t\tif (lastId) {\r\n\t\t\tlastId.style.backgroundColor = \"transparent\";\r\n\t\t}\r\n\t\tconst ele = document.getElementById(id);\r\n\t\tele.style.backgroundColor = \"white\";\r\n\t\tlastId = document.getElementById(id);\r\n\r\n\t\tdispatch(showEdit());\r\n\t\tdispatch(setEdit(event));\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tif (showCard === \"none\" && lastId) {\r\n\t\t\tlastId.style.backgroundColor = \"transparent\";\r\n\t\t}\r\n\t}, [showCard]);\r\n\r\n\treturn (\r\n\t\t<div className=\"calendar\">\r\n\t\t\t{Object.keys(calendarData).length > 0 && !loadingData ? (\r\n\t\t\t\tObject.keys(searchResults ? searchResults : calendarData).map((month, i) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className=\"month-container\" id={\"month\" + month} key={i}>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"month-header\"\r\n\t\t\t\t\t\t\t\tstyle={{backgroundColor: monthColors[month - 1]}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<h2>{monthNames[month - 1]}</h2>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{Object.keys(\r\n\t\t\t\t\t\t\t\tsearchResults ? searchResults[month] : calendarData[month]\r\n\t\t\t\t\t\t\t).map((day, j) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div key={j}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"day-constainer\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h2 style={{color: monthColors[month - 1]}}>{day}</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"events-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{(searchResults\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? searchResults[month][day]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: calendarData[month][day]\r\n\t\t\t\t\t\t\t\t\t\t\t\t).map((event, k) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"event-container\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={`event-${month}-${day}-${k}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={k}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teventEdit(`event-${month}-${day}-${k}`, event)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{`${event.personName} ${event.AnniversaryType} ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent.type\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} ${getAge(event.date)}`}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<hr className=\"divition\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t) : loadingData ? (\r\n\t\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tclassName=\"loading-wheel claendar-wheel\"\r\n\t\t\t\t\tviewBox=\"0 0 117.49 124.88\"\r\n\t\t\t\t\twidth=\"100\"\r\n\t\t\t\t\theight=\"100\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<defs></defs>\r\n\t\t\t\t\t<title>loading</title>\r\n\t\t\t\t\t<g id=\"Layer_2\" data-name=\"Layer 2\">\r\n\t\t\t\t\t\t<g id=\"Layer_1-2\" data-name=\"Layer 1\">\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\td=\"M78.84,18.33a49.61,49.61,0,0,0-28.75-2.12A50.63,50.63,0,0,0,24.57,30.68,51.5,51.5,0,0,0,11.19,57.34a52.14,\r\n                 52.14,0,0,0,3.75,30.08,53.12,53.12,0,0,0,20.17,23.31A54.11,54.11,0,0,0,65.32,119a55.21,55.21,0,0,0,50-35.61,\r\n                 1.12,1.12,0,0,1,1.45-.65,1.14,1.14,0,0,1,.67,1.4,58.76,58.76,0,0,1-19.55,28A59.79,59.79,0,0,1,65.63,124.7a60.64,\r\n                 60.64,0,0,1-34.29-7.6A61.34,61.34,0,0,1,6.71,91.36,62.19,62.19,0,0,1,.46,55.78,63.25,63.25,0,0,1,15.23,22.27,\r\n                 64.12,64.12,0,0,1,46.56,2.37a64.82,64.82,0,0,1,37.61.88l.08,0a8,8,0,0,1-5,15.2Z\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</g>\r\n\t\t\t\t\t</g>\r\n\t\t\t\t</svg>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"any-container\">\r\n\t\t\t\t\t<div className=\"any\">\r\n\t\t\t\t\t\t<h2>You don't have any event</h2>\r\n\t\t\t\t\t\t<p>add one pressing </p>\r\n\t\t\t\t\t\t<img src=\"img/add.svg\" alt=\"add\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n","export const SET_EDIT= \"SET_EDIT\";  ","import { SET_EDIT } from \"../const/editConst\";\r\n\r\nexport const setEdit=(eventData)=> (dispatch)=>{\r\n\r\n    dispatch({\r\n        type: SET_EDIT,\r\n        payload: eventData\r\n    })\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport Card from \"./cards/Card\";\r\nimport Header from \"./header/Header\";\r\nimport Toolbar from \"./toolbar/Toolbar\";\r\nimport \"./principal.css\";\r\nimport Calendar from \"./calendar/Calendar\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {setAuth} from \"../../redux/actions/authActions\";\r\nimport {setEmailNotification} from \"../../redux/actions/emialNotificationActions\";\r\nimport SERVER_URL from \"../../serverUrl\";\r\n\r\nexport const principalContext = React.createContext();\r\n\r\nexport default function Principal() {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst message = useSelector((store) => store.message.text);\r\n\tconst [firstFetch, setFirstFetch] = useState(true);\r\n\r\n\t//get email notification status\r\n\tuseEffect(() => {\r\n\t\tif (firstFetch) {\r\n\t\t\tfetch(`${SERVER_URL}/emailNotification`, {\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\theaders: {\"Content-type\": \"application/json; charset=UTF-8\"},\r\n\t\t\t\tcredentials: \"include\"\r\n\t\t\t})\r\n\t\t\t\t.then((res) => res.json())\r\n\t\t\t\t.then((data) => {\r\n\t\t\t\t\tif (data.auth === false) {\r\n\t\t\t\t\t\tdispatch(setAuth(data.auth));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdispatch(setEmailNotification(data.mailNotification));\r\n\t\t\t\t\t\tsetFirstFetch(false);\r\n\t\t\t\t\t\t//console.log(\"fetch principal.js email notification\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => console.log(err));\r\n\t\t}\r\n\t}, [firstFetch, dispatch]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Header />\r\n\r\n\t\t\t<div className=\"tool-card\">\r\n\t\t\t\t<Card />\r\n\r\n\t\t\t\t<Toolbar />\r\n\t\t\t</div>\r\n\r\n\t\t\t<Calendar />\r\n\r\n\t\t\t<Message message={message} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n//message component\r\nfunction Message({message}) {\r\n\tconst [style, setStyle] = useState({display: \"flex\"});\r\n\tuseEffect(() => {\r\n\t\tif (message) {\r\n\t\t\tsetStyle({display: \"flex\"});\r\n\t\t} else {\r\n\t\t\tsetStyle({display: \"none\"});\r\n\t\t}\r\n\t}, [message]);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"message\"\r\n\t\t\t\tonAnimationEnd={() => setStyle({display: \"none\"})}\r\n\t\t\t\tstyle={style}\r\n\t\t\t>\r\n\t\t\t\t<p>{message}</p>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import {createStore, combineReducers, compose, applyMiddleware} from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport authReducer from './reducer/authReducer';\r\nimport editReducer from './reducer/editReducer';\r\nimport emailNotificationReducer from './reducer/emailNotificationReducer';\r\nimport messageReducer from './reducer/messageReducer';\r\nimport searchFilterReducer from './reducer/searchFilterReducer';\r\nimport showCardReducer from './reducer/showCardReducer';\r\nimport updateCalendarReducer from './reducer/updateCalendarReducer';\r\n\r\nconst rootReducer= combineReducers({\r\n     auth: authReducer,\r\n     updateCalendar: updateCalendarReducer,\r\n     edit: editReducer,\r\n     showCard: showCardReducer,\r\n     message: messageReducer,\r\n     searchFilters: searchFilterReducer,\r\n     emailNotification: emailNotificationReducer\r\n});\r\n\r\nexport default function generateStore(){\r\n    const store= createStore(rootReducer, compose(applyMiddleware(thunk)));\r\n    return store;\r\n}\r\n","import {GET_AUTH, SET_AUTH} from '../const/authConst';\r\n\r\nexport default function authReducer(state={ authData: undefined }, action){\r\n    switch(action.type){\r\n        case GET_AUTH:\r\n        case SET_AUTH:\r\n            return {...state, authData: action?.payload };\r\n        \r\n        default: return state;\r\n    }\r\n}","import { UPDATE_CALENDAR } from \"../const/udateCalendarConst\";\r\n\r\nexport default function updateCalendarReducer (state={ update: false }, action){\r\n    switch(action.type){\r\n        case UPDATE_CALENDAR:\r\n            return {...state, update: action.payload }\r\n\r\n        default: return state;\r\n    }\r\n}","import { SET_EDIT } from \"../const/editConst\";\r\n\r\nexport default function editReducer(state={event:{}}, action){\r\n    switch(action.type){\r\n        case SET_EDIT:\r\n            return {...state, event: action.payload };\r\n\r\n        default: return state;\r\n    }\r\n}","import { SHOW_HELP,  SHOW_NONE, SHOW_EDIT, SHOW_ADD, SHOW_SEARCH, SHOW_SETTINGS } from \"../const/showCardConst\";\r\n\r\nexport default function showCardReducer(state={card: 'none'}, action){\r\n    switch(action.type){\r\n\r\n        case SHOW_HELP:\r\n        case SHOW_NONE:\r\n        case SHOW_EDIT:\r\n        case SHOW_ADD:\r\n        case SHOW_SEARCH:\r\n        case SHOW_SETTINGS:        \r\n            return {...state, card: action.payload }\r\n\r\n\r\n        default: return state;\r\n    }\r\n}","import { SET_MESSAGE } from \"../const/messageConst\";\r\n\r\nexport default function messageReducer(state={text: \"\"}, action){\r\n\r\n    switch(action.type){\r\n        case SET_MESSAGE:\r\n            return { ...state, text:action.payload };\r\n        default: return state;\r\n    }\r\n}","import { SET_SEARCH_FILTERS } from \"../const/searchfiltersConst\";\r\n\r\nexport default function searchFilterReducer(state={filters:{}}, action){\r\n    switch(action.type){\r\n        case SET_SEARCH_FILTERS:\r\n            return {...state, filters: action.payload};\r\n        default: return state;\r\n    }\r\n}","import { SET_EMAIL_NOTIFICATION, TOGGLE_EMIAL_NOTIFICATION } from \"../const/emialNotificationConst\";\r\n\r\nexport default function emailNotificationReducer(state={activate: true}, action ){\r\n\r\n    switch(action.type){\r\n\r\n        case SET_EMAIL_NOTIFICATION:\r\n            return {...state,  activate: action.payload };\r\n        case TOGGLE_EMIAL_NOTIFICATION:\r\n            return{...state, activate: !state.activate};\r\n\r\n        default: return state;\r\n    }\r\n}","import React, { useEffect } from 'react';\r\nimport Home from './components/home/Home';\r\nimport Loading from './components/loading/Loading';\r\nimport Principal from './components/principal/Principal';\r\nimport {Provider, useSelector, useDispatch} from 'react-redux';\r\nimport generateStore from './redux/store';\r\nimport { getAuth } from './redux/actions/authActions';\r\n\r\nfunction Main() {\r\n  const auth= useSelector(store=> store.auth.authData);\r\n\r\n  const dispatch= useDispatch();\r\n\r\n  //check auth in the server\r\n  useEffect(()=>{\r\n    if(auth === undefined){\r\n      dispatch(getAuth());\r\n    }\r\n  });\r\n\r\n  return (\r\n    <>\r\n    {auth === undefined ?\r\n    (<Loading/>) :\r\n    auth ? \r\n    (<Principal/>)\r\n    :\r\n    (<Home/>)\r\n    }  \r\n    </>\r\n  );\r\n}\r\n\r\nfunction App() {\r\n  const store= generateStore();\r\n  return (\r\n    <Provider store={store}>\r\n      <Main /> \r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n\n\n"],"sourceRoot":""}