(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,,,,,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(11),s=n.n(c),i=n(3),o=n(1),l=n(0);function d(){var e,t=Object(a.useContext)(H),n=Object(a.useState)("logIn"),r=Object(i.a)(n,2),c=r[0],s=r[1],d=Object(a.useState)(""),j=Object(i.a)(d,2),u=j[0],b=j[1],h=Object(a.useState)("text"),m=Object(i.a)(h,2),O=m[0],p=m[1],f=Object(a.useState)({email:"",name:"",birthday:"",password:"",confirm:""}),v=Object(i.a)(f,2),x=v[0],g=v[1],y=Object(a.useState)({email:"",password:""}),N=Object(i.a)(y,2),w=N[0],C=N[1],S=Object(a.useState)(!0),k=Object(i.a)(S,2),E=k[0],D=k[1];return e="logIn"===c?Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={email:w.email,password:w.password};fetch("http://localhost:4000/api/login",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){if(401!==e.status)return e.json();b("The email address or password is incorrect.")})).then((function(e){e&&t(e.auth)})).catch((function(e){return console.log(e)}))},children:[Object(l.jsx)("input",{type:"email",placeholder:"Enter your Email",name:"emial",value:w.email,onChange:function(e){return C(Object(o.a)(Object(o.a)({},w),{},{email:e.target.value}))},required:!0}),Object(l.jsx)("input",{type:"password",placeholder:"Enter your Password",name:"password",value:w.password,onChange:function(e){return C(Object(o.a)(Object(o.a)({},w),{},{password:e.target.value}))},autoComplete:"on",required:!0}),u?Object(l.jsx)("p",{className:"alert-form",children:u}):null,Object(l.jsx)("button",{type:"submit",value:"Submit",children:"Log In"})]}):Object(l.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),x.password===x.confirm){D(!0);var n={email:x.email,name:x.name,birthday:x.birthday,password:x.password};fetch("http://localhost:4000/api/singup",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){e.message?b(e.message):t(e.auth)})).catch((function(e){return console.log(e)}))}else D(!1)},children:[Object(l.jsx)("input",{type:"email",placeholder:"Enter your Email",name:"email",value:x.email,onChange:function(e){return g(Object(o.a)(Object(o.a)({},x),{},{email:e.target.value}))},required:!0}),Object(l.jsx)("input",{type:"text",placeholder:"Enter your Name",name:"name",value:x.name,onChange:function(e){return g(Object(o.a)(Object(o.a)({},x),{},{name:e.target.value}))},required:!0}),Object(l.jsx)("input",{type:O,onFocus:function(){return p("date")},onBlur:function(){return p("text")},placeholder:"Enter your Birthday",name:"birthday",value:x.birthday,onChange:function(e){return g(Object(o.a)(Object(o.a)({},x),{},{birthday:e.target.value}))},required:!0}),Object(l.jsx)("input",{type:"password",placeholder:"Enter your Password",name:"password",value:x.password,onChange:function(e){return g(Object(o.a)(Object(o.a)({},x),{},{password:e.target.value}))},required:!0,autoComplete:"off"}),Object(l.jsx)("input",{type:"password",placeholder:"Confirm Password",name:"confim",value:x.confirm,onChange:function(e){return g(Object(o.a)(Object(o.a)({},x),{},{confirm:e.target.value}))},required:!0,autoComplete:"off"}),E?Object(l.jsx)("p",{}):Object(l.jsx)("p",{className:"alert-form",children:"Passwords don't match"}),u?Object(l.jsx)("p",{className:"alert-form",children:u}):null,Object(l.jsx)("button",{type:"submit",children:"Sing Up"})]}),Object(l.jsxs)("div",{className:"form-container",children:[e,Object(l.jsx)("p",{children:"or"}),Object(l.jsx)("p",{className:"red",onClick:function(){s("logIn"===c?"singUp":"logIn")},children:"logIn"===c?"Sing Up":"Log In"})]})}n(17);function j(e){var t=e.setShowRecover,n=Object(a.useState)(""),r=Object(i.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)(""),d=Object(i.a)(o,2),j=d[0],u=d[1];return Object(l.jsx)("div",{className:"recover-container",children:Object(l.jsxs)("div",{className:"recover",children:[Object(l.jsx)("img",{src:"img/exit.svg",alt:"close",onClick:function(){return t(!1)}}),Object(l.jsx)("h3",{children:"Enter your email to recover your password"}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u("Loading..."),fetch("http://localhost:4000/recover",{method:"POST",body:JSON.stringify({email:c}),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){u(e.message)})),s("")},children:[Object(l.jsx)("input",{type:"email",placeholder:"Email",name:"email",value:c,onChange:function(e){return s(e.target.value)},required:!0}),Object(l.jsx)("button",{type:"submit",children:"Submit"})]}),Object(l.jsx)("p",{children:j}),Object(l.jsx)("p",{children:"You are going to receive an email with a link to recover your password, this link is valid for 24hs."})]})})}function u(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(l.jsxs)("div",{className:"main-container",children:[n?Object(l.jsx)(j,{setShowRecover:r}):null,Object(l.jsxs)("header",{style:{backgroundImage:"url(/img/header.svg)"},children:[Object(l.jsx)("img",{src:"img/logo1.svg",alt:"Happy Day"}),Object(l.jsx)("h2",{children:"Birthdays and Anniversaries Reminder"})]}),Object(l.jsxs)("main",{children:[Object(l.jsx)(d,{}),Object(l.jsxs)("div",{className:"card",children:[Object(l.jsx)("h3",{children:"Start in 3 simple steps:"}),Object(l.jsxs)("div",{className:"step",children:[Object(l.jsx)("div",{className:"num",children:"1"}),Object(l.jsx)("p",{children:"Sing up or log in."})]}),Object(l.jsxs)("div",{className:"step",children:[Object(l.jsx)("div",{className:"num",children:"2"}),Object(l.jsx)("p",{children:"Add the birthdays or anniversaries of your friends and family."})]}),Object(l.jsxs)("div",{className:"step",children:[Object(l.jsx)("div",{className:"num",children:"3"}),Object(l.jsx)("p",{children:"Allows the application to send notifications (You will also receive the reminders in your email)."})]})]})]}),Object(l.jsx)("footer",{style:{backgroundImage:"url(/img/footer.svg)"},children:Object(l.jsxs)("p",{children:["Forgot Your Password? ",Object(l.jsx)("span",{className:"red",onClick:function(){return r(!0)},children:"Recover it"})]})})]})}n(18);function b(){return Object(l.jsxs)("div",{className:"loading-container",children:[Object(l.jsx)("img",{src:"img/logo1.svg",alt:"Happy Day",className:"loading-logo"}),Object(l.jsxs)("div",{className:"wheel-container",children:[Object(l.jsx)("img",{src:"img/loading.svg",alt:"loading",className:"loading-wheel"}),Object(l.jsx)("p",{children:"Loading..."})]})]})}n(10);var h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function m(){var e=Object(a.useContext)(H),t=Object(a.useContext)(R),n=t.setUpdateCalendar,r=t.setMessage,c=Object(a.useState)({event:"birthday",type:"",day:"",month:h[0],year:"",personName:"",reminders:[{title:"The Same Day",date:""}]}),s=Object(i.a)(c,2),d=s[0],j=s[1],u=Object(a.useState)({timeBefore:"same-day",numBefore:""}),b=Object(i.a)(u,2),m=b[0],O=b[1];return Object(l.jsxs)("form",{className:"card-form",onSubmit:function(t){return function(t){t.preventDefault(),r("");var a={event:d.event,type:d.type,date:new Date("".concat(d.month," ").concat(d.day," ").concat(""===d.year?"9999":d.year)),personName:d.personName,reminders:[]},c=d.reminders.map((function(e){var t={title:e.title};if("The Same Day"===e.title)t.date=a.date;else{var n=e.title.split(" ",2),r=a.date.getTime(),c=864e5;"Days"===n[1]?t.date=new Date(r-c*n[0]):t.date=new Date(r-6048e5*n[0])}return t}));a=Object(o.a)(Object(o.a)({},a),{},{reminders:c}),fetch("http://localhost:4000/api/add",{method:"POST",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){!1===t.auth?e(t.auth):(r(t.message),n(!0))})).catch((function(e){return console.log(e)})),j({event:"birthday",type:"",day:"",month:h[0],year:"",personName:"",reminders:[{title:"The Same Day",date:""}]})}(t)},children:[Object(l.jsxs)("div",{className:"grup",children:[Object(l.jsxs)("div",{className:"label",children:[Object(l.jsx)("label",{htmlFor:"event",children:"Event"}),Object(l.jsxs)("select",{name:"event",id:"event",onChange:function(e){return j(Object(o.a)(Object(o.a)({},d),{},{event:e.target.value}))},value:d.event,required:!0,children:[Object(l.jsx)("option",{value:"birthday",children:"Birthday"}),Object(l.jsx)("option",{value:"anniversary",children:"Anniversary"})]})]}),"anniversary"===d.event?Object(l.jsxs)("div",{className:"label",children:[Object(l.jsx)("label",{htmlFor:"type",children:"Type"}),Object(l.jsx)("input",{type:"text",name:"type",id:"type",onChange:function(e){return j(Object(o.a)(Object(o.a)({},d),{},{type:e.target.value}))},value:d.type})]}):null]}),Object(l.jsxs)("div",{className:"grup",children:[Object(l.jsxs)("div",{className:"label",children:[Object(l.jsx)("label",{htmlFor:"day",children:"Day"}),Object(l.jsx)("input",{className:"day",id:"day",type:"number",name:"day",min:"1",max:"31",step:"1",onChange:function(e){return j(Object(o.a)(Object(o.a)({},d),{},{day:e.target.value}))},value:d.day,required:!0})]}),Object(l.jsxs)("div",{className:"label",children:[Object(l.jsx)("label",{htmlFor:"month",children:"Month"}),Object(l.jsx)("select",{name:"month",id:"month",onChange:function(e){return j(Object(o.a)(Object(o.a)({},d),{},{month:e.target.value}))},value:d.month,required:!0,children:h.map((function(e,t){return Object(l.jsx)("option",{value:e,children:e},t)}))})]}),Object(l.jsxs)("div",{className:"label",children:[Object(l.jsx)("label",{htmlFor:"year",children:"Year"}),Object(l.jsx)("input",{className:"year",id:"year",type:"number",name:"year",placeholder:"any",max:"9999",onChange:function(e){return j(Object(o.a)(Object(o.a)({},d),{},{year:e.target.value}))},value:d.year})]})]}),Object(l.jsxs)("div",{className:"label",children:[Object(l.jsx)("label",{htmlFor:"name",children:"Name"}),Object(l.jsx)("input",{type:"text",id:"name",name:"name",onChange:function(e){return j(Object(o.a)(Object(o.a)({},d),{},{personName:e.target.value}))},value:d.personName,required:!0})]}),Object(l.jsxs)("div",{className:"grup",children:[Object(l.jsxs)("div",{className:"grup",children:[Object(l.jsx)("label",{htmlFor:"time-before",children:"Add Reminders"}),Object(l.jsxs)("select",{name:"time-before",id:"time-before",onChange:function(e){return O(Object(o.a)(Object(o.a)({},m),{},{timeBefore:e.target.value}))},value:m.timeBefore,children:[Object(l.jsx)("option",{value:"same-day",children:"The Same Day"}),Object(l.jsx)("option",{value:"days-before",children:"Days Before"}),Object(l.jsx)("option",{value:"weeks-before",children:"Weeks Before"})]}),"same-day"!==m.timeBefore?Object(l.jsx)("input",{className:"a-r-n",type:"number",name:"num-before",min:"1",step:"1","data-testid":"numBefore",onChange:function(e){return O(Object(o.a)(Object(o.a)({},m),{},{numBefore:e.target.value}))},value:m.numBefore}):null,Object(l.jsx)("button",{className:"a-r-b",onClick:function(e){return function(e){e.preventDefault();var t={title:"",date:""};switch(m.timeBefore){case"same-day":t.title="The Same Day";break;case"days-before":t.title="".concat(m.numBefore," Days Before");break;case"weeks-before":t.title="".concat(m.numBefore," Weeks Before")}var n=d.reminders;n.push(t),j(Object(o.a)(Object(o.a)({},d),{},{reminders:n}))}(e)},children:"Add"})]}),Object(l.jsx)("ul",{className:"reminders",children:d.reminders.map((function(e,t){return Object(l.jsxs)("li",{children:[e.title," ",Object(l.jsx)("img",{src:"img/drop.svg",alt:"drop",onClick:function(){return function(e){var t=d.reminders;t.splice(e,1),j(Object(o.a)(Object(o.a)({},d),{},{reminders:t}))}(t)}})]},t)}))})]}),Object(l.jsx)("div",{className:"card-form-submit",children:Object(l.jsx)("button",{type:"submit",children:"Add Event"})})]})}var O=n(7),p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function f(){var e=Object(a.useContext)(H),t=Object(a.useContext)(R),n=t.setUpdateCalendar,r=t.edit,c=t.showCard,s=t.setShowCard,d=t.setMessage,j=Object(a.useState)({event:r.type,type:r.AnniversaryType,day:new Date(r.date).getDate(),month:p[new Date(r.date).getMonth()],year:new Date(r.date).getFullYear()>9e3?"":new Date(r.date).getFullYear(),personName:r.personName,reminders:r.reminders}),u=Object(i.a)(j,2),b=u[0],h=u[1];Object(a.useEffect)((function(){h({event:r.type,type:r.AnniversaryType,day:new Date(r.date).getDate(),month:p[new Date(r.date).getMonth()],year:new Date(r.date).getFullYear()>9e3?"":new Date(r.date).getFullYear(),personName:r.personName,reminders:r.reminders})}),[r,c]);var m=Object(a.useState)({timeBefore:"same-day",numBefore:""}),f=Object(i.a)(m,2),v=f[0],x=f[1];return Object(l.jsxs)("form",{className:"card-form",onSubmit:function(t){return function(t){t.preventDefault(),d("");var a={event:b.event,type:"birthday"===b.event?"":b.type,date:new Date("".concat(b.month," ").concat(b.day," ").concat(""===b.year?"9999":b.year)),personName:b.personName,reminders:[],removeReminders:b.removeReminders?b.removeReminders:[],_id:r._id},c=b.reminders.map((function(e){var t={name:e.name,event:r._id,date:e.date?e.date:null,_id:e._id?e._id:null};if(!t.date)if("The Same Day"===e.name)t.date=a.date;else{var n=e.name.split(" ",2),c=a.date.getTime(),s=864e5;"Days"===n[1]?t.date=new Date(c-s*n[0]):t.date=new Date(c-6048e5*n[0])}return t}));a=Object(o.a)(Object(o.a)({},a),{},{reminders:c}),fetch("http://localhost:4000/api/edit",{method:"PUT",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){!1===t.auth?e(t.auth):(d(t.message),"Event Edited"===t.message&&n(!0))})).catch((function(e){return console.log(e)})),s("none")}(t)},children:[Object(l.jsxs)("div",{className:"grup",children:[Object(l.jsxs)("div",{className:"label",children:[Object(l.jsx)("label",{htmlFor:"editEvent",children:"Event"}),Object(l.jsxs)("select",{name:"editEvent",id:"editEvent",onChange:function(e){return h(Object(o.a)(Object(o.a)({},b),{},{event:e.target.value}))},value:b.event,required:!0,children:[Object(l.jsx)("option",{value:"birthday",children:"Birthday"}),Object(l.jsx)("option",{value:"anniversary",children:"Anniversary"})]})]}),"anniversary"===b.event?Object(l.jsxs)("div",{className:"label",children:[Object(l.jsx)("label",{htmlFor:"editType",children:"Type"}),Object(l.jsx)("input",{type:"text",name:"editType",id:"editType",onChange:function(e){return h(Object(o.a)(Object(o.a)({},b),{},{type:e.target.value}))},value:b.type})]}):null]}),Object(l.jsxs)("div",{className:"grup",children:[Object(l.jsxs)("div",{className:"label",children:[Object(l.jsx)("label",{htmlFor:"editDay",children:"Day"}),Object(l.jsx)("input",{className:"day",type:"number",name:"editDay",id:"editDay",min:"1",max:"31",step:"1",onChange:function(e){return h(Object(o.a)(Object(o.a)({},b),{},{day:e.target.value}))},value:b.day,required:!0})]}),Object(l.jsxs)("div",{className:"label",children:[Object(l.jsx)("label",{htmlFor:"editMonth",children:"Month"}),Object(l.jsx)("select",{name:"editMonth",id:"editMonth",onChange:function(e){return h(Object(o.a)(Object(o.a)({},b),{},{month:e.target.value}))},value:b.month,required:!0,children:p.map((function(e,t){return Object(l.jsx)("option",{value:e,children:e},t)}))})]}),Object(l.jsxs)("div",{className:"label",children:[Object(l.jsx)("label",{htmlFor:"editYear",children:"Year"}),Object(l.jsx)("input",{className:"year",type:"number",name:"editYear",id:"editYear",placeholder:"any",max:"9999",onChange:function(e){return h(Object(o.a)(Object(o.a)({},b),{},{year:e.target.value}))},value:b.year})]})]}),Object(l.jsxs)("div",{className:"label",children:[Object(l.jsx)("label",{htmlFor:"editName",children:"Name"}),Object(l.jsx)("input",{type:"text",name:"editName",id:"editName",onChange:function(e){return h(Object(o.a)(Object(o.a)({},b),{},{personName:e.target.value}))},value:b.personName,required:!0})]}),Object(l.jsxs)("div",{className:"grup",children:[Object(l.jsxs)("div",{className:"grup",children:[Object(l.jsx)("label",{htmlFor:"time-before-edit",children:"Add Reminders"}),Object(l.jsxs)("select",{name:"time-before-edit",id:"time-before-edit",onChange:function(e){return x(Object(o.a)(Object(o.a)({},v),{},{timeBefore:e.target.value}))},value:v.timeBefore,children:[Object(l.jsx)("option",{value:"same-day",children:"The Same Day"}),Object(l.jsx)("option",{value:"days-before",children:"Days Before"}),Object(l.jsx)("option",{value:"weeks-before",children:"Weeks Before"})]}),"same-day"!==v.timeBefore?Object(l.jsx)("input",{className:"a-r-n",type:"number",name:"num-before",min:"1",step:"1","data-testid":"num-before-test",onChange:function(e){return x(Object(o.a)(Object(o.a)({},v),{},{numBefore:e.target.value}))},value:v.numBefore}):null,Object(l.jsx)("button",{className:"a-r-b",onClick:function(e){return function(e){e.preventDefault();var t={name:"",date:""};switch(v.timeBefore){case"same-day":t.name="The Same Day";break;case"days-before":t.name="".concat(v.numBefore," Days Before");break;case"weeks-before":t.name="".concat(v.numBefore," Weeks Before")}var n=Object(O.a)(b.reminders);n.push(t),h(Object(o.a)(Object(o.a)({},b),{},{reminders:n}))}(e)},children:"Add"})]}),Object(l.jsx)("ul",{className:"reminders",children:b.reminders.map((function(e,t){return Object(l.jsxs)("li",{children:[e.name," ",Object(l.jsx)("img",{src:"img/drop.svg",alt:"drop",onClick:function(){return function(e){var t=Object(O.a)(b.reminders),n=t.splice(e,1);if(b.removeReminders){var a=b.removeReminders;a.push(n[0]._id),h(Object(o.a)(Object(o.a)({},b),{},{reminders:t,removeReminders:a}))}else h(Object(o.a)(Object(o.a)({},b),{},{reminders:t,removeReminders:[n[0]._id]}))}(t)}})]},t)}))})]}),Object(l.jsxs)("div",{className:"card-form-submit drop",children:[Object(l.jsx)("button",{type:"submit",children:"Edit Event"}),Object(l.jsx)("button",{className:"btn-drop",onClick:function(t){return function(t){t.preventDefault(),d("");var a={eventId:r._id,remindersId:[]};r.reminders.forEach((function(e){a.remindersId.push(e._id)})),fetch("http://localhost:4000/api/delete",{method:"DELETE",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){!1===t.auth?e(t.auth):(d(t.message),n(!0))})).catch((function(e){return console.log(e)})),s("none")}(t)},children:Object(l.jsxs)("svg",{className:"btn-drop-img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12.18 13.92",children:[Object(l.jsx)("defs",{}),Object(l.jsx)("title",{children:"drop"}),Object(l.jsx)("g",{id:"Layer_2","data-name":"Layer 2",children:Object(l.jsx)("g",{id:"Layer_2-2","data-name":"Layer 2",children:Object(l.jsx)("path",{className:"cls-1",d:"M.87,12.61a1.31,1.31,0,0,0,1.3,1.31H10a1.31,1.31,0,0,0,1.31-1.31h0V3.48H.87Zm7.39-7a.44.44,0,0,1,.44-.43.43.43,0,0,1,.43.43v6.09a.44.44,0,0,1-.43.44.44.44,0,0,1-.44-.44Zm-2.61,0a.44.44,0,0,1,.44-.43.43.43,0,0,1,.43.43v6.09a.44.44,0,0,1-.43.44.44.44,0,0,1-.44-.44ZM3,5.65a.44.44,0,0,1,.44-.43.43.43,0,0,1,.43.43v6.09a.44.44,0,0,1-.43.44A.44.44,0,0,1,3,11.74ZM11.74.87H8.48L8.23.36A.66.66,0,0,0,7.64,0H4.53A.66.66,0,0,0,4,.36L3.7.87H.43A.43.43,0,0,0,0,1.3v.87a.44.44,0,0,0,.43.44H11.74a.44.44,0,0,0,.44-.44V1.3A.44.44,0,0,0,11.74.87Z"})})})]})})]})]})}function v(){return Object(l.jsx)("div",{className:"card-form",children:Object(l.jsxs)("ul",{className:"help",children:[Object(l.jsx)("li",{children:"click on an event to edit it or delete it"}),Object(l.jsxs)("li",{children:["click on ",Object(l.jsx)("img",{src:"img/add.svg",alt:"add"})," to add a new event"]}),Object(l.jsxs)("li",{children:["click on ",Object(l.jsx)("img",{src:"img/search.svg",alt:"search"})," to search an event"]}),Object(l.jsxs)("li",{children:["click on ",Object(l.jsx)("img",{src:"img/settings.svg",alt:"settings"})," to edit notifications settings"]}),Object(l.jsx)("li",{children:"click on the months icons to go to a specific month"}),Object(l.jsxs)("li",{children:["click on ",Object(l.jsx)("img",{src:"img/logout.svg",alt:"logout"})," to logout"]})]})})}function x(){var e=Object(a.useContext)(R),t=e.setSearchFilters,n=e.setShowCard,r=Object(a.useState)({from:"",to:"",name:"",type:"any"}),c=Object(i.a)(r,2),s=c[0],d=c[1];return Object(l.jsxs)("form",{className:"card-form",onSubmit:function(e){return function(e){e.preventDefault(),t(s),n("none"),d({from:"",to:"",name:"",type:"any"})}(e)},children:[Object(l.jsxs)("div",{className:"grup",children:[Object(l.jsxs)("div",{className:"label",children:[Object(l.jsx)("label",{htmlFor:"from",children:"From"}),Object(l.jsx)("input",{className:"form-to",id:"from",type:"text",placeholder:"mm/dd",pattern:"\\d{2}/\\d{2}",value:s.from,onChange:function(e){return d(Object(o.a)(Object(o.a)({},s),{},{from:e.target.value}))}})]}),Object(l.jsxs)("div",{className:"label",children:[Object(l.jsx)("label",{htmlFor:"to",children:"To"}),Object(l.jsx)("input",{className:"form-to",type:"text",id:"to",placeholder:"mm/dd",pattern:"\\d{2}/\\d{2}",value:s.to,onChange:function(e){return d(Object(o.a)(Object(o.a)({},s),{},{to:e.target.value}))}})]})]}),Object(l.jsxs)("div",{className:"label",children:[Object(l.jsx)("label",{htmlFor:"searchName",children:"Name"}),Object(l.jsx)("input",{type:"text",placeholder:"any",id:"searchName",value:s.name,onChange:function(e){return d(Object(o.a)(Object(o.a)({},s),{},{name:e.target.value}))}})]}),Object(l.jsxs)("div",{className:"label",children:[Object(l.jsx)("label",{htmlFor:"searchType",children:"Type"}),Object(l.jsxs)("select",{name:"searchType",id:"searchType",value:s.type,onChange:function(e){return d(Object(o.a)(Object(o.a)({},s),{},{type:e.target.value}))},required:!0,children:[Object(l.jsx)("option",{value:"any",children:"Any"}),Object(l.jsx)("option",{value:"birthday",children:"Birthday"}),Object(l.jsx)("option",{value:"anniversary",children:"Anniversary"})]})]}),Object(l.jsx)("div",{className:"card-form-submit",children:Object(l.jsx)("button",{type:"submit",children:"Search"})})]})}var g=n(4),y=n.n(g),N=n(5),w="BKyP2ldVQRindSkOeqb8Sl-oZG3br49DaDCGYPGw4rEu9tFbF1t1rG9rEjRbBfbAPnFhZNHLTw8rZ0XzfyMQkqE";function C(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(t),a=new Uint8Array(n.length),r=0;r<n.length;++r)a[r]=n.charCodeAt(r);return a}function S(){return k.apply(this,arguments)}function k(){return(k=Object(N.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return D.apply(this,arguments)}function D(){return(D=Object(N.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready;case 2:return t=e.sent,e.next=5,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:C(w)});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return F.apply(this,arguments)}function F(){return(F=Object(N.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:4000/api/noti-sub",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){var e=Object(a.useContext)(H),t=Object(a.useContext)(R),n=t.emailNotification,r=t.setEmailNotification,c=t.setMessage,s=function(){var t=Object(N.a)(y.a.mark((function t(){var n,a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!("serviceWorker"in navigator)||!("PushManager"in window)){t.next=19;break}return navigator.serviceWorker.register("/sw.js"),t.next=5,S();case 5:if("granted"!==t.sent){t.next=16;break}return t.next=9,E();case 9:return n=t.sent,t.next=12,T(n);case 12:!1===(a=t.sent).auth?e(a.auth):(c("Notifications Activated"),console.log(a)),t.next=17;break;case 16:c("Something went wrong, check your browser's notification settings and try again");case 17:t.next=20;break;case 19:c("Notifications are not supported by your browser");case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(0),t.t0&&console.log(t.t0);case 25:case"end":return t.stop()}}),t,null,[[0,22]])})));return function(){return t.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"card-form",children:[Object(l.jsxs)("div",{className:"label-st",children:[Object(l.jsx)("label",{htmlFor:"emialSettings",children:"Email Notifications"}),Object(l.jsxs)("div",{className:"switch-btn-container",children:[Object(l.jsx)("p",{children:"on/off"}),Object(l.jsx)("div",{className:"switch-btn",name:"emialSettings","data-testid":"emialSettings",onClick:function(){return r((function(e){return!e})),void fetch("http://localhost:4000/api/emailNotification",{method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){!1===t.auth&&e(t.auth)})).catch((function(e){return console.log(e)}))},children:Object(l.jsx)("div",{className:n?"switch-btn-int":"switch-btn-int eOff"})})]})]}),Object(l.jsxs)("div",{className:"label",children:[Object(l.jsx)("label",{htmlFor:"browser",children:"Browser Notifications"}),Object(l.jsx)("button",{className:"a-r-b",style:{padding:"5px 10px"},onClick:function(){return s()},children:"Activate"})]})]})}function A(e){var t=e.showCard,n=e.setShowCard,r=Object(a.useState)(!1),c=Object(i.a)(r,2),s=c[0],o=c[1],d=Object(a.useState)(""),j=Object(i.a)(d,2),u=j[0],b=j[1],h=Object(a.useState)(Object(l.jsx)(m,{})),O=Object(i.a)(h,2),p=O[0],g=O[1];Object(a.useEffect)((function(){var e=document.getElementById("card"),n=window.getComputedStyle(e,null).transform;o((function(e){return!e})),"none"===n&&"none"!==t?(o(!1),setTimeout((function(){y(t),o(!0)}),500)):"none"!==n&&"none"!==t&&y(t),"none"===t&&o(!1)}),[t]);var y=function(e){switch(e){case"add":b("Add Event"),g(Object(l.jsx)(m,{}));break;case"search":b("Search Event"),g(Object(l.jsx)(x,{}));break;case"settings":b("Settings"),g(Object(l.jsx)(B,{}));break;case"help":b("Help"),g(Object(l.jsx)(v,{}));break;case"edit":b("Edit Event"),g(Object(l.jsx)(f,{}))}};return Object(l.jsxs)("div",{className:s?"toolbar-card":"toolbar-card off",id:"card",children:[Object(l.jsxs)("div",{className:"card-header",children:[Object(l.jsx)("h3",{children:u}),Object(l.jsx)("img",{src:"img/exit.svg",alt:"close card",onClick:function(){return n("none")}})]}),p]})}n(20);var M=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];function U(){var e=Object(a.useState)("alert"),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(l.jsxs)("header",{style:{backgroundImage:"url(/img/header.svg)"},className:"app-header",children:[Object(l.jsx)("img",{src:"img/logo2.svg",alt:"Happy Day Logo"}),Object(l.jsx)("div",{className:"month-btn-container",children:M.map((function(e,t){return Object(l.jsx)("div",{className:"month-btn "+e,onClick:function(){return function(e){var t=document.getElementById("month".concat(e));if(t){var n=window.pageYOffset||document.documentElement.scrollTop,a=t.getBoundingClientRect().top+n;window.scrollTo(0,a-200)}else r("show")}(t+1)},children:e},t)}))}),Object(l.jsx)("div",{className:n,onAnimationEnd:function(){return r("alert")},children:Object(l.jsx)("p",{children:"You don't have events this month"})})]})}n(21);function I(e){var t=e.setShowCard,n=Object(a.useContext)(H);return Object(l.jsxs)("footer",{className:"toolbar",children:[Object(l.jsx)("button",{className:"toolbar-btn",onClick:function(){return t("search")},children:Object(l.jsx)("img",{src:"img/search.svg",alt:"search icon"})}),Object(l.jsx)("button",{className:"toolbar-btn",onClick:function(){return t("add")},children:Object(l.jsx)("img",{src:"img/add.svg",alt:"add icon"})}),Object(l.jsx)("button",{className:"toolbar-btn",onClick:function(){return t("settings")},children:Object(l.jsx)("img",{src:"img/settings.svg",alt:"settings icon"})}),Object(l.jsx)("button",{className:"toolbar-btn",children:Object(l.jsx)("img",{src:"img/help.svg",alt:"help icon",onClick:function(){return t("help")}})}),Object(l.jsx)("button",{className:"toolbar-btn",onClick:function(){fetch("http://localhost:4000/api/logout",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){n(e.auth)})).catch((function(e){return console.log(e)}))},children:Object(l.jsx)("img",{src:"img/logout.svg",alt:"logout icon"})})]})}n(22),n(23);var J,P=["January","February","March","April","May","June","July","August","September","October","November","December"],q=["#216b8e","#27a3a3","#149e84","#00ae4d","#69d503","#d6df24","#edc01c","#faa818","#f19616","#fd6126","#9458a9","#6258a2"];function L(e){var t=e.setShowCard,n=e.showCard,r=Object(a.useContext)(H),c=Object(a.useState)({}),s=Object(i.a)(c,2),d=s[0],j=s[1],u=Object(a.useContext)(R),b=u.updateCalendar,h=u.setUpdateCalendar,m=u.setEdit,p=u.searchFilters,f=Object(a.useState)({}),v=Object(i.a)(f,2),x=v[0],g=v[1],y=Object(a.useState)(!0),N=Object(i.a)(y,2),w=N[0],C=N[1],S=function(){fetch("http://localhost:4000/api/events",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){!1===e.auth?r(e.auth):(j(e),C(!1))})).catch((function(e){return console.log(e)}))};Object(a.useEffect)((function(){S()}),[]),Object(a.useEffect)((function(){b&&(S(),h(!1))}),[b,h]),Object(a.useEffect)((function(){var e,t,n,a,r={};if(p.from){var c=p.from.split("/");e=parseInt(c[0]),t=parseInt(c[1])}else e=0,t=0;if(p.to){var s=p.to.split("/");n=parseInt(s[0]),a=parseInt(s[1])}else n=99,a=99;var i,l=0;for(var j in d)if(j>=e&&j<=n)if(i=j,1===++l)for(var u in r[j]={},d[j])u>=t&&(r[j][u]=Object(O.a)(d[j][u]));else r[j]=Object(o.a)({},d[j]);for(var b in r[i])b>a&&delete r[i][b];if(p.name)for(var h in r){for(var m in r[h]){var f=r[h][m].filter((function(e){return new RegExp(p.name.toLowerCase(),"ig").test(e.personName)}));0===f.length?delete r[h][m]:r[h][m]=f}0===Object.keys(r[h]).length&&delete r[h]}if("any"!==p.type&&p.type)for(var v in r){for(var x in r[v]){var y=r[v][x].filter((function(e){return e.type===p.type}));0===y.length?delete r[v][x]:r[v][x]=y}0===Object.keys(r[v]).length&&delete r[v]}g(r)}),[p,d]);var k=function(e){var t=Date.now()-new Date(e).getTime(),n=Math.floor(t/31536e6);return n>0?"(".concat(n," years)"):""};return Object(a.useEffect)((function(){"none"===n&&J&&(J.style.backgroundColor="transparent")}),[n]),Object(l.jsx)("div",{className:"calendar",children:Object.keys(d).length>0&&!w?Object.keys(x||d).map((function(e,n){return Object(l.jsxs)("div",{className:"month-container",id:"month"+e,children:[Object(l.jsx)("div",{className:"month-header",style:{backgroundColor:q[e-1]},children:Object(l.jsx)("h2",{children:P[e-1]})}),Object.keys(x?x[e]:d[e]).map((function(n,a){return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"day-constainer",children:[Object(l.jsx)("h2",{style:{color:q[e-1]},children:n}),Object(l.jsx)("div",{className:"events-container",children:(x?x[e][n]:d[e][n]).map((function(a,r){return Object(l.jsx)("div",{className:"event-container",id:"event-".concat(e,"-").concat(n,"-").concat(r),onClick:function(){return function(e,n){J&&(J.style.backgroundColor="transparent"),document.getElementById(e).style.backgroundColor="white",J=document.getElementById(e),t("edit"),m(n)}("event-".concat(e,"-").concat(n,"-").concat(r),a)},children:Object(l.jsx)("p",{children:"".concat(a.personName," ").concat(a.AnniversaryType," ").concat(a.type," ").concat(k(a.date))})},r)}))})]}),Object(l.jsx)("hr",{className:"divition"})]},a)}))]},n)})):w?Object(l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"loading-wheel claendar-wheel",viewBox:"0 0 117.49 124.88",width:"100",height:"100",children:[Object(l.jsx)("defs",{}),Object(l.jsx)("title",{children:"loading"}),Object(l.jsx)("g",{id:"Layer_2","data-name":"Layer 2",children:Object(l.jsx)("g",{id:"Layer_1-2","data-name":"Layer 1",children:Object(l.jsx)("path",{d:"M78.84,18.33a49.61,49.61,0,0,0-28.75-2.12A50.63,50.63,0,0,0,24.57,30.68,51.5,51.5,0,0,0,11.19,57.34a52.14,\r 52.14,0,0,0,3.75,30.08,53.12,53.12,0,0,0,20.17,23.31A54.11,54.11,0,0,0,65.32,119a55.21,55.21,0,0,0,50-35.61,\r 1.12,1.12,0,0,1,1.45-.65,1.14,1.14,0,0,1,.67,1.4,58.76,58.76,0,0,1-19.55,28A59.79,59.79,0,0,1,65.63,124.7a60.64,\r 60.64,0,0,1-34.29-7.6A61.34,61.34,0,0,1,6.71,91.36,62.19,62.19,0,0,1,.46,55.78,63.25,63.25,0,0,1,15.23,22.27,\r 64.12,64.12,0,0,1,46.56,2.37a64.82,64.82,0,0,1,37.61.88l.08,0a8,8,0,0,1-5,15.2Z"})})})]}):Object(l.jsx)("div",{className:"any-container",children:Object(l.jsxs)("div",{className:"any",children:[Object(l.jsx)("h2",{children:"You don't have any event"}),Object(l.jsx)("p",{children:"add one pressing "}),Object(l.jsx)("img",{src:"img/add.svg",alt:"add"})]})})})}var R=r.a.createContext();function Y(){var e=Object(a.useContext)(H),t=Object(a.useState)("none"),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),o=Object(i.a)(s,2),d=o[0],j=o[1],u=Object(a.useState)({}),b=Object(i.a)(u,2),h=b[0],m=b[1],O=Object(a.useState)(""),p=Object(i.a)(O,2),f=p[0],v=p[1],x=Object(a.useState)({}),g=Object(i.a)(x,2),y=g[0],N=g[1],w=Object(a.useState)(!0),C=Object(i.a)(w,2),S=C[0],k=C[1],E=Object(a.useState)(!0),D=Object(i.a)(E,2),T=D[0],F=D[1];return Object(a.useEffect)((function(){T&&fetch("http://localhost:4000/api/emailNotification",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){!1===t.auth?e(t.auth):(k(t.mailNotification),F(!1))})).catch((function(e){return console.log(e)}))}),[T]),Object(l.jsx)(R.Provider,{value:{updateCalendar:d,setUpdateCalendar:j,edit:h,setEdit:m,showCard:r,setShowCard:c,setMessage:v,setSearchFilters:N,searchFilters:y,emailNotification:S,setEmailNotification:k},children:Object(l.jsxs)("div",{children:[Object(l.jsx)(U,{}),Object(l.jsxs)("div",{className:"tool-card",children:[Object(l.jsx)(A,{showCard:r,setShowCard:c}),Object(l.jsx)(I,{setShowCard:c})]}),Object(l.jsx)(L,{setShowCard:c,showCard:r}),Object(l.jsx)(_,{message:f})]})})}function _(e){var t=e.message,n=Object(a.useState)({display:"flex"}),r=Object(i.a)(n,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){s(t?{display:"flex"}:{display:"none"})}),[t]),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"message",onAnimationEnd:function(){return s({display:"none"})},style:c,children:Object(l.jsx)("p",{children:t})})})}var H=r.a.createContext();var G=function(){var e=Object(a.useState)(void 0),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){void 0===n&&fetch("http://localhost:4000/api",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){r(e.auth)})).catch((function(e){return console.log(e)}))})),Object(l.jsx)(H.Provider,{value:r,children:void 0===n?Object(l.jsx)(b,{}):n?Object(l.jsx)(Y,{}):Object(l.jsx)(u,{})})};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(G,{})}),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.9b462854.chunk.js.map