(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(10),s=n.n(r),i=n(3),o=n(1),l="GET_AUTH",d="SET_AUTH",u=function(e){return function(t){t({type:d,payload:e})}},j=n(4),b=n(0);function h(){var e,t=Object(j.b)(),n=Object(a.useState)("logIn"),c=Object(i.a)(n,2),r=c[0],s=c[1],l=Object(a.useState)(""),d=Object(i.a)(l,2),h=d[0],m=d[1],O=Object(a.useState)("text"),p=Object(i.a)(O,2),f=p[0],v=p[1],y=Object(a.useState)({email:"",name:"",birthday:"",password:"",confirm:""}),g=Object(i.a)(y,2),x=g[0],N=g[1],w=Object(a.useState)({email:"",password:""}),S=Object(i.a)(w,2),C=S[0],E=S[1],T=Object(a.useState)(!0),k=Object(i.a)(T,2),D=k[0],A=k[1];return e="logIn"===r?Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={email:C.email,password:C.password};fetch("http://localhost:4000/api/login",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){if(401!==e.status)return e.json();m("The email address or password is incorrect.")})).then((function(e){e&&t(u(e.auth))})).catch((function(e){return console.log(e)}))},children:[Object(b.jsx)("input",{type:"email",placeholder:"Enter your Email",name:"emial",value:C.email,onChange:function(e){return E(Object(o.a)(Object(o.a)({},C),{},{email:e.target.value}))},required:!0}),Object(b.jsx)("input",{type:"password",placeholder:"Enter your Password",name:"password",value:C.password,onChange:function(e){return E(Object(o.a)(Object(o.a)({},C),{},{password:e.target.value}))},autoComplete:"on",required:!0}),h?Object(b.jsx)("p",{className:"alert-form",children:h}):null,Object(b.jsx)("button",{type:"submit",value:"Submit",children:"Log In"})]}):Object(b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),x.password===x.confirm){A(!0);var n={email:x.email,name:x.name,birthday:x.birthday,password:x.password};fetch("http://localhost:4000/api/singup",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){e.message?m(e.message):t(u(e.auth))})).catch((function(e){return console.log(e)}))}else A(!1)},children:[Object(b.jsx)("input",{type:"email",placeholder:"Enter your Email",name:"email",value:x.email,onChange:function(e){return N(Object(o.a)(Object(o.a)({},x),{},{email:e.target.value}))},required:!0}),Object(b.jsx)("input",{type:"text",placeholder:"Enter your Name",name:"name",value:x.name,onChange:function(e){return N(Object(o.a)(Object(o.a)({},x),{},{name:e.target.value}))},required:!0}),Object(b.jsx)("input",{type:f,onFocus:function(){return v("date")},onBlur:function(){return v("text")},placeholder:"Enter your Birthday",name:"birthday",value:x.birthday,onChange:function(e){return N(Object(o.a)(Object(o.a)({},x),{},{birthday:e.target.value}))},required:!0}),Object(b.jsx)("input",{type:"password",placeholder:"Enter your Password",name:"password",value:x.password,onChange:function(e){return N(Object(o.a)(Object(o.a)({},x),{},{password:e.target.value}))},required:!0,autoComplete:"off"}),Object(b.jsx)("input",{type:"password",placeholder:"Confirm Password",name:"confim",value:x.confirm,onChange:function(e){return N(Object(o.a)(Object(o.a)({},x),{},{confirm:e.target.value}))},required:!0,autoComplete:"off"}),D?Object(b.jsx)("p",{}):Object(b.jsx)("p",{className:"alert-form",children:"Passwords don't match"}),h?Object(b.jsx)("p",{className:"alert-form",children:h}):null,Object(b.jsx)("button",{type:"submit",children:"Sing Up"})]}),Object(b.jsxs)("div",{className:"form-container",children:[e,Object(b.jsx)("p",{children:"or"}),Object(b.jsx)("p",{className:"red",onClick:function(){s("logIn"===r?"singUp":"logIn")},children:"logIn"===r?"Sing Up":"Log In"})]})}n(26);function m(e){var t=e.setShowRecover,n=Object(a.useState)(""),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(""),l=Object(i.a)(o,2),d=l[0],u=l[1];return Object(b.jsx)("div",{className:"recover-container",children:Object(b.jsxs)("div",{className:"recover",children:[Object(b.jsx)("img",{src:"img/exit.svg",alt:"close",onClick:function(){return t(!1)}}),Object(b.jsx)("h3",{children:"Enter your email to recover your password"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u("Loading..."),fetch("http://localhost:4000/recover",{method:"POST",body:JSON.stringify({email:r}),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){u(e.message)})),s("")},children:[Object(b.jsx)("input",{type:"email",placeholder:"Email",name:"email",value:r,onChange:function(e){return s(e.target.value)},required:!0}),Object(b.jsx)("button",{type:"submit",children:"Submit"})]}),Object(b.jsx)("p",{children:d}),Object(b.jsx)("p",{children:"You are going to receive an email with a link to recover your password, this link is valid for 24hs."})]})})}function O(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(b.jsxs)("div",{className:"main-container",children:[n?Object(b.jsx)(m,{setShowRecover:c}):null,Object(b.jsxs)("header",{style:{backgroundImage:"url(/img/header.svg)"},children:[Object(b.jsx)("img",{src:"img/logo1.svg",alt:"Happy Day"}),Object(b.jsx)("h2",{children:"Birthdays and Anniversaries Reminder"})]}),Object(b.jsxs)("main",{children:[Object(b.jsx)(h,{}),Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("h3",{children:"Start in 3 simple steps:"}),Object(b.jsxs)("div",{className:"step",children:[Object(b.jsx)("div",{className:"num",children:"1"}),Object(b.jsx)("p",{children:"Sing up or log in."})]}),Object(b.jsxs)("div",{className:"step",children:[Object(b.jsx)("div",{className:"num",children:"2"}),Object(b.jsx)("p",{children:"Add the birthdays or anniversaries of your friends and family."})]}),Object(b.jsxs)("div",{className:"step",children:[Object(b.jsx)("div",{className:"num",children:"3"}),Object(b.jsx)("p",{children:"Allows the application to send notifications (You will also receive the reminders in your email)."})]})]})]}),Object(b.jsx)("footer",{style:{backgroundImage:"url(/img/footer.svg)"},children:Object(b.jsxs)("p",{children:["Forgot Your Password? ",Object(b.jsx)("span",{className:"red",onClick:function(){return c(!0)},children:"Recover it"})]})})]})}n(27);function p(){return Object(b.jsxs)("div",{className:"loading-container",children:[Object(b.jsx)("img",{src:"img/logo1.svg",alt:"Happy Day",className:"loading-logo"}),Object(b.jsxs)("div",{className:"wheel-container",children:[Object(b.jsx)("img",{src:"img/loading.svg",alt:"loading",className:"loading-wheel"}),Object(b.jsx)("p",{children:"Loading..."})]})]})}n(13);var f="UPDATE_CALENDAR",v=function(e){return function(t){t({type:f,payload:e})}},y="SET_MESSAGE",g=function(e){return function(t){t({type:y,payload:e})}},x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var e=Object(j.b)(),t=Object(a.useState)({event:"birthday",type:"",day:"",month:x[0],year:"",personName:"",reminders:[{title:"The Same Day",date:""}]}),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)({timeBefore:"same-day",numBefore:""}),l=Object(i.a)(s,2),d=l[0],h=l[1];return Object(b.jsxs)("form",{className:"card-form",onSubmit:function(t){return function(t){t.preventDefault(),e(g(""));var n={event:c.event,type:c.type,date:new Date("".concat(c.month," ").concat(c.day," ").concat(""===c.year?"9999":c.year)),personName:c.personName,reminders:[]},a=c.reminders.map((function(e){var t={title:e.title};if("The Same Day"===e.title)t.date=n.date;else{var a=e.title.split(" ",2),c=n.date.getTime(),r=864e5;"Days"===a[1]?t.date=new Date(c-r*a[0]):t.date=new Date(c-6048e5*a[0])}return t}));n=Object(o.a)(Object(o.a)({},n),{},{reminders:a}),fetch("http://localhost:4000/api/add",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){!1===t.auth?e(u(t.auth)):(e(g(t.message)),e(v(!0)))})).catch((function(e){return console.log(e)})),r({event:"birthday",type:"",day:"",month:x[0],year:"",personName:"",reminders:[{title:"The Same Day",date:""}]})}(t)},children:[Object(b.jsxs)("div",{className:"grup",children:[Object(b.jsxs)("div",{className:"label",children:[Object(b.jsx)("label",{htmlFor:"event",children:"Event"}),Object(b.jsxs)("select",{name:"event",id:"event",onChange:function(e){return r(Object(o.a)(Object(o.a)({},c),{},{event:e.target.value}))},value:c.event,required:!0,children:[Object(b.jsx)("option",{value:"birthday",children:"Birthday"}),Object(b.jsx)("option",{value:"anniversary",children:"Anniversary"})]})]}),"anniversary"===c.event?Object(b.jsxs)("div",{className:"label",children:[Object(b.jsx)("label",{htmlFor:"type",children:"Type"}),Object(b.jsx)("input",{type:"text",name:"type",id:"type",onChange:function(e){return r(Object(o.a)(Object(o.a)({},c),{},{type:e.target.value}))},value:c.type})]}):null]}),Object(b.jsxs)("div",{className:"grup",children:[Object(b.jsxs)("div",{className:"label",children:[Object(b.jsx)("label",{htmlFor:"day",children:"Day"}),Object(b.jsx)("input",{className:"day",id:"day",type:"number",name:"day",min:"1",max:"31",step:"1",onChange:function(e){return r(Object(o.a)(Object(o.a)({},c),{},{day:e.target.value}))},value:c.day,required:!0})]}),Object(b.jsxs)("div",{className:"label",children:[Object(b.jsx)("label",{htmlFor:"month",children:"Month"}),Object(b.jsx)("select",{name:"month",id:"month",onChange:function(e){return r(Object(o.a)(Object(o.a)({},c),{},{month:e.target.value}))},value:c.month,required:!0,children:x.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))})]}),Object(b.jsxs)("div",{className:"label",children:[Object(b.jsx)("label",{htmlFor:"year",children:"Year"}),Object(b.jsx)("input",{className:"year",id:"year",type:"number",name:"year",placeholder:"any",max:"9999",onChange:function(e){return r(Object(o.a)(Object(o.a)({},c),{},{year:e.target.value}))},value:c.year})]})]}),Object(b.jsxs)("div",{className:"label",children:[Object(b.jsx)("label",{htmlFor:"name",children:"Name"}),Object(b.jsx)("input",{type:"text",id:"name",name:"name",onChange:function(e){return r(Object(o.a)(Object(o.a)({},c),{},{personName:e.target.value}))},value:c.personName,required:!0})]}),Object(b.jsxs)("div",{className:"grup",children:[Object(b.jsxs)("div",{className:"grup",children:[Object(b.jsx)("label",{htmlFor:"time-before",children:"Add Reminders"}),Object(b.jsxs)("select",{name:"time-before",id:"time-before",onChange:function(e){return h(Object(o.a)(Object(o.a)({},d),{},{timeBefore:e.target.value}))},value:d.timeBefore,children:[Object(b.jsx)("option",{value:"same-day",children:"The Same Day"}),Object(b.jsx)("option",{value:"days-before",children:"Days Before"}),Object(b.jsx)("option",{value:"weeks-before",children:"Weeks Before"})]}),"same-day"!==d.timeBefore?Object(b.jsx)("input",{className:"a-r-n",type:"number",name:"num-before",min:"1",step:"1","data-testid":"numBefore",onChange:function(e){return h(Object(o.a)(Object(o.a)({},d),{},{numBefore:e.target.value}))},value:d.numBefore}):null,Object(b.jsx)("button",{className:"a-r-b",onClick:function(e){return function(e){e.preventDefault();var t={title:"",date:""};switch(d.timeBefore){case"same-day":t.title="The Same Day";break;case"days-before":t.title="".concat(d.numBefore," Days Before");break;case"weeks-before":t.title="".concat(d.numBefore," Weeks Before")}var n=c.reminders;n.push(t),r(Object(o.a)(Object(o.a)({},c),{},{reminders:n}))}(e)},children:"Add"})]}),Object(b.jsx)("ul",{className:"reminders",children:c.reminders.map((function(e,t){return Object(b.jsxs)("li",{children:[e.title," ",Object(b.jsx)("img",{src:"img/drop.svg",alt:"drop",onClick:function(){return function(e){var t=c.reminders;t.splice(e,1),r(Object(o.a)(Object(o.a)({},c),{},{reminders:t}))}(t)}})]},t)}))})]}),Object(b.jsx)("div",{className:"card-form-submit",children:Object(b.jsx)("button",{type:"submit",children:"Add Event"})})]})}var w=n(8),S="SHOW_NONE",C="SHOW_EDIT",E="SHOW_HELP",T="SHOW_ADD",k="SHOW_SEARCH",D="SHOW_SETTINGS",A=function(){return function(e){e({type:S,payload:"none"})}},F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function B(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.edit.event})),n=Object(j.c)((function(e){return e.showCard.card})),c=Object(a.useState)({event:t.type,type:t.AnniversaryType,day:new Date(t.date).getDate(),month:F[new Date(t.date).getMonth()],year:new Date(t.date).getFullYear()>9e3?"":new Date(t.date).getFullYear(),personName:t.personName,reminders:t.reminders}),r=Object(i.a)(c,2),s=r[0],l=r[1];Object(a.useEffect)((function(){l({event:t.type,type:t.AnniversaryType,day:new Date(t.date).getDate(),month:F[new Date(t.date).getMonth()],year:new Date(t.date).getFullYear()>9e3?"":new Date(t.date).getFullYear(),personName:t.personName,reminders:t.reminders})}),[t,n]);var d=Object(a.useState)({timeBefore:"same-day",numBefore:""}),h=Object(i.a)(d,2),m=h[0],O=h[1];return Object(b.jsxs)("form",{className:"card-form",onSubmit:function(n){return function(n){n.preventDefault(),e(g(""));var a={event:s.event,type:"birthday"===s.event?"":s.type,date:new Date("".concat(s.month," ").concat(s.day," ").concat(""===s.year?"9999":s.year)),personName:s.personName,reminders:[],removeReminders:s.removeReminders?s.removeReminders:[],_id:t._id},c=s.reminders.map((function(e){var n={name:e.name,event:t._id,date:e.date?e.date:null,_id:e._id?e._id:null};if(!n.date)if("The Same Day"===e.name)n.date=a.date;else{var c=e.name.split(" ",2),r=a.date.getTime(),s=864e5;"Days"===c[1]?n.date=new Date(r-s*c[0]):n.date=new Date(r-6048e5*c[0])}return n}));a=Object(o.a)(Object(o.a)({},a),{},{reminders:c}),fetch("http://localhost:4000/api/edit",{method:"PUT",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){!1===t.auth?e(u(t.auth)):(e(g(t.message)),"Event Edited"===t.message&&e(v(!0)))})).catch((function(e){return console.log(e)})),e(A())}(n)},children:[Object(b.jsxs)("div",{className:"grup",children:[Object(b.jsxs)("div",{className:"label",children:[Object(b.jsx)("label",{htmlFor:"editEvent",children:"Event"}),Object(b.jsxs)("select",{name:"editEvent",id:"editEvent",onChange:function(e){return l(Object(o.a)(Object(o.a)({},s),{},{event:e.target.value}))},value:s.event,required:!0,children:[Object(b.jsx)("option",{value:"birthday",children:"Birthday"}),Object(b.jsx)("option",{value:"anniversary",children:"Anniversary"})]})]}),"anniversary"===s.event?Object(b.jsxs)("div",{className:"label",children:[Object(b.jsx)("label",{htmlFor:"editType",children:"Type"}),Object(b.jsx)("input",{type:"text",name:"editType",id:"editType",onChange:function(e){return l(Object(o.a)(Object(o.a)({},s),{},{type:e.target.value}))},value:s.type})]}):null]}),Object(b.jsxs)("div",{className:"grup",children:[Object(b.jsxs)("div",{className:"label",children:[Object(b.jsx)("label",{htmlFor:"editDay",children:"Day"}),Object(b.jsx)("input",{className:"day",type:"number",name:"editDay",id:"editDay",min:"1",max:"31",step:"1",onChange:function(e){return l(Object(o.a)(Object(o.a)({},s),{},{day:e.target.value}))},value:s.day,required:!0})]}),Object(b.jsxs)("div",{className:"label",children:[Object(b.jsx)("label",{htmlFor:"editMonth",children:"Month"}),Object(b.jsx)("select",{name:"editMonth",id:"editMonth",onChange:function(e){return l(Object(o.a)(Object(o.a)({},s),{},{month:e.target.value}))},value:s.month,required:!0,children:F.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))})]}),Object(b.jsxs)("div",{className:"label",children:[Object(b.jsx)("label",{htmlFor:"editYear",children:"Year"}),Object(b.jsx)("input",{className:"year",type:"number",name:"editYear",id:"editYear",placeholder:"any",max:"9999",onChange:function(e){return l(Object(o.a)(Object(o.a)({},s),{},{year:e.target.value}))},value:s.year})]})]}),Object(b.jsxs)("div",{className:"label",children:[Object(b.jsx)("label",{htmlFor:"editName",children:"Name"}),Object(b.jsx)("input",{type:"text",name:"editName",id:"editName",onChange:function(e){return l(Object(o.a)(Object(o.a)({},s),{},{personName:e.target.value}))},value:s.personName,required:!0})]}),Object(b.jsxs)("div",{className:"grup",children:[Object(b.jsxs)("div",{className:"grup",children:[Object(b.jsx)("label",{htmlFor:"time-before-edit",children:"Add Reminders"}),Object(b.jsxs)("select",{name:"time-before-edit",id:"time-before-edit",onChange:function(e){return O(Object(o.a)(Object(o.a)({},m),{},{timeBefore:e.target.value}))},value:m.timeBefore,children:[Object(b.jsx)("option",{value:"same-day",children:"The Same Day"}),Object(b.jsx)("option",{value:"days-before",children:"Days Before"}),Object(b.jsx)("option",{value:"weeks-before",children:"Weeks Before"})]}),"same-day"!==m.timeBefore?Object(b.jsx)("input",{className:"a-r-n",type:"number",name:"num-before",min:"1",step:"1","data-testid":"num-before-test",onChange:function(e){return O(Object(o.a)(Object(o.a)({},m),{},{numBefore:e.target.value}))},value:m.numBefore}):null,Object(b.jsx)("button",{className:"a-r-b",onClick:function(e){return function(e){e.preventDefault();var t={name:"",date:""};switch(m.timeBefore){case"same-day":t.name="The Same Day";break;case"days-before":t.name="".concat(m.numBefore," Days Before");break;case"weeks-before":t.name="".concat(m.numBefore," Weeks Before")}var n=Object(w.a)(s.reminders);n.push(t),l(Object(o.a)(Object(o.a)({},s),{},{reminders:n}))}(e)},children:"Add"})]}),Object(b.jsx)("ul",{className:"reminders",children:s.reminders.map((function(e,t){return Object(b.jsxs)("li",{children:[e.name," ",Object(b.jsx)("img",{src:"img/drop.svg",alt:"drop",onClick:function(){return function(e){var t=Object(w.a)(s.reminders),n=t.splice(e,1);if(s.removeReminders){var a=s.removeReminders;a.push(n[0]._id),l(Object(o.a)(Object(o.a)({},s),{},{reminders:t,removeReminders:a}))}else l(Object(o.a)(Object(o.a)({},s),{},{reminders:t,removeReminders:[n[0]._id]}))}(t)}})]},t)}))})]}),Object(b.jsxs)("div",{className:"card-form-submit drop",children:[Object(b.jsx)("button",{type:"submit",children:"Edit Event"}),Object(b.jsx)("button",{className:"btn-drop",onClick:function(n){return function(n){n.preventDefault(),e(g(""));var a={eventId:t._id,remindersId:[]};t.reminders.forEach((function(e){a.remindersId.push(e._id)})),fetch("http://localhost:4000/api/delete",{method:"DELETE",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){!1===t.auth?e(u(t.auth)):(e(g(t.message)),e(v(!0)))})).catch((function(e){return console.log(e)})),e(A())}(n)},children:Object(b.jsxs)("svg",{className:"btn-drop-img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12.18 13.92",children:[Object(b.jsx)("defs",{}),Object(b.jsx)("title",{children:"drop"}),Object(b.jsx)("g",{id:"Layer_2","data-name":"Layer 2",children:Object(b.jsx)("g",{id:"Layer_2-2","data-name":"Layer 2",children:Object(b.jsx)("path",{className:"cls-1",d:"M.87,12.61a1.31,1.31,0,0,0,1.3,1.31H10a1.31,1.31,0,0,0,1.31-1.31h0V3.48H.87Zm7.39-7a.44.44,0,0,1,.44-.43.43.43,0,0,1,.43.43v6.09a.44.44,0,0,1-.43.44.44.44,0,0,1-.44-.44Zm-2.61,0a.44.44,0,0,1,.44-.43.43.43,0,0,1,.43.43v6.09a.44.44,0,0,1-.43.44.44.44,0,0,1-.44-.44ZM3,5.65a.44.44,0,0,1,.44-.43.43.43,0,0,1,.43.43v6.09a.44.44,0,0,1-.43.44A.44.44,0,0,1,3,11.74ZM11.74.87H8.48L8.23.36A.66.66,0,0,0,7.64,0H4.53A.66.66,0,0,0,4,.36L3.7.87H.43A.43.43,0,0,0,0,1.3v.87a.44.44,0,0,0,.43.44H11.74a.44.44,0,0,0,.44-.44V1.3A.44.44,0,0,0,11.74.87Z"})})})]})})]})]})}function I(){return Object(b.jsx)("div",{className:"card-form",children:Object(b.jsxs)("ul",{className:"help",children:[Object(b.jsx)("li",{children:"click on an event to edit it or delete it"}),Object(b.jsxs)("li",{children:["click on ",Object(b.jsx)("img",{src:"img/add.svg",alt:"add"})," to add a new event"]}),Object(b.jsxs)("li",{children:["click on ",Object(b.jsx)("img",{src:"img/search.svg",alt:"search"})," to search an event"]}),Object(b.jsxs)("li",{children:["click on ",Object(b.jsx)("img",{src:"img/settings.svg",alt:"settings"})," to edit notifications settings"]}),Object(b.jsx)("li",{children:"click on the months icons to go to a specific month"}),Object(b.jsxs)("li",{children:["click on ",Object(b.jsx)("img",{src:"img/logout.svg",alt:"logout"})," to logout"]})]})})}var _="SET_SEARCH_FILTERS";function M(){var e=Object(a.useState)({from:"",to:"",name:"",type:"any"}),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(j.b)(),s=function(e){var t;e.preventDefault(),r((t=n,function(e){e({type:_,payload:t})})),r(A()),c({from:"",to:"",name:"",type:"any"})};return Object(b.jsxs)("form",{className:"card-form",onSubmit:function(e){return s(e)},children:[Object(b.jsxs)("div",{className:"grup",children:[Object(b.jsxs)("div",{className:"label",children:[Object(b.jsx)("label",{htmlFor:"from",children:"From"}),Object(b.jsx)("input",{className:"form-to",id:"from",type:"text",placeholder:"mm/dd",pattern:"\\d{2}/\\d{2}",value:n.from,onChange:function(e){return c(Object(o.a)(Object(o.a)({},n),{},{from:e.target.value}))}})]}),Object(b.jsxs)("div",{className:"label",children:[Object(b.jsx)("label",{htmlFor:"to",children:"To"}),Object(b.jsx)("input",{className:"form-to",type:"text",id:"to",placeholder:"mm/dd",pattern:"\\d{2}/\\d{2}",value:n.to,onChange:function(e){return c(Object(o.a)(Object(o.a)({},n),{},{to:e.target.value}))}})]})]}),Object(b.jsxs)("div",{className:"label",children:[Object(b.jsx)("label",{htmlFor:"searchName",children:"Name"}),Object(b.jsx)("input",{type:"text",placeholder:"any",id:"searchName",value:n.name,onChange:function(e){return c(Object(o.a)(Object(o.a)({},n),{},{name:e.target.value}))}})]}),Object(b.jsxs)("div",{className:"label",children:[Object(b.jsx)("label",{htmlFor:"searchType",children:"Type"}),Object(b.jsxs)("select",{name:"searchType",id:"searchType",value:n.type,onChange:function(e){return c(Object(o.a)(Object(o.a)({},n),{},{type:e.target.value}))},required:!0,children:[Object(b.jsx)("option",{value:"any",children:"Any"}),Object(b.jsx)("option",{value:"birthday",children:"Birthday"}),Object(b.jsx)("option",{value:"anniversary",children:"Anniversary"})]})]}),Object(b.jsx)("div",{className:"card-form-submit",children:Object(b.jsx)("button",{type:"submit",children:"Search"})})]})}var L=n(5),U=n.n(L),R=n(6),H="BKyP2ldVQRindSkOeqb8Sl-oZG3br49DaDCGYPGw4rEu9tFbF1t1rG9rEjRbBfbAPnFhZNHLTw8rZ0XzfyMQkqE";function J(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(t),a=new Uint8Array(n.length),c=0;c<n.length;++c)a[c]=n.charCodeAt(c);return a}function P(){return q.apply(this,arguments)}function q(){return(q=Object(R.a)(U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return G.apply(this,arguments)}function G(){return(G=Object(R.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready;case 2:return t=e.sent,e.next=5,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:J(H)});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(R.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:4000/api/noti-sub",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V="SET_EMIAL_NOTIFICATION",K="SET_TOGGLE_EMAIL_NOTIFICATION";function Q(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.emailNotification.activate})),n=function(){e((function(e){e({type:K})})),fetch("http://localhost:4000/api/emailNotification",{method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){!1===t.auth&&e(u(t.auth))})).catch((function(e){return console.log(e)}))},a=function(){var t=Object(R.a)(U.a.mark((function t(){var n,a;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!("serviceWorker"in navigator)||!("PushManager"in window)){t.next=19;break}return navigator.serviceWorker.register("/sw.js"),t.next=5,P();case 5:if("granted"!==t.sent){t.next=16;break}return t.next=9,Y();case 9:return n=t.sent,t.next=12,W(n);case 12:!1===(a=t.sent).auth?e(u(a.auth)):(e(g("Notifications Activated")),console.log(a)),t.next=17;break;case 16:e(g("Something went wrong, check your browser's notification settings and try again"));case 17:t.next=20;break;case 19:e(g("Notifications are not supported by your browser"));case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(0),t.t0&&console.log(t.t0);case 25:case"end":return t.stop()}}),t,null,[[0,22]])})));return function(){return t.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"card-form",children:[Object(b.jsxs)("div",{className:"label-st",children:[Object(b.jsx)("label",{htmlFor:"emialSettings",children:"Email Notifications"}),Object(b.jsxs)("div",{className:"switch-btn-container",children:[Object(b.jsx)("p",{children:"on/off"}),Object(b.jsx)("div",{className:"switch-btn",name:"emialSettings","data-testid":"emialSettings",onClick:function(){return n()},children:Object(b.jsx)("div",{className:t?"switch-btn-int":"switch-btn-int eOff"})})]})]}),Object(b.jsxs)("div",{className:"label",children:[Object(b.jsx)("label",{htmlFor:"browser",children:"Browser Notifications"}),Object(b.jsx)("button",{className:"a-r-b",style:{padding:"5px 10px"},onClick:function(){return a()},children:"Activate"})]})]})}function z(){var e=Object(j.c)((function(e){return e.showCard.card})),t=Object(j.b)(),n=Object(a.useState)(!1),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(""),l=Object(i.a)(o,2),d=l[0],u=l[1],h=Object(a.useState)(Object(b.jsx)(N,{})),m=Object(i.a)(h,2),O=m[0],p=m[1];Object(a.useEffect)((function(){var t=document.getElementById("card"),n=window.getComputedStyle(t,null).transform;s((function(e){return!e})),"none"===n&&"none"!==e?(s(!1),setTimeout((function(){f(e),s(!0)}),500)):"none"!==n&&"none"!==e&&f(e),"none"===e&&s(!1)}),[e]);var f=function(e){switch(e){case"add":u("Add Event"),p(Object(b.jsx)(N,{}));break;case"search":u("Search Event"),p(Object(b.jsx)(M,{}));break;case"settings":u("Settings"),p(Object(b.jsx)(Q,{}));break;case"help":u("Help"),p(Object(b.jsx)(I,{}));break;case"edit":u("Edit Event"),p(Object(b.jsx)(B,{}))}};return Object(b.jsxs)("div",{className:r?"toolbar-card":"toolbar-card off",id:"card",children:[Object(b.jsxs)("div",{className:"card-header",children:[Object(b.jsx)("h3",{children:d}),Object(b.jsx)("img",{src:"img/exit.svg",alt:"close card",onClick:function(){return t(A())}})]}),O]})}n(29);var X=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];function $(){var e=Object(a.useState)("alert"),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(b.jsxs)("header",{style:{backgroundImage:"url(/img/header.svg)"},className:"app-header",children:[Object(b.jsx)("img",{src:"img/logo2.svg",alt:"Happy Day Logo"}),Object(b.jsx)("div",{className:"month-btn-container",children:X.map((function(e,t){return Object(b.jsx)("div",{className:"month-btn "+e,onClick:function(){return function(e){var t=document.getElementById("month".concat(e));if(t){var n=window.pageYOffset||document.documentElement.scrollTop,a=t.getBoundingClientRect().top+n;window.scrollTo(0,a-200)}else c("show")}(t+1)},children:e},t)}))}),Object(b.jsx)("div",{className:n,onAnimationEnd:function(){return c("alert")},children:Object(b.jsx)("p",{children:"You don't have events this month"})})]})}n(30);function ee(){var e=Object(j.b)();return Object(b.jsxs)("footer",{className:"toolbar",children:[Object(b.jsx)("button",{className:"toolbar-btn",onClick:function(){return e((function(e){e({type:k,payload:"search"})}))},children:Object(b.jsx)("img",{src:"img/search.svg",alt:"search icon"})}),Object(b.jsx)("button",{className:"toolbar-btn",onClick:function(){return e((function(e){e({type:T,payload:"add"})}))},children:Object(b.jsx)("img",{src:"img/add.svg",alt:"add icon"})}),Object(b.jsx)("button",{className:"toolbar-btn",onClick:function(){return e((function(e){e({type:D,payload:"settings"})}))},children:Object(b.jsx)("img",{src:"img/settings.svg",alt:"settings icon"})}),Object(b.jsx)("button",{className:"toolbar-btn",children:Object(b.jsx)("img",{src:"img/help.svg",alt:"help icon",onClick:function(){return e((function(e){e({type:E,payload:"help"})}))}})}),Object(b.jsx)("button",{className:"toolbar-btn",onClick:function(){fetch("http://localhost:4000/api/logout",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){e(u(t.auth))})).catch((function(e){return console.log(e)}))},children:Object(b.jsx)("img",{src:"img/logout.svg",alt:"logout icon"})})]})}n(31),n(32);var te,ne="SET_EDIT",ae=["January","February","March","April","May","June","July","August","September","October","November","December"],ce=["#216b8e","#27a3a3","#149e84","#00ae4d","#69d503","#d6df24","#edc01c","#faa818","#f19616","#fd6126","#9458a9","#6258a2"];function re(){var e=Object(j.b)(),t=Object(a.useState)({}),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(j.c)((function(e){return e.searchFilters.filters})),l=Object(a.useState)({}),d=Object(i.a)(l,2),h=d[0],m=d[1],O=Object(a.useState)(!0),p=Object(i.a)(O,2),f=p[0],y=p[1],g=Object(j.c)((function(e){return e.updateCalendar.update})),x=Object(j.c)((function(e){return e.showCard.card})),N=Object(a.useCallback)((function(){fetch("http://localhost:4000/api/events",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){!1===t.auth?e(u(t.auth)):(r(t),y(!1))})).catch((function(e){return console.log(e)}))}),[e]);Object(a.useEffect)((function(){N()}),[N]),Object(a.useEffect)((function(){g&&(N(),e(v(!1)))}),[g,e,N]),Object(a.useEffect)((function(){var e,t,n,a,r={};if(s.from){var i=s.from.split("/");e=parseInt(i[0]),t=parseInt(i[1])}else e=0,t=0;if(s.to){var l=s.to.split("/");n=parseInt(l[0]),a=parseInt(l[1])}else n=99,a=99;var d,u=0;for(var j in c)if(j>=e&&j<=n)if(d=j,1===++u)for(var b in r[j]={},c[j])b>=t&&(r[j][b]=Object(w.a)(c[j][b]));else r[j]=Object(o.a)({},c[j]);for(var h in r[d])h>a&&delete r[d][h];if(s.name)for(var O in r){for(var p in r[O]){var f=r[O][p].filter((function(e){return new RegExp(s.name.toLowerCase(),"ig").test(e.personName)}));0===f.length?delete r[O][p]:r[O][p]=f}0===Object.keys(r[O]).length&&delete r[O]}if("any"!==s.type&&s.type)for(var v in r){for(var y in r[v]){var g=r[v][y].filter((function(e){return e.type===s.type}));0===g.length?delete r[v][y]:r[v][y]=g}0===Object.keys(r[v]).length&&delete r[v]}m(r)}),[s,c]);var S=function(e){var t=Date.now()-new Date(e).getTime(),n=Math.floor(t/31536e6);return n>0?"(".concat(n," years)"):""},E=function(t,n){var a;te&&(te.style.backgroundColor="transparent"),document.getElementById(t).style.backgroundColor="white",te=document.getElementById(t),e((function(e){e({type:C,payload:"edit"})})),e((a=n,function(e){e({type:ne,payload:a})}))};return Object(a.useEffect)((function(){"none"===x&&te&&(te.style.backgroundColor="transparent")}),[x]),Object(b.jsx)("div",{className:"calendar",children:Object.keys(c).length>0&&!f?Object.keys(h||c).map((function(e,t){return Object(b.jsxs)("div",{className:"month-container",id:"month"+e,children:[Object(b.jsx)("div",{className:"month-header",style:{backgroundColor:ce[e-1]},children:Object(b.jsx)("h2",{children:ae[e-1]})}),Object.keys(h?h[e]:c[e]).map((function(t,n){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"day-constainer",children:[Object(b.jsx)("h2",{style:{color:ce[e-1]},children:t}),Object(b.jsx)("div",{className:"events-container",children:(h?h[e][t]:c[e][t]).map((function(n,a){return Object(b.jsx)("div",{className:"event-container",id:"event-".concat(e,"-").concat(t,"-").concat(a),onClick:function(){return E("event-".concat(e,"-").concat(t,"-").concat(a),n)},children:Object(b.jsx)("p",{children:"".concat(n.personName," ").concat(n.AnniversaryType," ").concat(n.type," ").concat(S(n.date))})},a)}))})]}),Object(b.jsx)("hr",{className:"divition"})]},n)}))]},t)})):f?Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"loading-wheel claendar-wheel",viewBox:"0 0 117.49 124.88",width:"100",height:"100",children:[Object(b.jsx)("defs",{}),Object(b.jsx)("title",{children:"loading"}),Object(b.jsx)("g",{id:"Layer_2","data-name":"Layer 2",children:Object(b.jsx)("g",{id:"Layer_1-2","data-name":"Layer 1",children:Object(b.jsx)("path",{d:"M78.84,18.33a49.61,49.61,0,0,0-28.75-2.12A50.63,50.63,0,0,0,24.57,30.68,51.5,51.5,0,0,0,11.19,57.34a52.14,\r 52.14,0,0,0,3.75,30.08,53.12,53.12,0,0,0,20.17,23.31A54.11,54.11,0,0,0,65.32,119a55.21,55.21,0,0,0,50-35.61,\r 1.12,1.12,0,0,1,1.45-.65,1.14,1.14,0,0,1,.67,1.4,58.76,58.76,0,0,1-19.55,28A59.79,59.79,0,0,1,65.63,124.7a60.64,\r 60.64,0,0,1-34.29-7.6A61.34,61.34,0,0,1,6.71,91.36,62.19,62.19,0,0,1,.46,55.78,63.25,63.25,0,0,1,15.23,22.27,\r 64.12,64.12,0,0,1,46.56,2.37a64.82,64.82,0,0,1,37.61.88l.08,0a8,8,0,0,1-5,15.2Z"})})})]}):Object(b.jsx)("div",{className:"any-container",children:Object(b.jsxs)("div",{className:"any",children:[Object(b.jsx)("h2",{children:"You don't have any event"}),Object(b.jsx)("p",{children:"add one pressing "}),Object(b.jsx)("img",{src:"img/add.svg",alt:"add"})]})})})}function se(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.message.text})),n=Object(a.useState)(!0),c=Object(i.a)(n,2),r=c[0],s=c[1];return Object(a.useEffect)((function(){r&&fetch("http://localhost:4000/api/emailNotification",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){var n;!1===t.auth?e(u(t.auth)):(e((n=t.mailNotification,function(e){e({type:V,payload:n})})),s(!1))})).catch((function(e){return console.log(e)}))}),[r,e]),Object(b.jsxs)("div",{children:[Object(b.jsx)($,{}),Object(b.jsxs)("div",{className:"tool-card",children:[Object(b.jsx)(z,{}),Object(b.jsx)(ee,{})]}),Object(b.jsx)(re,{}),Object(b.jsx)(ie,{message:t})]})}function ie(e){var t=e.message,n=Object(a.useState)({display:"flex"}),c=Object(i.a)(n,2),r=c[0],s=c[1];return Object(a.useEffect)((function(){s(t?{display:"flex"}:{display:"none"})}),[t]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"message",onAnimationEnd:function(){return s({display:"none"})},style:r,children:Object(b.jsx)("p",{children:t})})})}var oe=n(9),le=n(16);var de=Object(oe.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:case d:return Object(o.a)(Object(o.a)({},e),{},{authData:null===t||void 0===t?void 0:t.payload});default:return e}},updateCalendar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{update:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(o.a)(Object(o.a)({},e),{},{update:t.payload});default:return e}},edit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{event:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(o.a)(Object(o.a)({},e),{},{event:t.payload});default:return e}},showCard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{card:"none"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:case S:case C:case T:case k:case D:return Object(o.a)(Object(o.a)({},e),{},{card:t.payload});default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(o.a)(Object(o.a)({},e),{},{text:t.payload});default:return e}},searchFilters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{filters:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(o.a)(Object(o.a)({},e),{},{filters:t.payload});default:return e}},emailNotification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{activate:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(o.a)(Object(o.a)({},e),{},{activate:t.payload});case K:return Object(o.a)(Object(o.a)({},e),{},{activate:!e.activate});default:return e}}});function ue(){var e=Object(j.c)((function(e){return e.auth.authData})),t=Object(j.b)();return Object(a.useEffect)((function(){void 0===e&&t((function(e){fetch("http://localhost:4000/api",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"},credentials:"include"}).then((function(e){return e.json()})).then((function(t){e({type:l,payload:t.auth})})).catch((function(e){return console.log(e)}))}))})),Object(b.jsx)(b.Fragment,{children:void 0===e?Object(b.jsx)(p,{}):e?Object(b.jsx)(se,{}):Object(b.jsx)(O,{})})}var je=function(){var e=Object(oe.d)(de,Object(oe.c)(Object(oe.a)(le.a)));return Object(b.jsx)(j.a,{store:e,children:Object(b.jsx)(ue,{})})};s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(je,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.3126c0da.chunk.js.map